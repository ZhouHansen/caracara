(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return mr}),n.d(e,"Collection",function(){return E}),n.d(e,"Iterable",function(){return br}),n.d(e,"Seq",function(){return G}),n.d(e,"Map",function(){return je}),n.d(e,"OrderedMap",function(){return vn}),n.d(e,"List",function(){return nn}),n.d(e,"Stack",function(){return kn}),n.d(e,"Set",function(){return Nn}),n.d(e,"OrderedSet",function(){return rr}),n.d(e,"Record",function(){return ur}),n.d(e,"Range",function(){return zn}),n.d(e,"Repeat",function(){return gr}),n.d(e,"is",function(){return ht}),n.d(e,"fromJS",function(){return yr}),n.d(e,"hash",function(){return yt}),n.d(e,"isImmutable",function(){return j}),n.d(e,"isCollection",function(){return m}),n.d(e,"isKeyed",function(){return b}),n.d(e,"isIndexed",function(){return w}),n.d(e,"isAssociative",function(){return k}),n.d(e,"isOrdered",function(){return N}),n.d(e,"isValueObject",function(){return ft}),n.d(e,"get",function(){return re}),n.d(e,"getIn",function(){return qn}),n.d(e,"has",function(){return ne}),n.d(e,"hasIn",function(){return Kn}),n.d(e,"merge",function(){return me}),n.d(e,"mergeDeep",function(){return be}),n.d(e,"mergeWith",function(){return _e}),n.d(e,"mergeDeepWith",function(){return Ae}),n.d(e,"remove",function(){return ie}),n.d(e,"removeIn",function(){return le}),n.d(e,"set",function(){return ae}),n.d(e,"setIn",function(){return ue}),n.d(e,"update",function(){return he}),n.d(e,"updateIn",function(){return se});var r=5,o=1<<r,i=o-1,a={};function s(t){t&&(t.value=!0)}function u(){}function c(t){return void 0===t.size&&(t.size=t.__iterate(f)),t.size}function l(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?c(t)+e:e}function f(){return!0}function h(t,e,n){return(0===t&&!y(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function d(t,e){return g(t,e,0)}function p(t,e){return g(t,e,e)}function g(t,e,n){return void 0===t?n:y(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function y(t){return t<0||0===t&&1/t===-1/0}var v="@@__IMMUTABLE_ITERABLE__@@";function m(t){return Boolean(t&&t[v])}var _="@@__IMMUTABLE_KEYED__@@";function b(t){return Boolean(t&&t[_])}var A="@@__IMMUTABLE_INDEXED__@@";function w(t){return Boolean(t&&t[A])}function k(t){return b(t)||w(t)}var E=function(t){return m(t)?t:G(t)},S=function(t){function e(t){return b(t)?t:$(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),x=function(t){function e(t){return w(t)?t:X(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),I=function(t){function e(t){return m(t)&&!k(t)?t:Z(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E);E.Keyed=S,E.Indexed=x,E.Set=I;var C="@@__IMMUTABLE_SEQ__@@";function O(t){return Boolean(t&&t[C])}var T="@@__IMMUTABLE_RECORD__@@";function B(t){return Boolean(t&&t[T])}function j(t){return m(t)||B(t)}var M="@@__IMMUTABLE_ORDERED__@@";function N(t){return Boolean(t&&t[M])}var D=0,L=1,R=2,P="function"===typeof Symbol&&Symbol.iterator,F="@@iterator",U=P||F,z=function(t){this.next=t};function q(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function Q(){return{value:void 0,done:!0}}function K(t){return!!V(t)}function H(t){return t&&"function"===typeof t.next}function W(t){var e=V(t);return e&&e.call(t)}function V(t){var e=t&&(P&&t[P]||t[F]);if("function"===typeof e)return e}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=D,z.VALUES=L,z.ENTRIES=R,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[U]=function(){return this};var Y=Object.prototype.hasOwnProperty;function J(t){return!(!Array.isArray(t)&&"string"!==typeof t)||t&&"object"===typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var G=function(t){function e(t){return null===t||void 0===t?ot():j(t)?t.toSeq():function(t){var e=st(t);if(e)return e;if("object"===typeof t)return new et(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[e?r-++o:o++];if(!1===t(i[1],i[0],this))break}return o}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,o=0;return new z(function(){if(o===r)return{value:void 0,done:!0};var i=n[e?r-++o:o++];return q(t,i[0],i[1])})}return this.__iteratorUncached(t,e)},e}(E),$=function(t){function e(t){return null===t||void 0===t?ot().toKeyedSeq():m(t)?b(t)?t.toSeq():t.fromEntrySeq():B(t)?t.toSeq():it(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(G),X=function(t){function e(t){return null===t||void 0===t?ot():m(t)?b(t)?t.entrySeq():t.toIndexedSeq():B(t)?t.toSeq().entrySeq():at(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(G),Z=function(t){function e(t){return(m(t)&&!k(t)?t:X(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(G);G.isSeq=O,G.Keyed=$,G.Set=Z,G.Indexed=X,G.prototype[C]=!0;var tt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[l(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,o=0;o!==r;){var i=e?r-++o:o++;if(!1===t(n[i],i,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,o=0;return new z(function(){if(o===r)return{value:void 0,done:!0};var i=e?r-++o:o++;return q(t,i,n[i])})},e}(X),et=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Y.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[e?o-++i:i++];if(!1===t(n[a],a,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length,i=0;return new z(function(){if(i===o)return{value:void 0,done:!0};var a=r[e?o-++i:i++];return q(t,a,n[a])})},e}($);et.prototype[M]=!0;var nt,rt=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=W(this._collection),r=0;if(H(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=W(this._collection);if(!H(n))return new z(Q);var r=0;return new z(function(){var e=n.next();return e.done?e:q(t,r++,e.value)})},e}(X);function ot(){return nt||(nt=new tt([]))}function it(t){var e=Array.isArray(t)?new tt(t):K(t)?new rt(t):void 0;if(e)return e.fromEntrySeq();if("object"===typeof t)return new et(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function at(t){var e=st(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function st(t){return J(t)?new tt(t):K(t)?new rt(t):void 0}var ut="@@__IMMUTABLE_MAP__@@";function ct(t){return Boolean(t&&t[ut])}function lt(t){return ct(t)&&N(t)}function ft(t){return Boolean(t&&"function"===typeof t.equals&&"function"===typeof t.hashCode)}function ht(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(ft(t)&&ft(e)&&t.equals(e))}var dt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function pt(t){return t>>>1&1073741824|3221225471&t}var gt=Object.prototype.valueOf;function yt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!==t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return pt(e)}(t);case"string":return t.length>Et?function(t){var e=It[t];void 0===e&&(e=vt(t),xt===St&&(xt=0,It={}),xt++,It[t]=e);return e}(t):vt(t);case"object":case"function":return null===t?1108378658:"function"===typeof t.hashCode?pt(t.hashCode(t)):(t.valueOf!==gt&&"function"===typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(At&&void 0!==(e=bt.get(t)))return e;if(void 0!==(e=t[kt]))return e;if(!_t){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++wt,1073741824&wt&&(wt=0);if(At)bt.set(t,e);else{if(void 0!==mt&&!1===mt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(_t)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[kt]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"===typeof t.toString)return vt(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function vt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return pt(e)}var mt=Object.isExtensible,_t=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var bt,At="function"===typeof WeakMap;At&&(bt=new WeakMap);var wt=0,kt="__immutablehash__";"function"===typeof Symbol&&(kt=Symbol(kt));var Et=16,St=255,xt=0,It={},Ct=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Nt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=Mt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e,r){return t(e,r,n)},e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}($);Ct.prototype[M]=!0;var Ot=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&c(this),this._iter.__iterate(function(o){return t(o,e?n.size-++r:r++,n)},e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(L,e),o=0;return e&&c(this),new z(function(){var i=r.next();return i.done?i:q(t,e?n.size-++o:o++,i.value,i)})},e}(X),Tt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(L,e);return new z(function(){var e=n.next();return e.done?e:q(t,e.value,e.value,e)})},e}(Z),Bt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Kt(e);var r=m(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(L,e);return new z(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Kt(r);var o=m(r);return q(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},e}($);function jt(t){var e=Wt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Vt,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===R){var r=t.__iterator(e,n);return new z(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===L?D:L,n)},e}function Mt(t,e,n){var r=Wt(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,a);return i===a?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(R,o);return new z(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return q(r,s,e.call(n,a[1],s,t),o)})},r}function Nt(t,e){var n=this,r=Wt(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=jt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=Vt,r.__iterate=function(n,r){var o=this,i=0;return r&&c(t),t.__iterate(function(t,a){return n(t,e?a:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&c(t);var a=t.__iterator(R,!o);return new z(function(){var t=a.next();if(t.done)return t;var s=t.value;return q(r,e?s[0]:o?n.size-++i:i++,s[1],t)})},r}function Dt(t,e,n,r){var o=Wt(t);return r&&(o.has=function(r){var o=t.get(r,a);return o!==a&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,a);return i!==a&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate(function(t,i,u){if(e.call(n,t,i,u))return s++,o(t,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(R,i),s=0;return new z(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return q(o,r?c:s++,l,i)}})},o}function Lt(t,e,n,r){var o=t.size;if(h(e,n,o))return t;var i=d(e,o),a=p(n,o);if(i!==i||a!==a)return Lt(t.toSeq().cacheResult(),e,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=Wt(t);return c.size=0===s?s:t.size&&s||void 0,!r&&O(t)&&s>=0&&(c.get=function(e,n){return(e=l(this,e))>=0&&e<s?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);if(0===s)return new z(Q);var o=t.__iterator(e,n),a=0,u=0;return new z(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var t=o.next();return r||e===L||t.done?t:q(e,u-1,e===D?void 0:t.value[1],t)})},c}function Rt(t,e,n,r){var o=Wt(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return t.__iterate(function(t,i,c){if(!s||!(s=e.call(n,t,i,c)))return u++,o(t,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(R,i),u=!0,c=0;return new z(function(){var t,i,l;do{if((t=s.next()).done)return r||o===L?t:q(o,c++,o===D?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],u&&(u=e.call(n,l,i,a))}while(u);return o===R?t:q(o,i,l,t)})},o}function Pt(t,e,n){var r=Wt(t);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function t(u,c){u.__iterate(function(i,u){return(!e||c<e)&&m(i)?t(i,c+1):(a++,!1===o(i,n?u:a-1,r)&&(s=!0)),!s},i)}(t,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=t.__iterator(r,o),a=[],s=0;return new z(function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(r===R&&(u=u[1]),e&&!(a.length<e)||!m(u))return n?t:q(r,s++,u,t);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}})},r}function Ft(t,e,n){e||(e=Yt);var r=b(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).valueSeq().toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?$(i):w(t)?X(i):Z(i)}function Ut(t,e,n){if(e||(e=Yt),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return zt(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return zt(e,t,n)?n:t})}function zt(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function qt(t,e,n,r){var o=Wt(t),i=new tt(n).map(function(t){return t.size});return o.size=r?i.max():i.min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(L,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=n.map(function(t){return t=E(t),W(o?t.reverse():t)}),a=0,s=!1;return new z(function(){var n;return s||(n=i.map(function(t){return t.next()}),s=r?n.every(function(t){return t.done}):n.some(function(t){return t.done})),s?{value:void 0,done:!0}:q(t,a++,e.apply(null,n.map(function(t){return t.value})))})},o}function Qt(t,e){return t===e?t:O(t)?e:t.constructor(e)}function Kt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ht(t){return b(t)?S:w(t)?x:I}function Wt(t){return Object.create((b(t)?$:w(t)?X:Z).prototype)}function Vt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):G.prototype.cacheResult.call(this)}function Yt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Jt(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function Gt(t,e){if(!t)throw new Error(e)}function $t(t){Gt(t!==1/0,"Cannot perform this action with an infinite size.")}function Xt(t){if(J(t)&&"string"!==typeof t)return t;if(N(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function Zt(t){return t&&("function"!==typeof t.constructor||"Object"===t.constructor.name)}function te(t){return"object"===typeof t&&(j(t)||Array.isArray(t)||Zt(t))}function ee(t){try{return"string"===typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ne(t,e){return j(t)?t.has(e):te(t)&&Y.call(t,e)}function re(t,e,n){return j(t)?t.get(e,n):ne(t,e)?"function"===typeof t.get?t.get(e):t[e]:n}function oe(t){if(Array.isArray(t))return Jt(t);var e={};for(var n in t)Y.call(t,n)&&(e[n]=t[n]);return e}function ie(t,e){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(j(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Y.call(t,e))return t;var n=oe(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function ae(t,e,n){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(j(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Y.call(t,e)&&n===t[e])return t;var r=oe(t);return r[e]=n,r}function se(t,e,n,r){r||(r=n,n=void 0);var o=function t(e,n,r,o,i,s){var u=n===a;if(o===r.length){var c=u?i:n,l=s(c);return l===c?n:l}if(!u&&!te(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(ee)+"]: "+n);var f=r[o];var h=u?a:re(n,f,a);var d=t(h===a?e:j(h),h,r,o+1,i,s);return d===h?n:d===a?ie(n,f):ae(u?e?Ke():{}:n,f,d)}(j(t),t,Xt(e),0,n,r);return o===a?n:o}function ue(t,e,n){return se(t,e,a,function(){return n})}function ce(t,e){return ue(this,t,e)}function le(t,e){return se(t,e,function(){return a})}function fe(t){return le(this,t)}function he(t,e,n,r){return se(t,[e],n,r)}function de(t,e,n){return 1===arguments.length?t(this):he(this,t,e,n)}function pe(t,e,n){return se(this,t,e,n)}function ge(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ve(this,t)}function ye(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!==typeof t)throw new TypeError("Invalid merger function: "+t);return ve(this,e,t)}function ve(t,e,n){for(var r=[],o=0;o<e.length;o++){var i=S(e[o]);0!==i.size&&r.push(i)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var e=n?function(e,r){he(t,r,a,function(t){return t===a?e:n(t,e,r)})}:function(e,n){t.set(n,e)},o=0;o<r.length;o++)r[o].forEach(e)}):t.constructor(r[0])}function me(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ke(t,e)}function _e(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return ke(e,n,t)}function be(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return we(t,e)}function Ae(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return we(e,n,t)}function we(t,e,n){return ke(t,e,function(t){return function e(n,r,o){return te(n)&&te(r)?ke(n,[r],e):t?t(n,r,o):r}}(n))}function ke(t,e,n){if(!te(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(j(t))return"function"===typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),o=t,i=r?x:S,a=r?function(e){o===t&&(o=oe(o)),o.push(e)}:function(e,r){var i=Y.call(o,r),a=i&&n?n(o[r],e,r):e;i&&a===o[r]||(o===t&&(o=oe(o)),o[r]=a)},s=0;s<e.length;s++)i(e[s]).forEach(a);return o}function Ee(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return we(this,t)}function Se(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return we(this,e,t)}function xe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return se(this,t,Ke(),function(t){return ke(t,e)})}function Ie(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return se(this,t,Ke(),function(t){return we(t,e)})}function Ce(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Oe(){return this.__ownerID?this:this.__ensureOwner(new u)}function Te(){return this.__ensureOwner()}function Be(){return this.__altered}Ot.prototype.cacheResult=Ct.prototype.cacheResult=Tt.prototype.cacheResult=Bt.prototype.cacheResult=Vt;var je=function(t){function e(e){return null===e||void 0===e?Ke():ct(e)&&!N(e)?e:Ke().withMutations(function(n){var r=t(e);$t(r.size),r.forEach(function(t,e){return n.set(e,t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ke().withMutations(function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return He(this,t,e)},e.prototype.remove=function(t){return He(this,t,a)},e.prototype.deleteAll=function(t){var e=E(t);return 0===e.size?this:this.withMutations(function(t){e.forEach(function(e){return t.remove(e)})})},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ke()},e.prototype.sort=function(t){return vn(Ft(this,t))},e.prototype.sortBy=function(t,e){return vn(Ft(this,e,t))},e.prototype.map=function(t,e){return this.withMutations(function(n){n.forEach(function(r,o){n.set(o,t.call(e,r,o,n))})})},e.prototype.__iterator=function(t,e){return new Ue(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this.size,this._root,t,this.__hash):0===this.size?Ke():(this.__ownerID=t,this.__altered=!1,this)},e}(S);je.isMap=ct;var Me=je.prototype;Me[ut]=!0,Me.delete=Me.remove,Me.removeAll=Me.deleteAll,Me.setIn=ce,Me.removeIn=Me.deleteIn=fe,Me.update=de,Me.updateIn=pe,Me.merge=Me.concat=ge,Me.mergeWith=ye,Me.mergeDeep=Ee,Me.mergeDeepWith=Se,Me.mergeIn=xe,Me.mergeDeepIn=Ie,Me.withMutations=Ce,Me.wasAltered=Be,Me.asImmutable=Te,Me["@@transducer/init"]=Me.asMutable=Oe,Me["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Me["@@transducer/result"]=function(t){return t.asImmutable()};var Ne=function(t,e){this.ownerID=t,this.entries=e};Ne.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ht(n,o[i][0]))return o[i][1];return r},Ne.prototype.update=function(t,e,n,r,o,i,c){for(var l=o===a,f=this.entries,h=0,d=f.length;h<d&&!ht(r,f[h][0]);h++);var p=h<d;if(p?f[h][1]===o:l)return this;if(s(c),(l||!p)&&s(i),!l||1!==f.length){if(!p&&!l&&f.length>=$e)return function(t,e,n,r){t||(t=new u);for(var o=new Pe(t,yt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,f,r,o);var g=t&&t===this.ownerID,y=g?f:Jt(f);return p?l?h===d-1?y.pop():y[h]=y.pop():y[h]=[r,o]:y.push([r,o]),g?(this.entries=y,this):new Ne(t,y)}};var De=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};De.prototype.get=function(t,e,n,o){void 0===e&&(e=yt(n));var a=1<<((0===t?e:e>>>t)&i),s=this.bitmap;return 0===(s&a)?o:this.nodes[Je(s&a-1)].get(t+r,e,n,o)},De.prototype.update=function(t,e,n,s,u,c,l){void 0===n&&(n=yt(s));var f=(0===e?n:n>>>e)&i,h=1<<f,d=this.bitmap,p=0!==(d&h);if(!p&&u===a)return this;var g=Je(d&h-1),y=this.nodes,v=p?y[g]:void 0,m=We(v,t,e+r,n,s,u,c,l);if(m===v)return this;if(!p&&m&&y.length>=Xe)return function(t,e,n,r,i){for(var a=0,s=new Array(o),u=0;0!==n;u++,n>>>=1)s[u]=1&n?e[a++]:void 0;return s[r]=i,new Le(t,a+1,s)}(t,y,d,f,m);if(p&&!m&&2===y.length&&Ve(y[1^g]))return y[1^g];if(p&&m&&1===y.length&&Ve(m))return m;var _=t&&t===this.ownerID,b=p?m?d:d^h:d|h,A=p?m?Ge(y,g,m,_):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(y,g,_):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(y,g,m,_);return _?(this.bitmap=b,this.nodes=A,this):new De(t,b,A)};var Le=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};Le.prototype.get=function(t,e,n,o){void 0===e&&(e=yt(n));var a=(0===t?e:e>>>t)&i,s=this.nodes[a];return s?s.get(t+r,e,n,o):o},Le.prototype.update=function(t,e,n,o,s,u,c){void 0===n&&(n=yt(o));var l=(0===e?n:n>>>e)&i,f=s===a,h=this.nodes,d=h[l];if(f&&!d)return this;var p=We(d,t,e+r,n,o,s,u,c);if(p===d)return this;var g=this.count;if(d){if(!p&&--g<Ze)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new De(t,o,a)}(t,h,g,l)}else g++;var y=t&&t===this.ownerID,v=Ge(h,l,p,y);return y?(this.count=g,this.nodes=v,this):new Le(t,g,v)};var Re=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};Re.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ht(n,o[i][0]))return o[i][1];return r},Re.prototype.update=function(t,e,n,r,o,i,u){void 0===n&&(n=yt(r));var c=o===a;if(n!==this.keyHash)return c?this:(s(u),s(i),Ye(this,t,e,n,[r,o]));for(var l=this.entries,f=0,h=l.length;f<h&&!ht(r,l[f][0]);f++);var d=f<h;if(d?l[f][1]===o:c)return this;if(s(u),(c||!d)&&s(i),c&&2===h)return new Pe(t,this.keyHash,l[1^f]);var p=t&&t===this.ownerID,g=p?l:Jt(l);return d?c?f===h-1?g.pop():g[f]=g.pop():g[f]=[r,o]:g.push([r,o]),p?(this.entries=g,this):new Re(t,this.keyHash,g)};var Pe=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Pe.prototype.get=function(t,e,n,r){return ht(n,this.entry[0])?this.entry[1]:r},Pe.prototype.update=function(t,e,n,r,o,i,u){var c=o===a,l=ht(r,this.entry[0]);return(l?o===this.entry[1]:c)?this:(s(u),c?void s(i):l?t&&t===this.ownerID?(this.entry[1]=o,this):new Pe(t,this.keyHash,[r,o]):(s(i),Ye(this,t,e,yt(r),[r,o])))},Ne.prototype.iterate=Re.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},De.prototype.iterate=Le.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Pe.prototype.iterate=function(t,e){return t(this.entry)};var Fe,Ue=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&qe(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,o=void 0;if(n.entry){if(0===r)return ze(t,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return ze(t,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return ze(t,i.entry);e=this._stack=qe(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(z);function ze(t,e){return q(t,e[0],e[1])}function qe(t,e){return{node:t,index:0,__prev:e}}function Qe(t,e,n,r){var o=Object.create(Me);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ke(){return Fe||(Fe=Qe(0))}function He(t,e,n){var r,o;if(t._root){var i={value:!1},s={value:!1};if(r=We(t._root,t.__ownerID,0,void 0,e,n,i,s),!s.value)return t;o=t.size+(i.value?n===a?-1:1:0)}else{if(n===a)return t;o=1,r=new Ne(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Qe(o,r):Ke()}function We(t,e,n,r,o,i,u,c){return t?t.update(e,n,r,o,i,u,c):i===a?t:(s(c),s(u),new Pe(e,r,[o,i]))}function Ve(t){return t.constructor===Pe||t.constructor===Re}function Ye(t,e,n,o,a){if(t.keyHash===o)return new Re(e,o,[t.entry,a]);var s,u=(0===n?t.keyHash:t.keyHash>>>n)&i,c=(0===n?o:o>>>n)&i,l=u===c?[Ye(t,e,n+r,o,a)]:(s=new Pe(e,o,a),u<c?[t,s]:[s,t]);return new De(e,1<<u|1<<c,l)}function Je(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Ge(t,e,n,r){var o=r?t:Jt(t);return o[e]=n,o}var $e=o/4,Xe=o/2,Ze=o/4,tn="@@__IMMUTABLE_LIST__@@";function en(t){return Boolean(t&&t[tn])}var nn=function(t){function e(e){var n=ln();if(null===e||void 0===e)return n;if(en(e))return e;var i=t(e),a=i.size;return 0===a?n:($t(a),a>0&&a<o?cn(0,a,r,null,new on(i.toArray())):n.withMutations(function(t){t.setSize(a),i.forEach(function(e,n){return t.set(n,e)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=l(this,t))>=0&&t<this.size){var n=dn(this,t+=this._origin);return n&&n.array[t&i]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=l(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?pn(t,e).set(0,n):pn(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i={value:!1};e>=gn(t._capacity)?r=fn(r,t.__ownerID,0,e,n,i):o=fn(o,t.__ownerID,t._level,e,n,i);if(!i.value)return t;if(t.__ownerID)return t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return cn(t._origin,t._capacity,t._level,o,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ln()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){pn(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},e.prototype.pop=function(){return pn(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){pn(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},e.prototype.shift=function(){return pn(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var o=e[r],i=t("string"!==typeof o&&K(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(t){n.forEach(function(e){return e.forEach(function(e){return t.push(e)})})}):this.constructor(n[0])},e.prototype.setSize=function(t){return pn(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations(function(r){for(var o=0;o<n.size;o++)r.set(o,t.call(e,r.get(o),o,r))})},e.prototype.slice=function(t,e){var n=this.size;return h(t,e,n)?this:pn(this,d(t,n),p(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=un(this,e);return new z(function(){var o=r();return o===sn?{value:void 0,done:!0}:q(t,e?--n:n++,o)})},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,o=un(this,e);(n=o())!==sn&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?cn(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?ln():(this.__ownerID=t,this.__altered=!1,this)},e}(x);nn.isList=en;var rn=nn.prototype;rn[tn]=!0,rn.delete=rn.remove,rn.merge=rn.concat,rn.setIn=ce,rn.deleteIn=rn.removeIn=fe,rn.update=de,rn.updateIn=pe,rn.mergeIn=xe,rn.mergeDeepIn=Ie,rn.withMutations=Ce,rn.wasAltered=Be,rn.asImmutable=Te,rn["@@transducer/init"]=rn.asMutable=Oe,rn["@@transducer/step"]=function(t,e){return t.push(e)},rn["@@transducer/result"]=function(t){return t.asImmutable()};var on=function(t,e){this.array=t,this.ownerID=e};on.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var o=n>>>e&i;if(o>=this.array.length)return new on([],t);var a,s=0===o;if(e>0){var u=this.array[o];if((a=u&&u.removeBefore(t,e-r,n))===u&&s)return this}if(s&&!a)return this;var c=hn(this,t);if(!s)for(var l=0;l<o;l++)c.array[l]=void 0;return a&&(c.array[o]=a),c},on.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var o,a=n-1>>>e&i;if(a>=this.array.length)return this;if(e>0){var s=this.array[a];if((o=s&&s.removeAfter(t,e-r,n))===s&&a===this.array.length-1)return this}var u=hn(this,t);return u.array.splice(a+1),o&&(u.array[a]=o),u};var an,sn={};function un(t,e){var n=t._origin,i=t._capacity,a=gn(i),s=t._tail;return u(t._root,t._level,0);function u(t,c,l){return 0===c?function(t,r){var u=r===a?s&&s.array:t&&t.array,c=r>n?0:n-r,l=i-r;l>o&&(l=o);return function(){if(c===l)return sn;var t=e?--l:c++;return u&&u[t]}}(t,l):function(t,a,s){var c,l=t&&t.array,f=s>n?0:n-s>>a,h=1+(i-s>>a);h>o&&(h=o);return function(){for(;;){if(c){var t=c();if(t!==sn)return t;c=null}if(f===h)return sn;var n=e?--h:f++;c=u(l&&l[n],a-r,s+(n<<a))}}}(t,c,l)}}function cn(t,e,n,r,o,i,a){var s=Object.create(rn);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function ln(){return an||(an=cn(0,0,r))}function fn(t,e,n,o,a,u){var c,l=o>>>n&i,f=t&&l<t.array.length;if(!f&&void 0===a)return t;if(n>0){var h=t&&t.array[l],d=fn(h,e,n-r,o,a,u);return d===h?t:((c=hn(t,e)).array[l]=d,c)}return f&&t.array[l]===a?t:(u&&s(u),c=hn(t,e),void 0===a&&l===c.array.length-1?c.array.pop():c.array[l]=a,c)}function hn(t,e){return e&&t&&e===t.ownerID?t:new on(t?t.array.slice():[],e)}function dn(t,e){if(e>=gn(t._capacity))return t._tail;if(e<1<<t._level+r){for(var n=t._root,o=t._level;n&&o>0;)n=n.array[e>>>o&i],o-=r;return n}}function pn(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var o=t.__ownerID||new u,a=t._origin,s=t._capacity,c=a+e,l=void 0===n?s:n<0?s+n:a+n;if(c===a&&l===s)return t;if(c>=l)return t.clear();for(var f=t._level,h=t._root,d=0;c+d<0;)h=new on(h&&h.array.length?[void 0,h]:[],o),d+=1<<(f+=r);d&&(c+=d,a+=d,l+=d,s+=d);for(var p=gn(s),g=gn(l);g>=1<<f+r;)h=new on(h&&h.array.length?[h]:[],o),f+=r;var y=t._tail,v=g<p?dn(t,l-1):g>p?new on([],o):y;if(y&&g>p&&c<s&&y.array.length){for(var m=h=hn(h,o),_=f;_>r;_-=r){var b=p>>>_&i;m=m.array[b]=hn(m.array[b],o)}m.array[p>>>r&i]=y}if(l<s&&(v=v&&v.removeAfter(o,0,l)),c>=g)c-=g,l-=g,f=r,h=null,v=v&&v.removeBefore(o,0,c);else if(c>a||g<p){for(d=0;h;){var A=c>>>f&i;if(A!==g>>>f&i)break;A&&(d+=(1<<f)*A),f-=r,h=h.array[A]}h&&c>a&&(h=h.removeBefore(o,f,c-d)),h&&g<p&&(h=h.removeAfter(o,f,g-d)),d&&(c-=d,l-=d)}return t.__ownerID?(t.size=l-c,t._origin=c,t._capacity=l,t._level=f,t._root=h,t._tail=v,t.__hash=void 0,t.__altered=!0,t):cn(c,l,f,h,v)}function gn(t){return t<o?0:t-1>>>r<<r}var yn,vn=function(t){function e(t){return null===t||void 0===t?_n():lt(t)?t:_n().withMutations(function(e){var n=S(t);$t(n.size),n.forEach(function(t,n){return e.set(n,t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):_n()},e.prototype.set=function(t,e){return bn(this,t,e)},e.prototype.remove=function(t){return bn(this,t,a)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?mn(e,n,t,this.__hash):0===this.size?_n():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(je);function mn(t,e,n,r){var o=Object.create(vn.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function _n(){return yn||(yn=mn(Ke(),ln()))}function bn(t,e,n){var r,i,s=t._map,u=t._list,c=s.get(e),l=void 0!==c;if(n===a){if(!l)return t;u.size>=o&&u.size>=2*s.size?(r=(i=u.filter(function(t,e){return void 0!==t&&c!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=s.remove(e),i=c===u.size-1?u.pop():u.set(c,void 0))}else if(l){if(n===u.get(c)[1])return t;r=s,i=u.set(c,[e,n])}else r=s.set(e,u.size),i=u.set(u.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):mn(r,i)}vn.isOrderedMap=lt,vn.prototype[M]=!0,vn.prototype.delete=vn.prototype.remove;var An="@@__IMMUTABLE_STACK__@@";function wn(t){return Boolean(t&&t[An])}var kn=function(t){function e(t){return null===t||void 0===t?In():wn(t)?t:In().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=l(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):xn(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&wn(e))return e;$t(e.size);var n=this.size,r=this._head;return e.__iterate(function(t){n++,r={value:t,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):xn(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},e.prototype.slice=function(e,n){if(h(e,n,this.size))return this;var r=d(e,this.size);if(p(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):xn(o,i)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?xn(this.size,this._head,t,this.__hash):0===this.size?In():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new tt(this.toArray()).__iterate(function(e,r){return t(e,r,n)},e);for(var r=0,o=this._head;o&&!1!==t(o.value,r++,this);)o=o.next;return r},e.prototype.__iterator=function(t,e){if(e)return new tt(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new z(function(){if(r){var e=r.value;return r=r.next,q(t,n++,e)}return{value:void 0,done:!0}})},e}(x);kn.isStack=wn;var En,Sn=kn.prototype;function xn(t,e,n,r){var o=Object.create(Sn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function In(){return En||(En=xn(0))}Sn[An]=!0,Sn.shift=Sn.pop,Sn.unshift=Sn.push,Sn.unshiftAll=Sn.pushAll,Sn.withMutations=Ce,Sn.wasAltered=Be,Sn.asImmutable=Te,Sn["@@transducer/init"]=Sn.asMutable=Oe,Sn["@@transducer/step"]=function(t,e){return t.unshift(e)},Sn["@@transducer/result"]=function(t){return t.asImmutable()};var Cn="@@__IMMUTABLE_SET__@@";function On(t){return Boolean(t&&t[Cn])}function Tn(t){return On(t)&&N(t)}function Bn(t,e){if(t===e)return!0;if(!m(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||b(t)!==b(e)||w(t)!==w(e)||N(t)!==N(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!k(t);if(N(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&ht(o[1],t)&&(n||ht(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var s=!0,u=e.__iterate(function(e,r){if(n?!t.has(e):o?!ht(e,t.get(r,a)):!ht(t.get(r,a),e))return s=!1,!1});return s&&t.size===u}function jn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Mn(t){if(!t||"object"!==typeof t)return t;if(!m(t)){if(!te(t))return t;t=G(t)}if(b(t)){var e={};return t.__iterate(function(t,n){e[n]=Mn(t)}),e}var n=[];return t.__iterate(function(t){n.push(Mn(t))}),n}var Nn=function(t){function e(e){return null===e||void 0===e?Fn():On(e)&&!N(e)?e:Fn().withMutations(function(n){var r=t(e);$t(r.size),r.forEach(function(t){return n.add(t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(S(t).keySeq())},e.intersect=function(t){return(t=E(t).toArray()).length?Ln.intersect.apply(e(t.pop()),t):Fn()},e.union=function(t){return(t=E(t).toArray()).length?Ln.union.apply(e(t.pop()),t):Fn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Rn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Rn(this,this._map.remove(t))},e.prototype.clear=function(){return Rn(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,r=[],o=[];return this.forEach(function(i){var a=t.call(e,i,i,n);a!==i&&(r.push(i),o.push(a))}),this.withMutations(function(t){r.forEach(function(e){return t.remove(e)}),o.forEach(function(e){return t.add(e)})})},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach(function(t){return n.add(t)})}):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map(function(e){return t(e)});var r=[];return this.forEach(function(t){e.every(function(e){return e.includes(t)})||r.push(t)}),this.withMutations(function(t){r.forEach(function(e){t.remove(e)})})},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map(function(e){return t(e)});var r=[];return this.forEach(function(t){e.some(function(e){return e.includes(t)})&&r.push(t)}),this.withMutations(function(t){r.forEach(function(e){t.remove(e)})})},e.prototype.sort=function(t){return rr(Ft(this,t))},e.prototype.sortBy=function(t,e){return rr(Ft(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e){return t(e,e,n)},e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(I);Nn.isSet=On;var Dn,Ln=Nn.prototype;function Rn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Pn(t,e){var n=Object.create(Ln);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Fn(){return Dn||(Dn=Pn(Ke()))}Ln[Cn]=!0,Ln.delete=Ln.remove,Ln.merge=Ln.concat=Ln.union,Ln.withMutations=Ce,Ln.asImmutable=Te,Ln["@@transducer/init"]=Ln.asMutable=Oe,Ln["@@transducer/step"]=function(t,e){return t.add(e)},Ln["@@transducer/result"]=function(t){return t.asImmutable()},Ln.__empty=Fn,Ln.__make=Pn;var Un,zn=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if(Gt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(Un)return Un;Un=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+l(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return h(t,n,this.size)?this:(t=d(t,this.size),(n=p(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==t(o,e?n-++i:i++,this);)o+=e?-r:r;return i},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;return new z(function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=e?-r:r,q(t,e?n-++i:i++,a)})},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Bn(this,t)},e}(X);function qn(t,e,n){for(var r=Xt(e),o=0;o!==r.length;)if((t=re(t,r[o++],a))===a)return n;return t}function Qn(t,e){return qn(this,t,e)}function Kn(t,e){return qn(t,e,a)!==a}function Hn(){$t(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}E.isIterable=m,E.isKeyed=b,E.isIndexed=w,E.isAssociative=k,E.isOrdered=N,E.Iterator=z,jn(E,{toArray:function(){$t(this.size);var t=new Array(this.size||0),e=b(this),n=0;return this.__iterate(function(r,o){t[n++]=e?[o,r]:r}),t},toIndexedSeq:function(){return new Ot(this)},toJS:function(){return Mn(this)},toKeyedSeq:function(){return new Ct(this,!0)},toMap:function(){return je(this.toKeyedSeq())},toObject:Hn,toOrderedMap:function(){return vn(this.toKeyedSeq())},toOrderedSet:function(){return rr(b(this)?this.valueSeq():this)},toSet:function(){return Nn(b(this)?this.valueSeq():this)},toSetSeq:function(){return new Tt(this)},toSeq:function(){return w(this)?this.toIndexedSeq():b(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return kn(b(this)?this.valueSeq():this)},toList:function(){return nn(b(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Qt(this,function(t,e){var n=b(t),r=[t].concat(e).map(function(t){return m(t)?n&&(t=S(t)):t=n?it(t):at(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===r.length)return t;if(1===r.length){var o=r[0];if(o===t||n&&b(o)||w(t)&&w(o))return o}var i=new tt(r);return n?i=i.toKeyedSeq():w(t)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),i}(this,t))},includes:function(t){return this.some(function(e){return ht(e,t)})},entries:function(){return this.__iterator(R)},every:function(t,e){$t(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Qt(this,Dt(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return $t(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){$t(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(D)},map:function(t,e){return Qt(this,Mt(this,t,e))},reduce:function(t,e,n){return Jn(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return Jn(this,t,e,n,arguments.length<2,!0)},reverse:function(){return Qt(this,Nt(this,!0))},slice:function(t,e){return Qt(this,Lt(this,t,e,!0))},some:function(t,e){return!this.every(Xn(t),e)},sort:function(t){return Qt(this,Ft(this,t))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return c(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=je().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return Bn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map($n).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Xn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(f,null,t)},flatMap:function(t,e){return Qt(this,function(t,e,n){var r=Ht(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Qt(this,Pt(this,t,!0))},fromEntrySeq:function(){return new Bt(this)},get:function(t,e){return this.find(function(e,n){return ht(n,t)},void 0,e)},getIn:Qn,groupBy:function(t,e){return function(t,e,n){var r=b(t),o=(N(t)?vn():je()).asMutable();t.__iterate(function(i,a){o.update(e.call(n,i,a,t),function(t){return(t=t||[]).push(r?[a,i]:i),t})});var i=Ht(t);return o.map(function(e){return Qt(t,i(e))}).asImmutable()}(this,t,e)},has:function(t){return this.get(t,a)!==a},hasIn:function(t){return Kn(this,t)},isSubset:function(t){return t="function"===typeof t.includes?t:E(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:E(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return ht(e,t)})},keySeq:function(){return this.toSeq().map(Gn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ut(this,t)},maxBy:function(t,e){return Ut(this,e,t)},min:function(t){return Ut(this,t?Zn(t):er)},minBy:function(t,e){return Ut(this,e?Zn(e):er,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Qt(this,Rt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Xn(t),e)},sortBy:function(t,e){return Qt(this,Ft(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Qt(this,function(t,e,n){var r=Wt(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate(function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(R,o),s=!0;return new z(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(n,c,u,i)?r===R?t:q(r,u,c,t):(s=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Xn(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=N(t),n=b(t),r=e?1:0;return function(t,e){return e=dt(e,3432918353),e=dt(e<<15|e>>>-15,461845907),e=dt(e<<13|e>>>-13,5),e=dt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=pt((e=dt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+nr(yt(t),yt(e))|0}:function(t,e){r=r+nr(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var Wn=E.prototype;Wn[v]=!0,Wn[U]=Wn.values,Wn.toJSON=Wn.toArray,Wn.__toStringMapper=ee,Wn.inspect=Wn.toSource=function(){return this.toString()},Wn.chain=Wn.flatMap,Wn.contains=Wn.includes,jn(S,{flip:function(){return Qt(this,jt(this))},mapEntries:function(t,e){var n=this,r=0;return Qt(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Qt(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var Vn=S.prototype;Vn[_]=!0,Vn[U]=Wn.entries,Vn.toJSON=Hn,Vn.__toStringMapper=function(t,e){return ee(e)+": "+ee(t)},jn(x,{toKeyedSeq:function(){return new Ct(this,!1)},filter:function(t,e){return Qt(this,Dt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Qt(this,Nt(this,!1))},slice:function(t,e){return Qt(this,Lt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=d(t,t<0?this.count():this.size);var r=this.slice(0,t);return Qt(this,1===n?r:r.concat(Jt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Qt(this,Pt(this,t,!1))},get:function(t,e){return(t=l(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=l(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Qt(this,function(t,e){var n=Wt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(L,r),a=0;return new z(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?q(n,a++,e):q(n,a++,o.value,o)})},n}(this,t))},interleave:function(){var t=[this].concat(Jt(arguments)),e=qt(this.toSeq(),X.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Qt(this,n)},keySeq:function(){return zn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Qt(this,Rt(this,t,e,!1))},zip:function(){return Qt(this,qt(this,tr,[this].concat(Jt(arguments))))},zipAll:function(){return Qt(this,qt(this,tr,[this].concat(Jt(arguments)),!0))},zipWith:function(t){var e=Jt(arguments);return e[0]=this,Qt(this,qt(this,t,e))}});var Yn=x.prototype;function Jn(t,e,n,r,o,i){return $t(t.size),t.__iterate(function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)},i),n}function Gn(t,e){return e}function $n(t,e){return[e,t]}function Xn(t){return function(){return!t.apply(this,arguments)}}function Zn(t){return function(){return-t.apply(this,arguments)}}function tr(){return Jt(arguments)}function er(t,e){return t<e?1:t>e?-1:0}function nr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Yn[A]=!0,Yn[M]=!0,jn(I,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),I.prototype.has=Wn.includes,I.prototype.contains=I.prototype.includes,jn($,S.prototype),jn(X,x.prototype),jn(Z,I.prototype);var rr=function(t){function e(t){return null===t||void 0===t?sr():Tn(t)?t:sr().withMutations(function(e){var n=I(t);$t(n.size),n.forEach(function(t){return e.add(t)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(S(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Nn);rr.isOrderedSet=Tn;var or,ir=rr.prototype;function ar(t,e){var n=Object.create(ir);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function sr(){return or||(or=ar(_n()))}ir[M]=!0,ir.zip=Yn.zip,ir.zipWith=Yn.zipWith,ir.__empty=sr,ir.__make=ar;var ur=function(t,e){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(t),u=o._indices={};o._name=e,o._keys=s,o._defaultValues=t;for(var c=0;c<s.length;c++){var l=s[c];u[l]=c,o[l]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+fr(this)+' with property "'+l+'" since that property name is part of the Record API.'):dr(o,l)}}this.__ownerID=void 0,this._values=nn().withMutations(function(t){t.setSize(a._keys.length),S(i).forEach(function(e,n){t.set(a._indices[n],e===a._defaultValues[n]?void 0:e)})})},o=r.prototype=Object.create(cr);return o.constructor=r,e&&(r.displayName=e),r};ur.prototype.toString=function(){for(var t,e=fr(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)e+=(r?", ":"")+(t=n[r])+": "+ee(this.get(t));return e+" }"},ur.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&hr(this).equals(hr(t))},ur.prototype.hashCode=function(){return hr(this).hashCode()},ur.prototype.has=function(t){return this._indices.hasOwnProperty(t)},ur.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],r=this._values.get(n);return void 0===r?this._defaultValues[t]:r},ur.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return lr(this,n)}return this},ur.prototype.remove=function(t){return this.set(t)},ur.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:lr(this,t)},ur.prototype.wasAltered=function(){return this._values.wasAltered()},ur.prototype.toSeq=function(){return hr(this)},ur.prototype.toJS=function(){return Mn(this)},ur.prototype.entries=function(){return this.__iterator(R)},ur.prototype.__iterator=function(t,e){return hr(this).__iterator(t,e)},ur.prototype.__iterate=function(t,e){return hr(this).__iterate(t,e)},ur.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?lr(this,e,t):(this.__ownerID=t,this._values=e,this)},ur.isRecord=B,ur.getDescriptiveName=fr;var cr=ur.prototype;function lr(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function fr(t){return t.constructor.displayName||t.constructor.name||"Record"}function hr(t){return it(t._keys.map(function(e){return[e,t.get(e)]}))}function dr(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Gt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(n){}}cr[T]=!0,cr.delete=cr.remove,cr.deleteIn=cr.removeIn=fe,cr.getIn=Qn,cr.hasIn=Wn.hasIn,cr.merge=ge,cr.mergeWith=ye,cr.mergeIn=xe,cr.mergeDeep=Ee,cr.mergeDeepWith=Se,cr.mergeDeepIn=Ie,cr.setIn=ce,cr.update=de,cr.updateIn=pe,cr.withMutations=Ce,cr.asMutable=Oe,cr.asImmutable=Te,cr[U]=cr.entries,cr.toJSON=cr.toObject=Wn.toObject,cr.inspect=cr.toSource=function(){return this.toString()};var pr,gr=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this._value=t,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(pr)return pr;pr=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return ht(this._value,t)},e.prototype.slice=function(t,n){var r=this.size;return h(t,n,r)?this:new e(this._value,p(n,r)-d(t,r))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return ht(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return ht(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var n=this.size,r=0;r!==n&&!1!==t(this._value,e?n-++r:r++,this););return r},e.prototype.__iterator=function(t,e){var n=this,r=this.size,o=0;return new z(function(){return o===r?{value:void 0,done:!0}:q(t,e?r-++o:o++,n._value)})},e.prototype.equals=function(t){return t instanceof e?ht(this._value,t._value):Bn(t)},e}(X);function yr(t,e){return function t(e,n,r,o,i,a){var s=Array.isArray(r)?X:Zt(r)?$:null;if(s){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==o&&i.push(o);var u=n.call(a,o,s(r).map(function(o,a){return t(e,n,o,a,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),u}return r}([],e||vr,t,"",e&&e.length>2?[]:void 0,{"":t})}function vr(t,e){return b(e)?e.toMap():e.toList()}var mr="4.0.0-rc.11",_r={version:mr,Collection:E,Iterable:E,Seq:G,Map:je,OrderedMap:vn,List:nn,Stack:kn,Set:Nn,OrderedSet:rr,Record:ur,Range:zn,Repeat:gr,is:ht,fromJS:yr,hash:yt,isImmutable:j,isCollection:m,isKeyed:b,isIndexed:w,isAssociative:k,isOrdered:N,isValueObject:ft,isSeq:O,isList:en,isMap:ct,isOrderedMap:lt,isStack:wn,isSet:On,isOrderedSet:Tn,isRecord:B,get:re,getIn:qn,has:ne,hasIn:Kn,merge:me,mergeDeep:be,mergeWith:_e,mergeDeepWith:Ae,remove:ie,removeIn:le,set:ae,setIn:ue,update:he,updateIn:se},br=E;e.default=_r},function(t,e,n){"use strict";t.exports=n(152)},function(t,e,n){t.exports=n(161)()},function(t,e,n){"use strict";n.d(e,"a",function(){return $}),n.d(e,"b",function(){return Ct}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return j}),n.d(e,"e",function(){return _e}),n.d(e,"f",function(){return N}),n.d(e,"g",function(){return P}),n.d(e,"h",function(){return L}),n.d(e,"i",function(){return J}),n.d(e,"j",function(){return st}),n.d(e,"k",function(){return gt}),n.d(e,"l",function(){return Y}),n.d(e,"m",function(){return _t});var r=n(7),o=n.n(r),i=n(0),a=n(6),s=n(9),u=n(14),c=n.n(u),l=n(38),f=n.n(l),h=n(85),d=n(86),p=n.n(d),g=n(145),y=n.n(g),v=void 0,m=void 0;function _(){v=0,m=function(){return""+v++}}_();var b={create:function(t){if(null==t)return m();if("string"===typeof t)return t;throw new Error("Keys must be strings, but you passed: "+t)},setGenerator:function(t){m=t},resetGenerator:_},A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},x=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},I=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},C=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},T=function(){function t(){w(this,t)}return k(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.Map.isMap(e))return e;if(o()(e))return t.fromJSON(e);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+e)}},{key:"fromJSON",value:function(t){return new i.Map(t)}}]),t}();T.fromJS=T.fromJSON;var B={data:void 0,key:void 0,nodes:void 0},j=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDocument(t))return t;if((i.List.isList(t)||Array.isArray(t))&&(t={nodes:t}),o()(t))return e.fromJSON(t);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isDocument(t))return t;var n=t.data,r=void 0===n?{}:n,o=t.key,a=void 0===o?b.create():o,s=t.nodes,u=void 0===s?[]:s;return new e({key:a,data:new i.Map(r),nodes:J.createList(u)})}}]),e}(Object(i.Record)(B)),M={data:void 0,key:void 0,nodes:void 0,type:void 0},N=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isInline(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isInline(t))return t;var n=t.data,r=void 0===n?{}:n,o=t.key,a=void 0===o?b.create():o,s=t.nodes,u=void 0===s?[]:s,c=t.type;if("string"!=typeof c)throw new Error("`Inline.fromJS` requires a `type` string.");return new e({key:a,type:c,data:new i.Map(r),nodes:J.createList(u)})}},{key:"isInlineList",value:function(t){return i.List.isList(t)&&t.every(function(t){return e.isInline(t)})}}]),e}(Object(i.Record)(M)),D={data:void 0,type:void 0},L=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"createSet",value:function(t){if(i.Set.isSet(t)||Array.isArray(t))return new i.Set(t.map(e.create));if(null==t)return Object(i.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(o()(t)){var n={};return"type"in t&&(n.type=t.type),"data"in t&&(n.data=T.create(t.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.data,r=void 0===n?{}:n,o=t.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new e({type:o,data:new i.Map(r)})}},{key:"isMarkSet",value:function(t){return i.Set.isSet(t)&&t.every(function(t){return e.isMark(t)})}}]),e}(Object(i.Record)(D)),R={marks:void 0,text:void 0},P=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"updateMark",value:function(t,e){var n=this.marks;if(e.equals(t))return this;if(!n.has(t))return this;var r=n.withMutations(function(n){n.remove(t).add(e)});return this.set("marks",r)}},{key:"addMark",value:function(t){var e=this.marks;return this.set("marks",e.add(t))}},{key:"addMarks",value:function(t){var e=this.marks;return this.set("marks",e.union(t))}},{key:"insertText",value:function(t,e){var n=this.text,r=n.slice(0,t)+e+n.slice(t);return this.set("text",r)}},{key:"removeMark",value:function(t){var e=this.marks;return this.set("marks",e.remove(t))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map(function(t){return t.toJSON()})}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isLeaf(t))return t;if("string"==typeof t&&(t={text:t}),o()(t))return e.fromJSON(t);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+t)}},{key:"createLeaves",value:function(t){if(t.size<=1)return t;var e=!1,n=Object(i.List)().withMutations(function(n){t.findLast(function(t,r){var o=n.first();if(o){if(o.marks.equals(t.marks))return e=!0,void n.set(0,o.set("text",""+t.text+o.text));if(""===o.text)return e=!0,void n.set(0,t);if(""===t.text)return void(e=!0)}n.unshift(t)})});return e?n:t}},{key:"splitLeaves",value:function(t,e){if(e<0)return[Object(i.List)(),t];if(0===t.size)return[Object(i.List)(),Object(i.List)()];var n=0,r=-1,o=void 0,a=void 0;return t.find(function(t){r++;var i=n,s=t.text;if((n+=s.length)<e)return!1;if(i>e)return!1;var u=e-i;return o=t.set("text",s.slice(0,u)),a=t.set("text",s.slice(u)),!0}),o?""===o.text?0===r?[i.List.of(o),t]:[t.take(r),t.skip(r)]:""===a.text?r===t.size-1?[t,i.List.of(a)]:[t.take(r+1),t.skip(r+1)]:[t.take(r).push(o),t.skip(r+1).unshift(a)]:[t,Object(i.List)()]}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.text,r=void 0===n?"":n,o=t.marks,a=void 0===o?[]:o;return new e({text:r,marks:Object(i.Set)(a.map(L.fromJSON))})}},{key:"isLeafList",value:function(t){return i.List.isList(t)&&t.every(function(t){return e.isLeaf(t)})}}]),e}(Object(i.Record)(R)),F=!0,U=Symbol("LEAF"),z=Symbol("STORE_KEY"),q=Symbol("undefined"),Q=Symbol("null"),K=void 0,H=new WeakMap;function W(t,e){var n=function(e){var n=t[e];if(!n)throw new Error('Object does not have a property named "'+e+'".');t[e]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];if(!F)return n.apply(this,r);H.has(this)||H.set(this,{noArgs:{},hasArgs:{}});var i=H.get(this),a=i.noArgs,s=i.hasArgs,u=0!==r.length,c=void 0,l=void 0;if((c=u?function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===s?s=q:null===s&&(s=Q),(t="object"===("undefined"===typeof s?"undefined":A(s))?t[z]&&t[z].get(s):t[s])===K)return K}}catch(u){r=!0,o=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t[U]}(s,l=[e].concat(r)):a[e])!==K)return c===q?void 0:c;var f=n.apply(this,r),h=void 0===f?q:f;return u?function(t,e,n){var r=t,o=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(void 0===c?c=q:null===c&&(c=Q),"object"===("undefined"===typeof c?"undefined":A(c)))if(r[z]||(r[z]=new WeakMap),r[z].has(c))r=r[z].get(c);else{var l={};r[z].set(c,l),r=l}else r[c]||(r[c]={}),r=r[c]}}catch(f){i=!0,a=f}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}r[U]=n}(s,l,h):a[e]=h,f}},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}var V={leaves:void 0,key:void 0},Y=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"searchLeafAtOffset",value:function(t){var e=0,n=0,r=-1;return{leaf:this.leaves.find(function(o){return r++,(e=(n=e)+o.text.length)>=t}),endOffset:e,index:r,startOffset:n}}},{key:"addMark",value:function(t,e,n){var r=i.Set.of(n);return this.addMarks(t,e,r)}},{key:"addMarks",value:function(t,e,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this.set("leaves",i.List.of(P.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",i.List.of(o))}if(""===this.text)return this;if(0===e)return this;if(t>=this.text.length)return this;var a=P.splitLeaves(this.leaves,t),s=C(a,2),u=s[0],c=s[1],l=P.splitLeaves(c,e),f=C(l,2),h=f[0],d=f[1],p=u.concat(h.map(function(t){return t.addMarks(n)}),d);return this.setLeaves(p)}},{key:"getLeaves",value:function(t){var e=this.leaves;if(!t||0===t.size)return e;if(0===e.size){var n=t.map(function(t){return t.mark}),r=P.create({marks:n});return Object(i.List)([r])}if(0===this.text.length){var o=t.map(function(t){return t.mark}),a=P.create({marks:o});return Object(i.List)([a])}var s=this.key,u=this.text;return t.forEach(function(t){var n=t.start,r=t.end,o=t.mark,i=n.key==s,a=r.key==s;if(i&&a){var c=i?n.offset:0,l=a?r.offset-c:u.length-c;if(l<1)return;if(c>=u.length)return;if(0!==c||l<u.length){var f=P.splitLeaves(e,c),h=C(f,2),d=h[0],p=h[1],g=P.splitLeaves(p,l),y=C(g,2),v=y[0],m=y[1];return void(e=d.concat(v.map(function(t){return t.addMark(o)}),m))}}e=e.map(function(t){return t.addMark(o)})}),e===this.leaves?e:P.createLeaves(e)}},{key:"getActiveMarksBetweenOffsets",value:function(t,e){if(t<=0&&e>=this.text.length)return this.getActiveMarks();if(t>=e)return Object(i.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=t)){if(i>=e)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}}),n||Object(i.Set)()}},{key:"getActiveMarks",value:function(){var t=this;if(0===this.leaves.size)return Object(i.Set)();var e=this.leaves.first().marks;return 0===e.size?e:e.toOrderedSet().withMutations(function(e){t.leaves.forEach(function(t){if(e.intersect(t.marks),0===e.size)return!1})})}},{key:"getMarksBetweenOffsets",value:function(t,e){if(t<=0&&e>=this.text.length)return this.getMarks();if(t>=e)return Object(i.Set)();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=t))return!(i>=e)&&void(n=n?n.union(o.marks):o.marks)}),n||Object(i.Set)()}},{key:"getMarks",value:function(){var t=this.getMarksAsArray();return new i.OrderedSet(t)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var t=this.leaves.first().marks;if(1===this.leaves.size)return t.toArray();var e=[];return this.leaves.forEach(function(t){e.push(t.marks.toArray())}),Array.prototype.concat.apply(t.toArray(),e)}},{key:"getMarksAtIndex",value:function(t){var e=this.searchLeafAtOffset(t).leaf;return e?e.marks:Object(i.Set)()}},{key:"insertText",value:function(t,e,n){if(""===this.text)return this.set("leaves",i.List.of(P.create({text:e,marks:n})));if(0===e.length)return this;n||(n=Object(i.Set)());var r=this.searchLeafAtOffset(t),o=r.startOffset,a=r.leaf,s=r.index,u=t-o,c=a.text.slice(0,u),l=a.text.slice(u),f=this.leaves;if(a.marks.equals(n))return this.set("leaves",f.set(s,a.set("text",c+e+l)));var h=f.splice(s,1,a.set("text",c),P.create({text:e,marks:n}),a.set("text",l));return this.setLeaves(h)}},{key:"removeMark",value:function(t,e,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",i.List.of(o))}if(e<=0)return this;if(t>=this.text.length)return this;var a=P.splitLeaves(this.leaves,t),s=C(a,2),u=s[0],c=s[1],l=P.splitLeaves(c,e),f=C(l,2),h=f[0],d=f[1],p=u.concat(h.map(function(t){return t.removeMark(n)}),d);return this.setLeaves(p)}},{key:"removeText",value:function(t,e){if(e<=0)return this;if(t>=this.text.length)return this;if(1===e){var n=this.searchLeafAtOffset(t+1),r=n.leaf,o=n.index,a=t-n.startOffset;if(r){if(1===r.text.length){var s=this.leaves.remove(o);return this.setLeaves(s)}var u=r.text.slice(0,a)+r.text.slice(a+e);if(u.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",u)))}}var c=P.splitLeaves(this.leaves,t),l=C(c,2),f=l[0],h=l[1],d=P.splitLeaves(h,e)[1],p=P.createLeaves(f.concat(d));if(1===p.size){var g=p.first();if(""===g.text)return this.set("leaves",i.List.of(g.set("marks",this.getActiveMarks())))}return this.set("leaves",p)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,leaves:this.getLeaves().toArray().map(function(t){return t.toJSON()})};return t.preserveKeys&&(e.key=this.key),e}},{key:"updateMark",value:function(t,e,n,r){var o=n.merge(r);if(""===this.text&&0===e&&0===t){var a=this.leaves.first();if(!a)return this;var s=a.updateMark(n,o);return s===a?this:this.set("leaves",i.List.of(s))}if(e<=0)return this;if(t>=this.text.length)return this;var u=P.splitLeaves(this.leaves,t),c=C(u,2),l=c[0],f=c[1],h=P.splitLeaves(f,e),d=C(h,2),p=d[0],g=d[1],y=l.concat(p.map(function(t){return t.updateMark(n,o)}),g);return this.setLeaves(y)}},{key:"splitText",value:function(t){var e=P.splitLeaves(this.leaves,t);return[this.set("leaves",e[0]),this.set("leaves",e[1]).regenerateKey()]}},{key:"mergeText",value:function(t){var e=this.leaves.concat(t.leaves);return this.setLeaves(e)}},{key:"setLeaves",value:function(t){if(1===(t=P.createLeaves(t)).size){var e=t.first();if((!e.marks||0===e.marks.size)&&""===e.text)return this.set("leaves",Object(i.List)([P.create()]))}return 0===t.size&&(t=t.push(P.create())),this.set("leaves",t)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.isText(t))return t;if("string"==typeof t&&(t={leaves:[{text:t}]}),o()(t)){if(t.text){var n=t,r=n.text,i=n.marks;t={key:n.key,leaves:[{text:r,marks:i}]}}return e.fromJSON(t)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isText(t))return t;var n=t.key,r=void 0===n?b.create():n,o=t.leaves;if(o||(t.ranges?(Object(a.a)(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=t.ranges):o=Object(i.List)()),Array.isArray(o))o=Object(i.List)(o.map(function(t){return P.create(t)}));else{if(!i.List.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map(function(t){return P.create(t)})}return 0===o.size&&(o=o.push(P.create())),new e({leaves:P.createLeaves(o),key:r})}},{key:"isTextList",value:function(t){return i.List.isList(t)&&t.every(function(t){return e.isText(t)})}}]),e}(Object(i.Record)(V));W(Y.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var J=function(){function t(){w(this,t)}return k(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isNode(e))return e;if(o()(e)){var n=e.object;switch(!n&&e.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=e.kind),n){case"block":return $.create(e);case"document":return j.create(e);case"inline":return N.create(e);case"text":return Y.create(e);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(e)||Array.isArray(e))return Object(i.List)(e.map(t.create));throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+e)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if($.isBlock(t)||N.isInline(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(o()(t)){var e={};return"type"in t&&(e.type=t.type),"data"in t&&(e.data=T.create(t.data)),e}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var e=t.object;switch(!e&&t.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),e=t.kind),e){case"block":return $.fromJSON(t);case"document":return j.fromJSON(t);case"inline":return N.fromJSON(t);case"text":return Y.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function(t){return $.isBlock(t)||j.isDocument(t)||N.isInline(t)||Y.isText(t)}},{key:"isNodeList",value:function(e){return i.List.isList(e)&&e.every(function(e){return t.isNode(e)})}}]),t}(),G={data:void 0,key:void 0,nodes:void 0,type:void 0},$=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isBlock(t))return t;if("string"==typeof t&&(t={type:t}),o()(t))return e.fromJSON(t);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isBlock(t))return t;var n=t.data,r=void 0===n?{}:n,o=t.key,a=void 0===o?b.create():o,s=t.nodes,u=void 0===s?[]:s,c=t.type;if("string"!=typeof c)throw new Error("`Block.fromJSON` requires a `type` string.");return new e({key:a,type:c,data:Object(i.Map)(r),nodes:J.createList(u)})}},{key:"isBlockList",value:function(t){return i.List.isList(t)&&t.every(function(t){return e.isBlock(t)})}}]),e}(Object(i.Record)(G));function X(t,e){for(var n=at(t,e),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.size===e.size?0:null}function Z(t){if(null==t)return null;if(i.List.isList(t))return t;if(Array.isArray(t))return Object(i.List)(t);throw new Error("Paths can only be created from arrays or lists, but you passed: "+t)}function tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at(t,e);return[t.slice(0,n),e.slice(0,n)]}function et(t){return nt(t,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1)}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1,r=t.get(n)+e;return t.set(n,r)}function rt(t,e){var n=tt(t,e),r=C(n,2),o=r[0],i=r[1];return t.size<e.size&&0===X(o,i)}function ot(t,e){return t.equals(e)}function it(t,e){var n=t.size-1,r=tt(t,e,n),o=C(r,2),i=o[0],a=o[1],s=t.get(n),u=e.get(n);return ot(i,a)&&s<u}function at(t,e){return Math.min(t.size,e.size)}var st={compare:X,create:Z,crop:tt,decrement:et,getAncestors:function(t){for(var e=new i.List,n=0;n<t.size;n++)e=e.push(t.slice(0,n));return e},increment:nt,isAbove:rt,isAfter:function(t,e){var n=tt(t,e),r=C(n,2);return 1===X(r[0],r[1])},isBefore:function(t,e){var n=tt(t,e),r=C(n,2);return-1===X(r[0],r[1])},isEqual:ot,isOlder:function(t,e){var n=t.size-1,r=tt(t,e,n),o=C(r,2),i=o[0],a=o[1],s=t.get(n),u=e.get(n);return ot(i,a)&&s>u},isSibling:function(t,e){if(t.size!==e.size)return!1;var n=t.butLast(),r=e.butLast();return n.equals(r)},isYounger:it,lift:function(t){return t.slice(0,-1)},max:function(t,e){return Math.max(t.size,e.size)},min:at,relate:function(t,e){for(var n=[],r=0;r<t.size&&r<e.size;r++){var o=t.get(r);if(o!==e.get(r))break;n.push(o)}return Z(n)},transform:function(t,e){var n=e.type,r=e.position,o=e.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===t.size)return Object(i.List)([t]);var a=o.size-1,s=ot(o,t),u=it(o,t),c=rt(o,t);if("insert_node"===n&&(s||u||c)&&(t=nt(t,1,a)),"remove_node"===n&&(u?t=et(t,1,a):(s||c)&&(t=[])),"merge_node"===n&&(s||u?t=et(t,1,a):c&&(t=nt(t=et(t,1,a),r,a+1))),"split_node"===n&&(s?t=[t,nt(t)]:u?t=nt(t,1,a):c&&t.get(a+1)>=r&&(t=et(t=nt(t,1,a),r,a+1))),"move_node"===n){var l=e.newPath,f=l.size-1,h=ot(l,t);if(ot(o,l))return Object(i.List)([t]);var d=it(l,t),p=rt(l,t);c?t=l.concat(t.slice(o.size)):s?t=l:(u&&(t=et(t,1,a)),(h||d||p)&&(t=nt(t,1,f)))}var g=Array.isArray(t)?t:[t];return Object(i.List)(g)}},ut={key:void 0,offset:void 0,path:void 0},ct=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"isAfterPoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset>t.offset||1===st.compare(this.path,t.path))}},{key:"isAfterRange",value:function(t){return!this.isUnset&&this.isAfterPoint(t.end)}},{key:"isAtEndOfRange",value:function(t){return!this.isUnset&&this.equals(t.end)}},{key:"isAtStartOfRange",value:function(t){return!this.isUnset&&this.equals(t.start)}},{key:"isBeforePoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset<t.offset||-1===st.compare(this.path,t.path))}},{key:"isBeforeRange",value:function(t){return!this.isUnset&&this.isBeforePoint(t.start)}},{key:"isInRange",value:function(t){return!this.isUnset&&(this.equals(t.start)||this.equals(t.end)||this.isAfterPoint(t.start)&&this.isBeforePoint(t.end))}},{key:"isAtEndOfNode",value:function(t){if(this.isUnset)return!1;var e=t.getLastText();return this.key===e.key&&this.offset===e.text.length}},{key:"isAtStartOfNode",value:function(t){if(this.isUnset)return!1;if(0!=this.offset)return!1;var e=t.getFirstText();return this.key===e.key}},{key:"isInNode",value:function(t){return!this.isUnset&&("text"===t.object&&t.key===this.key||!!t.hasNode(this.key))}},{key:"moveBackward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===t?this:t<0?this.moveForward(-t):this.setOffset(this.offset-t)}},{key:"moveForward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===t?this:t<0?this.moveBackward(-t):this.setOffset(this.offset+t)}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;return"number"===typeof t?(e=t,t=this.path):"string"===typeof t?t=(n=t)===this.key?this.path:null:n=t.equals(this.path)?this.key:null,this.merge({key:n,path:t,offset:e})}},{key:"moveToStartOfNode",value:function(t){var e=t.getFirstText();return this.moveTo(e.key,0)}},{key:"moveToEndOfNode",value:function(t){var e=t.getLastText();return this.moveTo(e.key,e.text.length)}},{key:"normalize",value:function(t){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=t.getNode(n||o);if(!i){Object(a.a)(!1,"A point's `path` or `key` invalid and was reset!");var s=t.getFirstText();return s?this.merge({key:s.key,offset:0,path:t.getPath(s.key)}):e.create()}if("text"!==i.object){Object(a.a)(!1,"A point should not reference a non-text node!");var u=i.getTextAtOffset(r),c=i.getOffset(u.key);return this.merge({offset:r-c,key:u.key,path:t.getPath(u.key)})}return i&&o&&n&&n!==i.key&&Object(a.a)(!1,"A point's `key` did not match its `path`!"),this.merge({key:i.key,path:null==o?t.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)})}},{key:"setKey",value:function(t){return null!==t&&(t=b.create(t)),this.set("key",t)}},{key:"setOffset",value:function(t){return this.set("offset",t)}},{key:"setPath",value:function(t){return null!==t&&(t=st.create(t)),this.set("path",t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return t.preserveKeys||delete e.key,e}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return{key:t.key,offset:t.offset,path:t.path};if(o()(t)){var n={};return"key"in t&&(n.key=t.key),"offset"in t&&(n.offset=t.offset),"path"in t&&(n.path=st.create(t.path)),"path"in t&&!("key"in t)&&(n.key=null),"key"in t&&!("path"in t)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.key,r=void 0===n?null:n,o=t.offset,i=void 0===o?null:o,a=t.path,s=void 0===a?null:a;return new e({key:r,offset:i,path:st.create(s)})}}]),e}(Object(i.Record)(ut)),lt={anchor:void 0,focus:void 0,mark:void 0},ft=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"setProperties",value:function(t){var n=t=e.createProperties(t),r=n.anchor,o=n.focus,i=n.mark,a={};return r&&(a.anchor=ct.create(r)),o&&(a.focus=ct.create(o)),i&&(a.mark=L.create(i)),this.merge(a)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t),mark:this.mark.toJSON(t)}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return t;if(gt.isRange(t))return e.fromJSON(gt.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return{anchor:ct.createProperties(t.anchor),focus:ct.createProperties(t.focus),mark:L.create(t.mark)};if(o()(t)){var n={};return"anchor"in t&&(n.anchor=ct.create(t.anchor)),"focus"in t&&(n.focus=ct.create(t.focus)),"mark"in t&&(n.mark=L.create(t.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,r=t.focus,o=t.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(t));return new e({anchor:ct.fromJSON(n||{}),focus:ct.fromJSON(r||{}),mark:L.fromJSON(o)})}}]),e}(Object(i.Record)(lt)),ht={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function dt(t,e){return!(!e||!e[ht[t]])}var pt={anchor:void 0,focus:void 0},gt=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return"range"===t.object?t:e.fromJSON(e.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return{anchor:ct.createProperties(t.anchor),focus:ct.createProperties(t.focus)};if(o()(t)){var n={};return"anchor"in t&&(n.anchor=ct.create(t.anchor)),"focus"in t&&(n.focus=ct.create(t.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,r=t.focus;return new e({anchor:ct.fromJSON(n||{}),focus:ct.fromJSON(r||{})})}},{key:"isRange",value:function(t){return dt("range",t)||ft.isDecoration(t)||vt.isSelection(t)}}]),e}(Object(i.Record)(pt)),yt={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},vt=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"setIsFocused",value:function(t){return this.set("isFocused",t)}},{key:"setMarks",value:function(t){return this.set("marks",t)}},{key:"setProperties",value:function(t){var n=t=e.createProperties(t),r=n.anchor,o=n.focus,i=x(n,["anchor","focus"]);return r&&(i.anchor=ct.create(r)),o&&(i.focus=ct.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(t){return t.toJSON()})}}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return t;if(gt.isRange(t))return e.fromJSON(gt.createProperties(t));if(o()(t))return e.fromJSON(t);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return{anchor:ct.createProperties(t.anchor),focus:ct.createProperties(t.focus),isFocused:t.isFocused,marks:t.marks};if(gt.isRange(t))return{anchor:ct.createProperties(t.anchor),focus:ct.createProperties(t.focus)};if(o()(t)){var n={};return"anchor"in t&&(n.anchor=ct.create(t.anchor)),"focus"in t&&(n.focus=ct.create(t.focus)),"isFocused"in t&&(n.isFocused=t.isFocused),"marks"in t&&(n.marks=null==t.marks?null:L.createSet(t.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,r=t.focus,o=t.isFocused,a=void 0!==o&&o,s=t.marks,u=void 0===s?null:s;return new e({anchor:ct.fromJSON(n||{}),focus:ct.fromJSON(r||{}),isFocused:a,marks:null==u?null:new i.Set(u.map(L.fromJSON))})}}]),e}(Object(i.Record)(yt)),mt={data:void 0,decorations:void 0,document:void 0,selection:void 0},_t=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"addMark",value:function(t,e,n,r){var o=this,i=o.document;return i=i.addMark(t,e,n,r),o=this.set("document",i)}},{key:"insertNode",value:function(t,e){var n=this,r=n.document;return r=r.insertNode(t,e),n=(n=n.set("document",r)).mapRanges(function(t){return t.updatePoints(function(t){return t.setPath(null)})})}},{key:"insertText",value:function(t,e,n,r){var o=this,i=o.document,a=i.assertNode(t);return i=i.insertText(t,e,n,r),o=(o=o.set("document",i)).mapRanges(function(t){return t.updatePoints(function(t){return t.key===a.key&&t.offset>=e?t.setOffset(t.offset+n.length):t})})}},{key:"mergeNode",value:function(t){var e=this,n=e.document,r=n.mergeNode(t);t=n.resolvePath(t);var o=st.decrement(t),i=n.getNode(o),a=n.getNode(t);return e=(e=e.set("document",r)).mapRanges(function(t){if("text"===a.object){var e=i.text.length;t.anchor.key===a.key&&(t=t.moveAnchorTo(i.key,e+t.anchor.offset)),t.focus.key===a.key&&(t=t.moveFocusTo(i.key,e+t.focus.offset))}return t=t.updatePoints(function(t){return t.setPath(null)})})}},{key:"moveNode",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r.document;return o=o.moveNode(t,e,n),r=(r=r.set("document",o)).mapRanges(function(t){return t.updatePoints(function(t){return t.setPath(null)})})}},{key:"removeMark",value:function(t,e,n,r){var o=this,i=o.document;return i=i.removeMark(t,e,n,r),o=this.set("document",i)}},{key:"removeNode",value:function(t){var e=this,n=e.document,r=n.assertNode(t),o="text"==r.object?r:r.getFirstText()||r,i="text"==r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(t),e=(e=e.set("document",n)).mapRanges(function(t){var e=t,n=e.start,o=e.end;return r.hasNode(n.key)&&(t=a?t.moveStartTo(a.key,a.text.length):s?t.moveStartTo(s.key,0):t.unset()),r.hasNode(o.key)&&(t=a?t.moveEndTo(a.key,a.text.length):s?t.moveEndTo(s.key,0):t.unset()),t=t.updatePoints(function(t){return t.setPath(null)})})}},{key:"removeText",value:function(t,e,n){var r=this,o=r.document,i=o.assertNode(t);o=o.removeText(t,e,n),r=r.set("document",o);var a=n.length,s=e,u=e+a;return r=r.mapRanges(function(t){return t.updatePoints(function(t){return t.key!==i.key?t:t.offset>=u?t.setOffset(t.offset-a):t.offset>s?t.setOffset(s):t})})}},{key:"setNode",value:function(t,e){var n=this,r=n.document;return r=r.setNode(t,e),n=n.set("document",r)}},{key:"setMark",value:function(t,e,n,r,o){var i=this,a=i.document;return a=a.setMark(t,e,n,r,o),i=i.set("document",a)}},{key:"setProperties",value:function(t){var e=this,n=e.document,r=t.data,o=t.decorations,i={};return r&&(i.data=r),o&&(i.decorations=o.map(function(t){return t.isSet?t:n.resolveDecoration(t)})),e=e.merge(i)}},{key:"setSelection",value:function(t){var e=this,n=e,r=n.document,o=n.selection,i=o.setProperties(t);return o=r.resolveSelection(i),e=e.set("selection",o)}},{key:"splitNode",value:function(t,e,n){var r=this,o=r.document,i=o.splitNode(t,e,n),a=o.assertNode(t);return r=(r=r.set("document",i)).mapRanges(function(t){var n=i.getNextText(a.key),r=t,o=r.start,s=r.end;return a.key===o.key&&e<=o.offset&&(t=t.moveStartTo(n.key,o.offset-e)),a.key===s.key&&e<=s.offset&&(t=t.moveEndTo(n.key,s.offset-e)),t=t.updatePoints(function(t){return t.setPath(null)})})}},{key:"mapRanges",value:function(t){var e=this,n=e,r=n.document,o=n.selection,i=n.decorations,a=o.isSet?t(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),e=e.set("selection",a);var s=i.map(function(e){var n=e.isSet?t(e):e;return n&&n!==e&&(n=r.createDecoration(n)),n});return s=s.filter(function(t){return!!t}),e=e.set("decorations",s)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,document:this.document.toJSON(t)};return t.preserveData&&(e.data=this.data.toJSON(t)),t.preserveDecorations&&(e.decorations=this.decorations.toArray().map(function(e){return e.toJSON(t)})),t.preserveSelection&&(e.selection=this.selection.toJSON(t)),e}},{key:"change",value:function(){Object(s.a)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new i.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new i.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new i.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?j.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new i.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new i.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isValue(t))return t;if(o()(t))return e.fromJSON(t,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isValue(t))return{data:t.data,decorations:t.decorations};if(o()(t)){var n={};return"data"in t&&(n.data=T.create(t.data)),"decorations"in t&&(n.decorations=ft.createList(t.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.data,r=void 0===n?{}:n,o=t.decorations,a=void 0===o?[]:o,s=t.document,u=void 0===s?{}:s,c=t.selection,l=void 0===c?{}:c;if(r=T.fromJSON(r),l=(u=j.fromJSON(u)).createSelection(l),a=Object(i.List)(a.map(function(t){return ft.fromJSON(t)})),l.isUnset){var f=u.getFirstText();f&&(l=l.moveToStartOfNode(f)),l=u.createSelection(l)}return new e({data:r,decorations:a,document:u,selection:l})}}]),e}(Object(i.Record)(mt)),bt=c()("slate:operation:apply");function At(t,e){var n=(e=xt.create(e)).type;switch(bt(n,e),n){case"add_mark":var r=e,o=r.path,i=r.offset,a=r.length,s=r.mark;return t.addMark(o,i,a,s);case"insert_node":var u=e,c=u.path,l=u.node;return t.insertNode(c,l);case"insert_text":var f=e,h=f.path,d=f.offset,p=f.text,g=f.marks;return t.insertText(h,d,p,g);case"merge_node":var y=e.path;return t.mergeNode(y);case"move_node":var v=e,m=v.path,_=v.newPath;return st.isEqual(m,_)?t:t.moveNode(m,_);case"remove_mark":var b=e,A=b.path,w=b.offset,k=b.length,E=b.mark;return t.removeMark(A,w,k,E);case"remove_node":var S=e.path;return t.removeNode(S);case"remove_text":var x=e,I=x.path,C=x.offset,O=x.text;return t.removeText(I,C,O);case"set_mark":var T=e,B=T.path,j=T.offset,M=T.length,N=T.mark,D=T.properties;return t.setMark(B,j,M,N,D);case"set_node":var L=e,R=L.path,P=L.properties;return t.setNode(R,P);case"set_selection":var F=e.properties;return t.setSelection(F);case"set_value":var U=e.properties;return t.setProperties(U);case"split_node":var z=e,q=z.path,Q=z.position,K=z.properties;return t.splitNode(q,Q,K);default:throw new Error('Unknown operation type: "'+n+'".')}}var wt=c()("slate:operation:invert");function kt(t){var e=(t=xt.create(t)).type;switch(wt(e,t),e){case"insert_node":return t.set("type","remove_node");case"remove_node":return t.set("type","insert_node");case"move_node":var n=t,r=n.newPath,o=n.path;if(st.isEqual(r,o))return t;var i=r,a=o,s=o.size-1,u=r.size-1;return o.size<i.size&&o.slice(0,s).every(function(t,e){return t==i.get(e)})&&o.last()<i.get(s)&&(i=i.slice(0,s).concat(i.get(s)-1).concat(i.slice(s+1,i.size))),r.size<a.size&&r.slice(0,u).every(function(t,e){return t==a.get(e)})&&r.last()<=a.get(u)&&(a=a.slice(0,u).concat(a.get(u)+1).concat(a.slice(u+1,a.size))),t.set("path",i).set("newPath",a);case"merge_node":var c=t.path,l=st.decrement(c);return t.set("type","split_node").set("path",l);case"split_node":var h=t.path,d=st.increment(h);return t.set("type","merge_node").set("path",d);case"set_node":var p=t,g=p.properties,y=p.node,v=y.merge(g),m=f()(y,Object.keys(g));return t.set("node",v).set("properties",m);case"insert_text":return t.set("type","remove_text");case"remove_text":return t.set("type","insert_text");case"add_mark":return t.set("type","remove_mark");case"remove_mark":return t.set("type","add_mark");case"set_mark":var _=t,b=_.properties,A=_.mark,w=A.merge(b),k=f()(A,Object.keys(b));return t.set("mark",w).set("properties",k);case"set_selection":var E=t,S=E.properties,x=E.selection,I=x.merge(S),C=f()(x,Object.keys(S));return t.set("selection",I).set("properties",C);case"set_value":var O=t,T=O.properties,B=O.value,j=B.merge(T),M=f()(B,Object.keys(T));return t.set("value",j).set("properties",M);default:throw new Error('Unknown operation type: "'+e+'".')}}var Et={add_mark:["value","path","offset","length","mark","data"],insert_node:["value","path","node","data"],insert_text:["value","path","offset","text","marks","data"],merge_node:["value","path","position","properties","target","data"],move_node:["value","path","newPath","data"],remove_mark:["value","path","offset","length","mark","data"],remove_node:["value","path","node","data"],remove_text:["value","path","offset","text","marks","data"],set_mark:["value","path","offset","length","mark","properties","data"],set_node:["value","path","node","properties","data"],set_selection:["value","selection","properties","data"],set_value:["value","properties","data"],split_node:["value","path","position","properties","target","data"]},St={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0,data:void 0},xt=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"apply",value:function(t){return At(t,this)}},{key:"invert",value:function(){return kt(this)}},{key:"toJSON",value:function(){var t=this.object,e=this.type,n={object:t,type:e},r=Et[e],o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=this[c];if("document"!=c&&("selection"!=c&&"value"!=c&&("node"!=c||"insert_node"==e))){if("mark"!=c&&"marks"!=c&&"node"!=c&&"path"!=c&&"newPath"!=c||(l=l.toJSON()),"properties"==c&&"merge_node"==e){var f={};"data"in l&&(f.data=l.data.toJS()),"type"in l&&(f.type=l.type),l=f}if("properties"==c&&"set_mark"==e){var h={};"data"in l&&(h.data=l.data.toJS()),"type"in l&&(h.type=l.type),l=h}if("properties"==c&&"set_node"==e){var d={};"data"in l&&(d.data=l.data.toJS()),"type"in l&&(d.type=l.type),l=d}if("properties"==c&&"set_selection"==e){var p={};"anchor"in l&&(p.anchor=l.anchor.toJSON()),"focus"in l&&(p.focus=l.focus.toJSON()),"isFocused"in l&&(p.isFocused=l.isFocused),"marks"in l&&(p.marks=l.marks&&l.marks.toJSON()),l=p}if("properties"==c&&"set_value"==e){var g={};"data"in l&&(g.data=l.data.toJS()),"decorations"in l&&(g.decorations=l.decorations.toJS()),l=g}if("properties"==c&&"split_node"==e){var y={};"data"in l&&(y.data=l.data.toJS()),"type"in l&&(y.type=l.type),l=y}"data"===c&&(l=l.toJSON()),n[c]=l}}}catch(v){i=!0,a=v}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isOperation(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.List.isList(t)||Array.isArray(t))return new i.List(t.map(e.create));throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isOperation(t))return t;var n=t.type,r=Et[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var a=!0,s=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,h=t[f];if("data"===f&&void 0===h&&(h={}),void 0===h){if("document"==f)continue;if("selection"==f)continue;if("value"==f)continue;if("node"==f&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+f+'" attribute.')}"path"!==f&&"newPath"!==f||(h=st.create(h)),"mark"===f&&(h=L.create(h)),"marks"===f&&null!=h&&(h=L.createSet(h)),"node"===f&&(h=J.create(h)),"selection"===f&&(h=vt.create(h)),"value"===f&&(h=_t.create(h)),"properties"===f&&"merge_node"===n&&(h=J.createProperties(h)),"properties"===f&&"set_mark"===n&&(h=L.createProperties(h)),"properties"===f&&"set_node"===n&&(h=J.createProperties(h)),"properties"===f&&"set_selection"===n&&(h=vt.createProperties(h)),"properties"===f&&"set_value"===n&&(h=_t.createProperties(h)),"properties"===f&&"split_node"===n&&(h=J.createProperties(h)),"data"===f&&(h=Object(i.Map)(h)),o[f]=h}}catch(d){s=!0,u=d}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return new e(o)}},{key:"isOperationList",value:function(t){return i.List.isList(t)&&t.every(function(t){return e.isOperation(t)})}}]),e}(Object(i.Record)(St)),It={operations:void 0,value:void 0},Ct=function(t){function e(){return w(this,e),I(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),k(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,value:this.value.toJSON(t),operations:this.operations.toArray().map(function(e){return e.toJSON(t)})}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isChange(t))return t;if(o()(t))return e.fromJSON(t);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.value,r=t.operations,o=void 0===r?[]:r;return new e({value:_t.create(n),operations:xt.createList(o)})}}]),e}(Object(i.Record)(It));function Ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onCommand:function(e,n,r){var o=e.type,i=e.args,a=t[o];if(!a)return r();n.command.apply(n,[a].concat(O(i)))},onConstruct:function(e,n){for(var r in t)e.registerCommand(r);return n()}}}var Tt=55296,Bt=57343,jt=/\s/,Mt=/['\u2018\u2019]/,Nt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Dt(t){return Tt<=t&&t<=Bt}function Lt(t,e){if(jt.test(t))return!1;if(Mt.test(t)){var n=e.charAt(0),r=Rt(n);if(Lt(n=e.slice(0,r),e.slice(r)))return!0}return!Nt.test(t)}function Rt(t){return Dt(t.charCodeAt(0))?2:1}function Pt(t){return Rt(t.charAt(0))}function Ft(t){for(var e=0,n=0,r=!1,o=void 0;o=t.charAt(n);){var i=Rt(o);if(Lt(o=t.slice(n,n+i),t.slice(n+i)))r=!0,e+=i;else{if(r)break;e+=i}n+=i}return e}var Ut={getCharLength:Rt,getCharOffset:Pt,getCharOffsetBackward:function(t,e){return t=t.slice(0,e),Pt(t=Object(h.reverse)(t))},getCharOffsetForward:function(t,e){return Pt(t=t.slice(e))},getWordOffset:Ft,getWordOffsetBackward:function(t,e){return t=t.slice(0,e),Ft(t=Object(h.reverse)(t))},getWordOffsetForward:function(t,e){return Ft(t=t.slice(e))},isSurrogate:Dt,isWord:Lt};function zt(t,e){e.isExpanded&&t.deleteAtRange(e);var n=t.value.document,r=e,o=r.start,i=r.end;return e=n.hasDescendant(o.key)?e.moveToStart():e.moveTo(i.key,0).normalize(n)}var qt={addMarkAtRange:function(t,e,n){if(!e.isCollapsed){var r=t.value.document,o=e.start,i=e.end,a=r.getTextsAtRange(e);t.withoutNormalizing(function(){a.forEach(function(e){var r=e.key,a=0,s=e.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),t.addMarkByKey(r,a,s,n)})})}},addMarksAtRange:function(t,e,n){n.forEach(function(n){return t.addMarkAtRange(e,n)})},deleteAtRange:function(t,e){t.snapshotSelection();var n=t.value,r=e.start,o=e.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=n.document,l=c.hasVoidParent(i,t),f=c.hasVoidParent(s,t),h=c.getClosestBlock(i),d=c.getClosestBlock(s),p=0==a&&0==u&&0==l&&i==h.getFirstText().key&&s==d.getFirstText().key;if(p&&f){var g=c.getPreviousText(s);s=g.key,u=g.text.length,f=c.hasVoidParent(s,t)}t.withoutNormalizing(function(){for(;l;){var e=c.getClosestVoid(i,t),n=c.getNextText(i);if(t.removeNodeByKey(e.key),i==s)return;if(!n)return;c=t.value.document,i=n.key,a=0,l=c.hasVoidParent(i,t)}for(;f;){var r=c.getClosestVoid(s,t),o=c.getPreviousText(s);t.removeNodeByKey(r.key),c=t.value.document,s=o.key,u=o.text.length,f=c.hasVoidParent(s,t)}if(i==s&&p)t.removeNodeByKey(h.key);else if(i!=s){h=c.getClosestBlock(i),d=c.getClosestBlock(s);var g=c.getNode(i),y=c.getNode(s),v=g.text.length-a,m=u,_=c.getCommonAncestor(i,s),b=_.getFurthestAncestor(i),A=_.getFurthestAncestor(s),w=c.getParent(h.key),k=w.nodes.indexOf(h),E=w.nodes.indexOf(d),S=void 0;for(S=g;S.key!=b.key;){var x=c.getParent(S.key),I=x.nodes.indexOf(S);x.nodes.slice(I+1).reverse().forEach(function(e){t.removeNodeByKey(e.key)}),S=x}var C=_.nodes.indexOf(b),O=_.nodes.indexOf(A);for(_.nodes.slice(C+1,O).reverse().forEach(function(e){t.removeNodeByKey(e.key)}),S=y;S.key!=A.key;){var T=c.getParent(S.key),B=T.nodes.indexOf(S);T.nodes.slice(0,B).reverse().forEach(function(e){t.removeNodeByKey(e.key)}),S=T}if(0!=v&&t.removeTextByKey(i,a,v),0!=m&&t.removeTextByKey(s,0,u),h.key!=d.key){var j=(c=t.value.document).getFurthestOnlyChildAncestor(d.key);E!=k+1&&t.moveNodeByKey(d.key,w.key,k+1),p?t.removeNodeByKey(h.key):t.mergeNodeByKey(d.key),j&&t.removeNodeByKey(j.key)}}else{var M=a,N=u-a;t.removeTextByKey(i,M,N)}})},deleteBackwardAtRange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=t.value.document,o=e,i=o.start,a=o.focus;if(e.isExpanded)t.deleteAtRange(e);else{var s=r.getClosestVoid(i.key,t);if(s)t.removeNodeByKey(s.key);else if(!i.isAtStartOfNode(r)){var u=r.getClosestBlock(i.key);if(1!==r.nodes.size&&u&&""===u.text&&1===u.nodes.size)t.removeNodeByKey(u.key);else{var c=r.getDescendant(i.key);if(i.isAtStartOfNode(c)){var l=r.getPreviousText(c.key);r.getClosestInline(c.key)&&""===l.text&&(l=r.getPreviousText(l.key));var f=r.getClosestBlock(l.key),h=r.getClosestVoid(l.key,t);if(h)return void t.removeNodeByKey(h.key);if(1==n&&f!=u)return e=e.moveAnchorTo(l.key,l.text.length),void t.deleteAtRange(e)}if(n<a.offset)return e=e.moveFocusBackward(n),void t.deleteAtRange(e);for(var d=c,p=0,g=a.offset;n>g;){var y=g+(d=r.getPreviousText(d.key)).text.length;if(n<=y){p=y-n;break}g=y}e=e.moveAnchorTo(d.key,p),t.deleteAtRange(e)}}}}},deleteCharBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ut.getCharOffsetBackward(a,i);t.deleteBackwardAtRange(e,s)}},deleteCharForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ut.getCharOffsetForward(a,i);t.deleteForwardAtRange(e,s)}},deleteForwardAtRange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=t.value.document,o=e,i=o.start,a=o.focus;if(e.isExpanded)t.deleteAtRange(e);else{var s=r.getClosestVoid(i.key,t);if(s)t.removeNodeByKey(s.key);else{var u=r.getClosestBlock(i.key);if(u&&!t.isVoid(u)&&""===u.text&&1!==r.nodes.size){var c=r.getNextBlock(u.key);return t.removeNodeByKey(u.key),void(c&&c.key&&t.moveToStartOfNode(c))}if(!i.isAtEndOfNode(r)){var l=r.getDescendant(i.key);if(i.isAtEndOfNode(l)){var f=r.getNextText(l.key),h=r.getClosestBlock(f.key),d=r.getClosestVoid(f.key,t);if(d)return void t.removeNodeByKey(d.key);if(1==n&&h!=u)return e=e.moveFocusTo(f.key,0),void t.deleteAtRange(e)}if(n<=l.text.length-a.offset)return e=e.moveFocusForward(n),void t.deleteAtRange(e);for(var p=l,g=a.offset,y=l.text.length-a.offset;n>y;){var v=y+(p=r.getNextText(p.key)).text.length;if(n<=v){g=n-y;break}y=v}e=e.moveFocusTo(p.key,g),t.deleteAtRange(e)}}}}},deleteLineBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;t.deleteBackwardAtRange(e,o)}},deleteLineForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset;t.deleteForwardAtRange(e,o.text.length-i)}},deleteWordBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:Ut.getWordOffsetBackward(a,i);t.deleteBackwardAtRange(e,s)}},deleteWordForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=Ut.getWordOffsetForward(a,i),u=0===s?1:s;t.deleteForwardAtRange(e,u)}},insertBlockAtRange:function(t,e,n){e=zt(t,e),n=$.create(n);var r=t.value.document,o=e.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),u=r.getClosestInline(i),c=r.getParent(s.key),l=c.nodes.indexOf(s);if(t.isVoid(s)){var f=o.isAtEndOfNode(s)?1:0;t.insertNodeByKey(c.key,l+f,n)}else if(u||""!==s.text)if(o.isAtStartOfNode(s))t.insertNodeByKey(c.key,l,n);else if(o.isAtEndOfNode(s))t.insertNodeByKey(c.key,l+1,n);else{if(u&&t.isVoid(u)){var h=o.isAtEndOfNode(u),d=h?r.getNextText(i):r.getPreviousText(i),p=h?e.moveToStartOfNode(d):e.moveToEndOfNode(d);i=p.start.key,a=p.start.offset}t.withoutNormalizing(function(){t.splitDescendantsByKey(s.key,i,a),t.insertNodeByKey(c.key,l+1,n)})}else t.insertNodeByKey(c.key,l+1,n)},insertFragmentAtRange:function(t,e,n){t.withoutNormalizing(function(){if(e=zt(t,e),n.nodes.size){n=n.mapDescendants(function(t){return t.regenerateKey()});var r=e.start,o=t.value.document,a=o.getDescendant(r.key),s=o.getClosestBlock(a.key),u=s.getFurthestAncestor(a.key),c=r.isAtStartOfNode(s),l=o.getParent(s.key),f=l.nodes.indexOf(s),h=n.getBlocks(),d=n.nodes.first(),p=n.nodes.last(),g=h.first(),y=h.last(),v=Qt(n,o,s.key);if(g===y&&t.isVoid(g))t.insertBlockAtRange(e,g);else if(v!==n||!d.hasBlockChildren()&&!p.hasBlockChildren()){if(g!=y){var m=v.getFurthest(g.key,function(t){return 1==t.nodes.size})||g,_=l.nodes.indexOf(s);v.removeNode(m.key).nodes.forEach(function(e,n){var r=_+n+1;t.insertNodeByKey(l.key,r,e)})}if(0!=r.offset&&t.splitDescendantsByKey(u.key,r.key,r.offset),a=(o=t.value.document).getDescendant(r.key),u=(s=o.getClosestBlock(r.key)).getFurthestAncestor(a.key),g!=y){var b=c?u:s.getNextSibling(u.key),A=b?s.nodes.skipUntil(function(t){return t.key==b.key}):Object(i.List)(),w=y.nodes.size;A.forEach(function(e,n){var r=w+n;t.moveNodeByKey(e.key,y.key,r)})}if(t.isVoid(s)||""!==s.text){var k=s.getFurthestAncestor(a.key),E=s.nodes.indexOf(k);g.nodes.forEach(function(e,n){var o=0==r.offset?0:1,i=E+n+o;t.insertNodeByKey(s.key,i,e)})}else t.removeNodeByKey(s.key),t.insertNodeByKey(l.key,f,g)}else n.nodes.reverse().forEach(function(n){t.insertBlockAtRange(e,n)})}})}},Qt=function(t,e,n){var r=function(t){return t&&1===t.nodes.size},o=function(t){return t&&t.nodes.first()},i=t;if(r(t)){var a=o(t),s=e.getFurthest(n,function(t){return t.type===a.type});for(s===e.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};qt.insertInlineAtRange=function(t,e,n){n=N.create(n),t.withoutNormalizing(function(){e=zt(t,e);var r=t.value.document,o=e.start,i=r.getParent(o.key),a=r.assertDescendant(o.key),s=i.nodes.indexOf(a);t.isVoid(i)||(t.splitNodeByKey(o.key,o.offset),t.insertNodeByKey(i.key,s+1,n))})},qt.insertTextAtRange=function(t,e,n,r){e=zt(t,e);var o=t.value.document,i=e.start,a=i.offset,s=o.getParent(i.key);t.isVoid(s)||t.insertTextByKey(i.key,a,n,r)},qt.removeMarkAtRange=function(t,e,n){if(!e.isCollapsed){var r=t.value.document.getTextsAtRange(e),o=e.start,i=e.end;t.withoutNormalizing(function(){r.forEach(function(e){var r=e.key,a=0,s=e.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),t.removeMarkByKey(r,a,s,n)})})}},qt.setBlocksAtRange=function(t,e,n){var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=e.start,a=e.end,s=e.isCollapsed,u=r.hasVoidParent(i.key,t),c=r.getClosestBlock(i.key),l=r.getClosestBlock(a.key),f=0==s&&0==i.offset&&0==a.offset&&0==u&&i.key==c.getFirstText().key&&a.key==l.getFirstText().key?o.slice(0,-1):o;t.withoutNormalizing(function(){f.forEach(function(e){t.setNodeByKey(e.key,n)})})},qt.setInlinesAtRange=function(t,e,n){var r=t.value.document.getLeafInlinesAtRange(e);t.withoutNormalizing(function(){r.forEach(function(e){t.setNodeByKey(e.key,n)})})},qt.splitBlockAtRange=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e=zt(t,e),o=r.start,i=r.end,a=t.value,s=a.document,u=s.assertDescendant(o.key),c=s.getClosestBlock(u.key),l=0;c&&"block"==c.object&&l<n;)u=c,c=s.getClosestBlock(c.key),l++;t.withoutNormalizing(function(){if(t.splitDescendantsByKey(u.key,o.key,o.offset),a=t.value,s=a.document,e.isExpanded){e.isBackward&&(e=e.flip());var n=s.getNextBlock(u.key);e=(e=e.moveAnchorToStartOfNode(n)).setFocus(e.focus.setPath(null)),o.key===i.key&&(e=e.moveFocusTo(e.anchor.key,i.offset-o.offset)),e=s.resolveRange(e),t.deleteAtRange(e)}})},qt.splitInlineAtRange=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=(e=zt(t,e)).start,o=t.value.document,i=o.assertDescendant(r.key),a=o.getClosestInline(i.key),s=0;a&&"inline"==a.object&&s<n;)i=a,a=o.getClosestInline(a.key),s++;t.splitDescendantsByKey(i.key,r.key,r.offset)},qt.toggleMarkAtRange=function(t,e,n){e.isCollapsed||(n=L.create(n),t.value.document.getActiveMarksAtRange(e).some(function(t){return t.equals(n)})?t.removeMarkAtRange(e,n):t.addMarkAtRange(e,n))},qt.unwrapBlockAtRange=function(t,e,n){n=J.createProperties(n);var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=o.map(function(t){return r.getClosest(t.key,function(t){return"block"==t.object&&((null==n.type||t.type==n.type)&&!(null!=n.data&&!t.data.isSuperset(n.data)))})}).filter(function(t){return t}).toOrderedSet().toList();t.withoutNormalizing(function(){i.forEach(function(e){var n=e.nodes.first(),i=e.nodes.last(),a=r.getParent(e.key),s=a.nodes.indexOf(e),u=e.nodes.filter(function(t){return o.some(function(e){return t==e||t.hasDescendant(e.key)})}),c=u.first(),l=u.last();if(n==c&&i==l)e.nodes.forEach(function(e,n){t.moveNodeByKey(e.key,a.key,s+n)}),t.removeNodeByKey(e.key);else if(i==l)e.nodes.skipUntil(function(t){return t==c}).forEach(function(e,n){t.moveNodeByKey(e.key,a.key,s+1+n)});else if(n==c)e.nodes.takeUntil(function(t){return t==l}).push(l).forEach(function(e,n){t.moveNodeByKey(e.key,a.key,s+n)});else{var f=c.getFirstText();t.splitDescendantsByKey(e.key,f.key,0),r=t.value.document,u.forEach(function(e,n){if(0==n){var o=e;e=r.getNextBlock(e.key),t.removeNodeByKey(o.key)}t.moveNodeByKey(e.key,a.key,s+1+n)})}})})},qt.unwrapInlineAtRange=function(t,e,n){n=J.createProperties(n);var r=t.value.document,o=r.getTextsAtRange(e).map(function(t){return r.getClosest(t.key,function(t){return"inline"==t.object&&((null==n.type||t.type==n.type)&&!(null!=n.data&&!t.data.isSuperset(n.data)))})}).filter(function(t){return t}).toOrderedSet().toList();t.withoutNormalizing(function(){o.forEach(function(e){var n=t.value.document.getParent(e.key),r=n.nodes.indexOf(e);e.nodes.forEach(function(e,o){t.moveNodeByKey(e.key,n.key,r+o)}),t.removeNodeByKey(e.key)})})},qt.wrapBlockAtRange=function(t,e,n){n=(n=$.create(n)).set("nodes",n.nodes.clear());var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=o.first(),a=o.last(),s=void 0,u=void 0,c=void 0;if(1===o.length?(s=r.getParent(i.key),u=o):s=r.getClosest(i.key,function(t){return!!r.getClosest(a.key,function(e){return t==e})}),null==s&&(s=r),null==u){var l=s.nodes.reduce(function(t,e,n){return(e==i||e.hasDescendant(i.key))&&(t[0]=n),(e==a||e.hasDescendant(a.key))&&(t[1]=n),t},[]);c=l[0],u=s.nodes.slice(l[0],l[1]+1)}null==c&&(c=s.nodes.indexOf(u.first())),t.withoutNormalizing(function(){t.insertNodeByKey(s.key,c,n),u.forEach(function(e,r){t.moveNodeByKey(e.key,n.key,r)})})},qt.wrapInlineAtRange=function(t,e,n){var r=t.value.document,o=e.start,a=e.end;if(e.isCollapsed){var s=r.getClosestInline(o.key);if(!s)return;if(!t.isVoid(s))return;return t.wrapInlineByKey(s.key,n)}n=(n=N.create(n)).set("nodes",n.nodes.clear());var u=r.getLeafBlocksAtRange(e),c=r.getClosestBlock(o.key),l=r.getClosestBlock(a.key),f=r.getClosestInline(o.key),h=r.getClosestInline(a.key),d=c.getFurthestAncestor(o.key),p=l.getFurthestAncestor(a.key);t.withoutNormalizing(function(){f&&f==h||(t.splitDescendantsByKey(p.key,a.key,a.offset),t.splitDescendantsByKey(d.key,o.key,o.offset)),r=t.value.document,c=r.getDescendant(c.key),l=r.getDescendant(l.key),d=c.getFurthestAncestor(o.key),p=l.getFurthestAncestor(a.key);var s=c.nodes.indexOf(d),g=l.nodes.indexOf(p);if(f&&f==h){var y=c.getTextsAtRange(e).get(0).splitText(o.offset)[1].splitText(a.offset-o.offset)[0];n=n.set("nodes",Object(i.List)([y])),t.insertInlineAtRange(e,n);var v=n.getFirstText().key,m={anchor:{key:v,offset:0},focus:{key:v,offset:a.offset-o.offset},isFocused:!0};t.select(m)}else if(c==l){r=t.value.document,c=r.getClosestBlock(o.key),d=c.getFurthestAncestor(o.key);var _=r.getNextSibling(d.key),b=c.nodes.indexOf(_),A=o.key==a.key?_:c.getFurthestAncestor(a.key),w=c.nodes.skipUntil(function(t){return t==_}).takeUntil(function(t){return t==A}).push(A),k=n.regenerateKey();t.insertNodeByKey(c.key,b,k),w.forEach(function(e,n){t.moveNodeByKey(e.key,k.key,n)})}else{var E=c.nodes.slice(s+1),S=l.nodes.slice(0,g+1),x=n.regenerateKey(),I=n.regenerateKey();t.insertNodeByKey(c.key,s+1,x),t.insertNodeByKey(l.key,g,I),E.forEach(function(e,n){t.moveNodeByKey(e.key,x.key,n)}),S.forEach(function(e,n){t.moveNodeByKey(e.key,I.key,n)}),u.slice(1,-1).forEach(function(e){var r=n.regenerateKey();t.insertNodeByKey(e.key,0,r),e.nodes.forEach(function(e,n){t.moveNodeByKey(e.key,r.key,n)})})}})},qt.wrapTextAtRange=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e.start,i=e.end,a=e.moveToStart(),s=e.moveToEnd();o.key==i.key&&(s=s.moveForward(n.length)),t.withoutNormalizing(function(){t.insertTextAtRange(a,n,[]),t.insertTextAtRange(s,r,[])})};var Kt={addMarkByPath:function(t,e,n,r,o){o=L.create(o);var i=t.value,a=i.document.assertNode(e).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach(function(t){var n=l,r=n+t.text.length;if(l+=t.text.length,!(r<u||c<n)&&!t.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"add_mark",value:i,path:e,offset:a,length:f-a,mark:o})}}),s.forEach(function(e){return t.applyOperation(e)})},insertFragmentByPath:function(t,e,n,r){r.nodes.forEach(function(r,o){t.insertNodeByPath(e,n+o,r)})},insertNodeByPath:function(t,e,n,r){var o=t.value;t.applyOperation({type:"insert_node",value:o,path:e.concat(n),node:r})},insertTextByPath:function(t,e,n,r,o){var i=t.value,a=i.decorations,s=i.document.assertNode(e);o=o||s.getMarksAtIndex(n);var u=!1,c=s.key,l=a.filter(function(e){var r=e.start,o=e.end,i=e.mark;return!t.isAtomic(i)||(r.key!==c||(!(r.offset<n&&(o.key!==c||o.offset>n))||(u=!0,!1)))});u&&t.setDecorations(l),t.applyOperation({type:"insert_text",value:i,path:e,offset:n,text:r,marks:o})},mergeNodeByPath:function(t,e){var n=t.value,r=n.document,o=r.getDescendant(e),i=r.getPreviousSibling(e);if(!i)throw new Error('Unable to merge node with path "'+e+'", because it has no previous sibling.');var a="text"==i.object?i.text.length:i.nodes.size;t.applyOperation({type:"merge_node",value:n,path:e,position:a,properties:{type:o.type,data:o.data},target:null})},moveNodeByPath:function(t,e,n,r){var o=t.value;if(st.isEqual(e,n))return t;t.applyOperation({type:"move_node",value:o,path:e,newPath:n.concat(r)})},removeMarkByPath:function(t,e,n,r,o){o=L.create(o);var i=t.value,a=i.document.assertNode(e).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach(function(t){var n=l,r=n+t.text.length;if(l+=t.text.length,!(r<u||c<n)&&t.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"remove_mark",value:i,path:e,offset:a,length:f-a,mark:o})}}),s.forEach(function(e){return t.applyOperation(e)})},removeAllMarksByPath:function(t,e){var n=t.state.document.assertNode(e);("text"===n.object?[n]:n.getTextsAsArray()).forEach(function(e){e.getMarksAsArray().forEach(function(n){t.removeMarkByKey(e.key,0,e.text.length,n)})})},removeNodeByPath:function(t,e){var n=t.value,r=n.document.assertNode(e);t.applyOperation({type:"remove_node",value:n,path:e,node:r})},removeTextByPath:function(t,e,n,r){var o=t.value,i=o.decorations,a=o.document.assertNode(e),s=a.getLeaves(),u=a.text,c=!1,l=a.key,f=n,h=n+r,d=i.filter(function(e){var n=e.start,r=e.end,o=e.mark;return!t.isAtomic(o)||(n.key!==l||(n.offset<f&&(r.key!==l||r.offset>f)?(c=!0,!1):!(n.offset<h&&(r.key!==l||r.offset>h))||(c=!0,null)))});c&&t.setDecorations(d);var p=[],g=n,y=n+r,v=0;s.forEach(function(t){var n=v,r=n+t.text.length;if(v+=t.text.length,!(r<g||y<n)){var i=Math.max(n,g),a=Math.min(r,y),s=u.slice(i,a);p.push({type:"remove_text",value:o,path:e,offset:i,text:s,marks:t.marks})}}),p.reverse().forEach(function(e){return t.applyOperation(e)})},replaceNodeByPath:function(t,e,n){n=J.create(n);var r=e.last(),o=st.lift(e);t.withoutNormalizing(function(){t.removeNodeByPath(e),t.insertNodeByPath(o,r,n)})},replaceTextByPath:function(t,e,n,r,o,i){var a=t.value.document,s=a.assertNode(e);r+n>s.text.length&&(r=s.text.length-n);var u=a.createRange({anchor:{path:e,offset:n},focus:{path:e,offset:n+r}}),c=a.getActiveMarksAtRange(u);t.withoutNormalizing(function(){t.removeTextByPath(e,n,r),i?c&&(c=c.filter(function(t){return!i.find(function(e){return t.type===e.type})}),i=c.merge(i)):i=c||[],t.insertTextByPath(e,n,o,i)})},setMarkByPath:function(t,e,n,r,o,i){o=L.create(o),i=L.createProperties(i);var a=t.value;t.applyOperation({type:"set_mark",value:a,path:e,offset:n,length:r,mark:o,properties:i})},setNodeByPath:function(t,e,n){n=J.createProperties(n);var r=t.value,o=r.document.assertNode(e);t.applyOperation({type:"set_node",value:r,path:e,node:o,properties:n})},setTextByPath:function(t,e,n,r){var o=t.value.document.assertNode(e).text.length;t.replaceTextByPath(e,0,o,n,r)},splitNodeByPath:function(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).target,o=void 0===r?null:r,i=t.value,a=i.document.getDescendant(e);t.applyOperation({type:"split_node",value:i,path:e,position:n,target:o,properties:{type:a.type,data:a.data}})},splitDescendantsByPath:function(t,e,n,r){if(e.equals(n))t.splitNodeByPath(n,r);else{var o=t.value.document,i=o.assertNode(e),a=o.assertNode(n),s=o.getAncestors(n).skipUntil(function(t){return t.key==i.key}).reverse().unshift(a),u=void 0,c=void 0;t.withoutNormalizing(function(){s.forEach(function(e){var n=null==c?null:c;c=u?e.nodes.indexOf(u)+1:r,u=e,t.splitNodeByKey(e.key,c,{target:n})})})}},unwrapInlineByPath:function(t,e,n){var r=t.value,o=r.document,i=r.selection,a=o.assertNode(e),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);t.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(t,e,n){var r=t.value,o=r.document,i=r.selection,a=o.assertNode(e),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);t.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(t,e){var n=t.value.document;n.assertNode(e);var r=st.lift(e),o=n.assertNode(r),i=e.last(),a=r.last(),s=st.lift(r),u=0===i,c=i===o.nodes.size-1;t.withoutNormalizing(function(){if(1===o.nodes.size)t.moveNodeByPath(e,s,a+1),t.removeNodeByPath(r);else if(u)t.moveNodeByPath(e,s,a);else if(c)t.moveNodeByPath(e,s,a+1);else{var n=st.increment(e,1,r.size-1);n=n.set(n.size-1,0),t.splitNodeByPath(r,i),t.moveNodeByPath(n,s,a+1)}})},unwrapChildrenByPath:function(t,e){e=st.create(e);var n=t.value.document.assertNode(e),r=st.lift(e),o=e.last(),i=n.nodes;t.withoutNormalizing(function(){i.reverse().forEach(function(n,a){var s=i.size-a-1,u=e.push(s);t.moveNodeByPath(u,r,o+1)}),t.removeNodeByPath(e)})},wrapBlockByPath:function(t,e,n){n=(n=$.create(n)).set("nodes",n.nodes.clear());var r=st.lift(e),o=e.last(),i=st.increment(e);t.withoutNormalizing(function(){t.insertNodeByPath(r,o,n),t.moveNodeByPath(i,e,0)})},wrapInlineByPath:function(t,e,n){n=(n=N.create(n)).set("nodes",n.nodes.clear());var r=st.lift(e),o=e.last(),i=st.increment(e);t.withoutNormalizing(function(){t.insertNodeByPath(r,o,n),t.moveNodeByPath(i,e,0)})},wrapNodeByPath:function(t,e,n){"block"===(n=J.create(n)).object?t.wrapBlockByPath(e,n):"inline"===n.object&&t.wrapInlineByPath(e,n)}},Ht=function(t){Kt[t+"ByKey"]=function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=e.value.document.assertPath(n);e[t+"ByPath"].apply(e,[a].concat(o))}},Wt=!0,Vt=!1,Yt=void 0;try{for(var Jt,Gt=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(Wt=(Jt=Gt.next()).done);Wt=!0){Ht(Jt.value)}}catch(je){Vt=!0,Yt=je}finally{try{!Wt&&Gt.return&&Gt.return()}finally{if(Vt)throw Yt}}Kt.moveNodeByKey=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=t.value.document,s=a.assertPath(e),u=a.assertPath(n);t.moveNodeByPath.apply(t,[s,u].concat(o))},Kt.splitDescendantsByKey=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=t.value.document,s=a.assertPath(e),u=a.assertPath(n);t.splitDescendantsByPath.apply(t,[s,u].concat(o))};var $t={};$t.save=function(t,e){var n=t.operations,r=t.value.data,o=t.tmp,a=o.save,s=o.merge;if(!1!==a){var u,c,l=r.get("undos")||Object(i.List)(),f=l.last(),h=f&&f.last();if(null==s&&(0!==n.size?s=!0:(u=e,s=!!(c=h)&&("set_selection"===u.type&&"set_selection"===c.type||"insert_text"===u.type&&"insert_text"===c.type&&u.offset===c.offset+c.text.length&&u.path.equals(c.path)||"remove_text"===u.type&&"remove_text"===c.type&&u.offset+u.text.length===c.offset&&u.path.equals(c.path)))),s&&f){var d=f.push(e);l=(l=l.pop()).push(d)}else{var p=Object(i.List)([e]);l=l.push(p)}l.size>100&&(l=l.takeLast(100)),t.withoutSaving(function(){var e=Object(i.List)(),n=r.set("undos",l).set("redos",e);t.setData(n)})}},$t.redo=function(t){var e=t.value.data,n=e.get("redos")||Object(i.List)(),r=e.get("undos")||Object(i.List)(),o=n.last();o&&t.withoutSaving(function(){t.withoutNormalizing(function(){o.forEach(function(e){var n=e,r=n.type,o=n.properties;"set_selection"===r&&(e=e.set("properties",p()(o,"isFocused"))),t.applyOperation(e)}),n=n.pop(),r=r.push(o);var i=e.set("undos",r).set("redos",n);t.setData(i)})})},$t.undo=function(t){var e=t.value.data,n=e.get("redos")||Object(i.List)(),r=e.get("undos")||Object(i.List)(),o=r.last();o&&t.withoutSaving(function(){t.withoutNormalizing(function(){o.slice().reverse().map(function(t){return t.invert()}).forEach(function(e){var n=e,r=n.type,o=n.properties;"set_selection"===r&&(e=e.set("properties",p()(o,"isFocused"))),t.applyOperation(e)}),n=n.push(o),r=r.pop();var i=e.set("undos",r).set("redos",n);t.setData(i)})})},$t.withoutMerging=function(t,e){var n=t.tmp.merge;t.tmp.merge=!1,e(t),t.tmp.merge=n},$t.withoutSaving=function(t,e){var n=t.tmp.save;t.tmp.save=!1,e(t),t.tmp.save=n};var Xt={};function Zt(t,e){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=t.value.selection)[e].apply(n,o);t.select(a)}function te(t,e,n,r){var o=e.slice(0,1).toUpperCase()+e.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",u="text"==r?"getNode":"getClosest"+a,c=t.value,l=c.document,f=c.selection[e],h=l[u](f.key);h&&t[s](h)}function ee(t,e,n,r,o){var i=e.slice(0,1).toUpperCase()+e.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),u=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",l="text"==o?"getNode":"getClosest"+u,f="get"+s+u,h=t.value,d=h.document,p=h.selection[e],g=d[l](p.key);if(g){var y=d[f](g.key);y&&t[c](y)}}function ne(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return re(t,e,-n);var r=e.slice(0,1).toUpperCase()+e.slice(1),o=t.value,i=o.document,a=o.selection,s=a[e],u=i.hasVoidParent(s.path,t);if(!u&&s.offset-n>=0){var c=a["move"+r+"Backward"](n);t.select(c)}else{var l=i.getPreviousText(s.path);if(l){var f=i.getClosestBlock(s.path).hasNode(l.key),h=l&&i.hasVoidParent(l.key,t);if(t["move"+r+"ToEndOfNode"](l),!u&&!h&&f){var d=t.value.selection["move"+r+"Backward"](n);t.select(d)}}}}}function re(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return ne(t,e,-n);var r=e.slice(0,1).toUpperCase()+e.slice(1),o=t.value,i=o.document,a=o.selection,s=a[e],u=i.getNode(s.path),c=i.hasVoidParent(s.path,t);if(!c&&s.offset+n<=u.text.length){var l=a["move"+r+"Forward"](n);t.select(l)}else{var f=i.getNextText(s.path);if(f){var h=i.getClosestBlock(s.path).hasNode(f.key),d=i.hasVoidParent(f.key,t);if(t["move"+r+"ToStartOfNode"](f),!c&&!d&&h){var p=t.value.selection["move"+r+"Forward"](n);t.select(p)}}}}}function oe(t,e){var n=t.value,r=n.document,o=n.selection[e],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Ut.getWordOffsetBackward(s,a);t.command(ne,e,u>0?u:1)}function ie(t,e){var n=t.value,r=n.document,o=n.selection[e],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Ut.getWordOffsetForward(s,a);t.command(re,e,u>0?u:1)}Xt.blur=function(t){t.select({isFocused:!1})},Xt.deselect=function(t){var e=vt.create();t.select(e)},Xt.focus=function(t){t.select({isFocused:!0})},Xt.flip=function(t){t.command(Zt,"flip")},Xt.moveAnchorBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ne,"anchor"].concat(n))},Xt.moveAnchorWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[oe,"anchor"].concat(n))},Xt.moveAnchorForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[re,"anchor"].concat(n))},Xt.moveAnchorWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ie,"anchor"].concat(n))},Xt.moveAnchorTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveAnchorTo"].concat(n))},Xt.moveAnchorToEndOfBlock=function(t){t.command(te,"anchor","end","block")},Xt.moveAnchorToEndOfInline=function(t){t.command(te,"anchor","end","inline")},Xt.moveAnchorToEndOfDocument=function(t){t.moveAnchorToEndOfNode(t.value.document).moveToAnchor()},Xt.moveAnchorToEndOfNextBlock=function(t){t.command(ee,"anchor","end","next","block")},Xt.moveAnchorToEndOfNextInline=function(t){t.command(ee,"anchor","end","next","inline")},Xt.moveAnchorToEndOfNextText=function(t){t.command(ee,"anchor","end","next","text")},Xt.moveAnchorToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveAnchorToEndOfNode"].concat(n))},Xt.moveAnchorToEndOfPreviousBlock=function(t){t.command(ee,"anchor","end","previous","block")},Xt.moveAnchorToEndOfPreviousInline=function(t){t.command(ee,"anchor","end","previous","inline")},Xt.moveAnchorToEndOfPreviousText=function(t){t.command(ee,"anchor","end","previous","text")},Xt.moveAnchorToEndOfText=function(t){t.command(te,"anchor","end","text")},Xt.moveAnchorToStartOfBlock=function(t){t.command(te,"anchor","start","block")},Xt.moveAnchorToStartOfDocument=function(t){t.moveAnchorToStartOfNode(t.value.document).moveToAnchor()},Xt.moveAnchorToStartOfInline=function(t){t.command(te,"anchor","start","inline")},Xt.moveAnchorToStartOfNextBlock=function(t){t.command(ee,"anchor","start","next","block")},Xt.moveAnchorToStartOfNextInline=function(t){t.command(ee,"anchor","start","next","inline")},Xt.moveAnchorToStartOfNextText=function(t){t.command(ee,"anchor","start","next","text")},Xt.moveAnchorToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveAnchorToStartOfNode"].concat(n))},Xt.moveAnchorToStartOfPreviousBlock=function(t){t.command(ee,"anchor","start","previous","block")},Xt.moveAnchorToStartOfPreviousInline=function(t){t.command(ee,"anchor","start","previous","inline")},Xt.moveAnchorToStartOfPreviousText=function(t){t.command(ee,"anchor","start","previous","text")},Xt.moveAnchorToStartOfText=function(t){t.command(te,"anchor","start","text")},Xt.moveBackward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveAnchorBackward.apply(t,r)).moveFocusBackward.apply(e,r)},Xt.moveWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.moveFocusWordBackward.apply(t,n).moveToFocus()},Xt.moveEndBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ne,"end"].concat(n))},Xt.moveEndWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[oe,"end"].concat(n))},Xt.moveEndForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[re,"end"].concat(n))},Xt.moveEndWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ie,"end"].concat(n))},Xt.moveEndTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveEndTo"].concat(n))},Xt.moveEndToEndOfBlock=function(t){t.command(te,"end","end","block")},Xt.moveEndToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Xt.moveEndToEndOfInline=function(t){t.command(te,"end","end","inline")},Xt.moveEndToEndOfNextBlock=function(t){t.command(ee,"end","end","next","block")},Xt.moveEndToEndOfNextInline=function(t){t.command(ee,"end","end","next","inline")},Xt.moveEndToEndOfNextText=function(t){t.command(ee,"end","end","next","text")},Xt.moveEndToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveEndToEndOfNode"].concat(n))},Xt.moveEndToEndOfPreviousBlock=function(t){t.command(ee,"end","end","previous","block")},Xt.moveEndToEndOfPreviousInline=function(t){t.command(ee,"end","end","previous","inline")},Xt.moveEndToEndOfPreviousText=function(t){t.command(ee,"end","end","previous","text")},Xt.moveEndToEndOfText=function(t){t.command(te,"end","end","text")},Xt.moveEndToStartOfBlock=function(t){t.command(te,"end","start","block")},Xt.moveEndToStartOfDocument=function(t){t.moveEndToStartOfNode(t.value.document).moveToEnd()},Xt.moveEndToStartOfInline=function(t){t.command(te,"end","start","inline")},Xt.moveEndToStartOfNextBlock=function(t){t.command(ee,"end","start","next","block")},Xt.moveEndToStartOfNextInline=function(t){t.command(ee,"end","start","next","inline")},Xt.moveEndToStartOfNextText=function(t){t.command(ee,"end","start","next","text")},Xt.moveEndToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveEndToStartOfNode"].concat(n))},Xt.moveEndToStartOfPreviousBlock=function(t){t.command(ee,"end","start","previous","block")},Xt.moveEndToStartOfPreviousInline=function(t){t.command(ee,"end","start","previous","inline")},Xt.moveEndToStartOfPreviousText=function(t){t.command(ee,"end","start","previous","text")},Xt.moveEndToStartOfText=function(t){t.command(te,"end","start","text")},Xt.moveFocusBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ne,"focus"].concat(n))},Xt.moveFocusWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[oe,"focus"].concat(n))},Xt.moveFocusForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[re,"focus"].concat(n))},Xt.moveFocusWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ie,"focus"].concat(n))},Xt.moveFocusTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveFocusTo"].concat(n))},Xt.moveFocusToEndOfBlock=function(t){t.command(te,"focus","end","block")},Xt.moveFocusToEndOfDocument=function(t){t.moveFocusToEndOfNode(t.value.document).moveToFocus()},Xt.moveFocusToEndOfInline=function(t){t.command(te,"focus","end","inline")},Xt.moveFocusToEndOfNextBlock=function(t){t.command(ee,"focus","end","next","block")},Xt.moveFocusToEndOfNextInline=function(t){t.command(ee,"focus","end","next","inline")},Xt.moveFocusToEndOfNextText=function(t){t.command(ee,"focus","end","next","text")},Xt.moveFocusToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveFocusToEndOfNode"].concat(n))},Xt.moveFocusToEndOfPreviousBlock=function(t){t.command(ee,"focus","end","previous","block")},Xt.moveFocusToEndOfPreviousInline=function(t){t.command(ee,"focus","end","previous","inline")},Xt.moveFocusToEndOfPreviousText=function(t){t.command(ee,"focus","end","previous","text")},Xt.moveFocusToEndOfText=function(t){t.command(te,"focus","end","text")},Xt.moveFocusToStartOfBlock=function(t){t.command(te,"focus","start","block")},Xt.moveFocusToStartOfDocument=function(t){t.moveFocusToStartOfNode(t.value.document).moveToFocus()},Xt.moveFocusToStartOfInline=function(t){t.command(te,"focus","start","inline")},Xt.moveFocusToStartOfNextBlock=function(t){t.command(ee,"focus","start","next","block")},Xt.moveFocusToStartOfNextInline=function(t){t.command(ee,"focus","start","next","inline")},Xt.moveFocusToStartOfNextText=function(t){t.command(ee,"focus","start","next","text")},Xt.moveFocusToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveFocusToStartOfNode"].concat(n))},Xt.moveFocusToStartOfPreviousBlock=function(t){t.command(ee,"focus","start","previous","block")},Xt.moveFocusToStartOfPreviousInline=function(t){t.command(ee,"focus","start","previous","inline")},Xt.moveFocusToStartOfPreviousText=function(t){t.command(ee,"focus","start","previous","text")},Xt.moveFocusToStartOfText=function(t){t.command(te,"focus","start","text")},Xt.moveForward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveAnchorForward.apply(t,r)).moveFocusForward.apply(e,r)},Xt.moveWordForward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveFocusWordForward.apply(t,r)).moveToFocus.apply(e,r)},Xt.moveStartBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ne,"start"].concat(n))},Xt.moveStartWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[oe,"start"].concat(n))},Xt.moveStartForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[re,"start"].concat(n))},Xt.moveStartWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[ie,"start"].concat(n))},Xt.moveStartTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveStartTo"].concat(n))},Xt.moveStartToEndOfBlock=function(t){t.command(te,"start","end","block")},Xt.moveStartToEndOfDocument=function(t){t.moveStartToEndOfNode(t.value.document).moveToStart()},Xt.moveStartToEndOfInline=function(t){t.command(te,"start","end","inline")},Xt.moveStartToEndOfNextBlock=function(t){t.command(ee,"start","end","next","block")},Xt.moveStartToEndOfNextInline=function(t){t.command(ee,"start","end","next","inline")},Xt.moveStartToEndOfNextText=function(t){t.command(ee,"start","end","next","text")},Xt.moveStartToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveStartToEndOfNode"].concat(n))},Xt.moveStartToEndOfPreviousBlock=function(t){t.command(ee,"start","end","previous","block")},Xt.moveStartToEndOfPreviousInline=function(t){t.command(ee,"start","end","previous","inline")},Xt.moveStartToEndOfPreviousText=function(t){t.command(ee,"start","end","previous","text")},Xt.moveStartToEndOfText=function(t){t.command(te,"start","end","text")},Xt.moveStartToStartOfBlock=function(t){t.command(te,"start","start","block")},Xt.moveStartToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Xt.moveStartToStartOfInline=function(t){t.command(te,"start","start","inline")},Xt.moveStartToStartOfNextBlock=function(t){t.command(ee,"start","start","next","block")},Xt.moveStartToStartOfNextInline=function(t){t.command(ee,"start","start","next","inline")},Xt.moveStartToStartOfNextText=function(t){t.command(ee,"start","start","next","text")},Xt.moveStartToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveStartToStartOfNode"].concat(n))},Xt.moveStartToStartOfPreviousBlock=function(t){t.command(ee,"start","start","previous","block")},Xt.moveStartToStartOfPreviousInline=function(t){t.command(ee,"start","start","previous","inline")},Xt.moveStartToStartOfPreviousText=function(t){t.command(ee,"start","start","previous","text")},Xt.moveStartToStartOfText=function(t){t.command(te,"start","start","text")},Xt.moveTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveTo"].concat(n))},Xt.moveToAnchor=function(t){t.command(Zt,"moveToAnchor")},Xt.moveToEnd=function(t){t.command(Zt,"moveToEnd")},Xt.moveToEndOfBlock=function(t){t.moveEndToEndOfBlock().moveToEnd()},Xt.moveToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Xt.moveToEndOfInline=function(t){t.moveEndToEndOfInline().moveToEnd()},Xt.moveToEndOfNextBlock=function(t){t.moveEndToEndOfNextBlock().moveToEnd()},Xt.moveToEndOfNextInline=function(t){t.moveEndToEndOfNextInline().moveToEnd()},Xt.moveToEndOfNextText=function(t){t.moveEndToEndOfNextText().moveToEnd()},Xt.moveToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveToEndOfNode"].concat(n))},Xt.moveToEndOfPreviousBlock=function(t){t.moveStartToEndOfPreviousBlock().moveToStart()},Xt.moveToEndOfPreviousInline=function(t){t.moveStartToEndOfPreviousInline().moveToStart()},Xt.moveToEndOfPreviousText=function(t){t.moveStartToEndOfPreviousText().moveToStart()},Xt.moveToEndOfText=function(t){t.moveEndToEndOfText().moveToEnd()},Xt.moveToFocus=function(t){t.command(Zt,"moveToFocus")},Xt.moveToRangeOfDocument=function(t){t.moveToRangeOfNode(t.value.document)},Xt.moveToRangeOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveToRangeOfNode"].concat(n))},Xt.moveToStart=function(t){t.command(Zt,"moveToStart")},Xt.moveToStartOfBlock=function(t){t.moveStartToStartOfBlock().moveToStart()},Xt.moveToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Xt.moveToStartOfInline=function(t){t.moveStartToStartOfInline().moveToStart()},Xt.moveToStartOfNextBlock=function(t){t.moveEndToStartOfNextBlock().moveToEnd()},Xt.moveToStartOfNextInline=function(t){t.moveEndToStartOfNextInline().moveToEnd()},Xt.moveToStartOfNextText=function(t){t.moveEndToStartOfNextText().moveToEnd()},Xt.moveToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"moveToStartOfNode"].concat(n))},Xt.moveToStartOfPreviousBlock=function(t){t.moveStartToStartOfPreviousBlock().moveToStart()},Xt.moveToStartOfPreviousInline=function(t){t.moveStartToStartOfPreviousInline().moveToStart()},Xt.moveToStartOfPreviousText=function(t){t.moveStartToStartOfPreviousText().moveToStart()},Xt.moveToStartOfText=function(t){t.moveStartToStartOfText().moveToStart()},Xt.select=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=vt.createProperties(e);var r=n.snapshot,o=void 0!==r&&r,a=t.value,s=a.document,u=a.selection,c={},l=u.setProperties(e);for(var h in l=s.resolveSelection(l),e=f()(l,Object.keys(e)))!0!==o&&Object(i.is)(e[h],u[h])||(c[h]=e[h]);u.marks&&!c.marks&&(c.anchor||c.focus)&&(c.marks=null),0!==Object.keys(c).length&&t.applyOperation({type:"set_selection",value:a,properties:c,selection:u.toJSON()},o?{skip:!1,merge:!1}:{})},Xt.setAnchor=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"setAnchor"].concat(n))},Xt.setEnd=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"setEnd"].concat(n))},Xt.setFocus=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"setFocus"].concat(n))},Xt.setStart=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"setStart"].concat(n))},Xt.snapshotSelection=function(t){t.withoutMerging(function(){t.select(t.value.selection,{snapshot:!0})})};var ae={};function se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onConstruct:function(e,n){for(var r in t)e.registerQuery(r);return n()},onQuery:function(e,n,r){var o=e.type,i=e.args,a=t[o];if(!a)return r();var s=a.apply(void 0,[n].concat(O(i)));return void 0===s?r():s}}}ae.setData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_t.createProperties({data:e}),r=t.value;t.applyOperation({type:"set_value",properties:n,value:r})},ae.setDecorations=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=_t.createProperties({decorations:e}),r=t.value;t.applyOperation({type:"set_value",properties:n,value:r})};var ue=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,e);var r=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var o in r.code=t,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return S(e,t),e}(Error);function ce(t){var e=t.rules,n=t.document,r=t.blocks,o=t.inlines,i=t.marks,a=[];if(e&&(a=a.concat(e)),n&&a.push(E({match:[{object:"document"}]},n)),r)for(var s in r)a.push(E({match:[{object:"block",type:s}]},r[s]));if(o)for(var u in o)a.push(E({match:[{object:"inline",type:u}]},o[u]));if(i)for(var c in i)a.push(E({match:[{object:"mark",type:c}]},i[c]));function l(t,e,n){var r=a.filter(function(e){return le(t,e.match)}),o=fe(t,r,a,{every:!0});return o?new ue(o.code,o):n()}return[{normalizeNode:function(t,e,n){var r=l(t,0,function(){});return r?function(){var t=r.rule,n=e.operations.size;t.normalize&&t.normalize(e,r),e.operations.size===n&&function(t,e){var n=e.code,r=e.node,o=e.child,i=e.next,a=e.previous,s=e.key,u=e.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach(function(e){return t.removeNodeByKey(e.key)}):t.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?t.removeNodeByKey(r.key):t.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach(function(e){return t.removeMarkByKey(e.key,0,e.text.length,u)});default:t.removeNodeByKey(r.key)}}(e,r)}:n()},validateNode:l},se({isAtomic:function(t,e){var n=a.find(function(t){return"isAtomic"in t&&le(e,t.match)});return n&&n.isAtomic},isVoid:function(t,e){var n=a.find(function(t){return"isVoid"in t&&le(e,t.match)});return n&&n.isVoid}})]}function le(t,e){return!fe(t,e)}function fe(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).every,o=void 0!==r&&r;if(Array.isArray(e)){var i=e.length?e:[{}],a=void 0,s=!0,u=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=fe(t,l.value,n);if(a=a||h,o&&h)return h;if(!o&&!h)return}}catch(je){u=!0,c=je}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}return a}return function(t,e){if(null==e.object)return;if(e.object===t.object)return;if("function"===typeof e.object&&e.object(t.object))return;return ge("node_object_invalid",{rule:e,node:t})}(t,e)||function(t,e){if(null==e.type)return;if(e.type===t.type)return;if("function"===typeof e.type&&e.type(t.type))return;return ge("node_type_invalid",{rule:e,node:t})}(t,e)||function(t,e){if(null==e.data)return;if(null==t.data)return;if("function"===typeof e.data){if(e.data(t.data))return;return ge("node_data_invalid",{rule:e,node:t})}for(var n in e.data){var r=e.data[n],o=t.data&&t.data.get(n),i="function"===typeof r?r(o):r===o;if(!i)return ge("node_data_invalid",{rule:e,node:t,key:n,value:o})}}(t,e)||function(t,e){if(null==e.marks)return;var n=t.getMarks().toArray(),r=function(n){var r=e.marks.some(function(t){return"function"===typeof t.type?t.type(n.type):t.type===n.type});return r?"continue":{v:ge("node_mark_invalid",{rule:e,node:t,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=r(c);switch(l){case"continue":continue;default:if("object"===("undefined"===typeof l?"undefined":A(l)))return l.v}}}catch(je){i=!0,a=je}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}(t,e)||function(t,e){if(null==e.text)return;var n=t.text;if("function"===typeof e.text?e.text(n):e.text.test(n))return;return ge("node_text_invalid",{rule:e,node:t,text:n})}(t,e)||function(t,e){if(null==e.first)return;var n=t.nodes.first();if(!n)return;var r=fe(n,e.first);if(!r)return;return r.rule=e,r.node=t,r.child=n,r.code=r.code.replace("node_","first_child_"),r}(t,e)||function(t,e){if(null==e.last)return;var n=t.nodes.last();if(!n)return;var r=fe(n,e.last);if(!r)return;return r.rule=e,r.node=t,r.child=n,r.code=r.code.replace("node_","last_child_"),r}(t,e)||function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==t.nodes)return;var r=t.nodes,o=null!=e.nodes?e.nodes.slice():[],i=0,a=0,s=null,u=-1,c=null,l=null,f=null,h=null,d=null;function p(){return 0!==o.length&&(c=o.shift(),a=i,i=0,s=c.min||null,l=c.max||null,!0)}function g(){return h=(u+=1)?r.get(u-1):null,f=r.get(u),d=r.get(u+1),!!f&&(a=i,i+=1,!0)}function y(){u>0&&(u-=1,i=a)}null!=e.nodes&&p();for(;g();){var v=he(t,f,n)||de(t,f,h,u,n)||pe(t,f,d,u,n);if(v)return v;if(null!=e.nodes){if(!c)return ge("child_unknown",{rule:e,node:t,child:f,index:u});if(c.match){var m=fe(f,c.match);if(m){if(null!=l&&i-1>l)return y(),ge("child_max_invalid",{rule:e,node:t,index:u,child:r.get(u),count:i,limit:l});var _=s;if(p()){if(a-1>=_){u-=1;continue}return null==fe(f,c.match)?(y(),ge("child_min_invalid",{rule:e,node:t,index:u,count:a-1,limit:_})):(m.rule=e,m.node=t,m.child=f,m.index=u,m.code=m.code.replace("node_","child_"),m)}return null!=l&&i>l?ge("child_unknown",{rule:e,node:t,child:f,index:u}):(m.rule=e,m.node=t,m.child=f,m.index=u,m.code=m.code.replace("node_","child_"),m)}}}}if(null!=l&&i>l)return ge("child_max_invalid",{rule:e,node:t,index:u-1,count:i,child:r.get(u-1),limit:l});if(null!=e.nodes)do{if(i<s)return ge("child_min_invalid",{rule:e,node:t,index:u,count:i,limit:s})}while(p())}(t,e,n)}function he(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(null!=u.parent&&le(e,u.match)){var c=fe(t,u.parent);if(c)return c.rule=u,c.parent=t,c.node=e,c.code=c.code.replace("node_","parent_"),c}}}catch(je){o=!0,i=je}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function de(t,e,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.previous&&le(e,l.match)){var f=fe(n,l.previous);if(f)return f.rule=l,f.node=t,f.child=e,f.index=r,f.previous=n,f.code=f.code.replace("node_","previous_sibling_"),f}}}catch(je){a=!0,s=je}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function pe(t,e,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.next&&le(e,l.match)){var f=fe(n,l.next);if(f)return f.rule=l,f.node=t,f.child=e,f.index=r,f.next=n,f.code=f.code.replace("node_","next_sibling_"),f}}}catch(je){a=!0,s=je}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function ge(t,e){return E({code:t},e)}function ye(t){t.value.selection.isExpanded&&t.delete()}var ve={};ve.addMark=function(t,e){e=L.create(e);var n=t.value,r=n.document,o=n.selection;if(o.isExpanded)t.addMarkAtRange(o,e);else if(o.marks){var i=o.marks.add(e),a=o.set("marks",i);t.select(a)}else{var s=r.getActiveMarksAtRange(o).add(e),u=o.set("marks",s);t.select(u)}},ve.addMarks=function(t,e){e.forEach(function(e){return t.addMark(e)})},ve.delete=function(t){var e=t.value.selection;t.deleteAtRange(e),t.moveToFocus()},ve.deleteBackward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.value.selection;n.isExpanded?t.delete():t.deleteBackwardAtRange(n,e)},ve.deleteCharBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharBackwardAtRange(e)},ve.deleteLineBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineBackwardAtRange(e)},ve.deleteWordBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordBackwardAtRange(e)},ve.deleteForward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.value.selection;n.isExpanded?t.delete():t.deleteForwardAtRange(n,e)},ve.deleteCharForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharForwardAtRange(e)},ve.deleteLineForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineForwardAtRange(e)},ve.deleteWordForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordForwardAtRange(e)},ve.insertBlock=function(t,e){ye(t),e=$.create(e);var n=t.value.selection;t.insertBlockAtRange(n,e);var r=t.value.document.getNode(e.key);r&&t.moveToEndOfNode(r)},ve.insertFragment=function(t,e){if(e.nodes.size){ye(t);var n=t.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,u=n,c=u.startText,l=u.endText,f=u.startInline,h=e.getLastText(),d=e.getClosestInline(h.key),p=e.getClosestBlock(h.key),g=e.nodes.first(),y=e.nodes.last(),v=o.getTexts().map(function(t){return t.key}),m=!f||a.isAtStartOfNode(c)||s.isAtStartOfNode(c)||a.isAtEndOfNode(l)||s.isAtEndOfNode(l),_=g.hasBlockChildren()||y.hasBlockChildren();t.insertFragmentAtRange(i,e);var b=(o=(n=t.value).document).getTexts().filter(function(t){return!v.includes(t.key)}),A=m?b.last():b.takeLast(2).first();A&&(d||_)?t.moveToEndOfNode(A):A&&t.moveToStartOfNode(A).moveForward(p.text.length)}},ve.insertInline=function(t,e){ye(t),e=N.create(e);var n=t.value.selection;t.insertInlineAtRange(n,e);var r=t.value.document.getNode(e.key);r&&t.moveToEndOfNode(r)},ve.insertText=function(t,e,n){ye(t);var r=t.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),t.insertTextAtRange(i,e,n),i.marks&&o!=t.value.document&&t.select({marks:null})},ve.removeMark=function(t,e){e=L.create(e);var n=t.value,r=n.document,o=n.selection;if(o.isExpanded)t.removeMarkAtRange(o,e);else if(o.marks){var i=o.marks.remove(e),a=o.set("marks",i);t.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(e),u=o.set("marks",s);t.select(u)}},ve.replaceMark=function(t,e,n){t.removeMark(e),t.addMark(n)},ve.setBlocks=function(t,e){var n=t.value.selection;t.setBlocksAtRange(n,e)},ve.setInlines=function(t,e){var n=t.value.selection;t.setInlinesAtRange(n,e)},ve.splitBlock=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;ye(t);var n=t.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);t.splitBlockAtRange(r,e).moveToEnd(),i&&0!==i.size&&t.select({marks:i})},ve.splitInline=function(t,e){ye(t);var n=t.value.selection;t.splitInlineAtRange(n,e)},ve.toggleMark=function(t,e){e=L.create(e),t.value.activeMarks.has(e)?t.removeMark(e):t.addMark(e)},ve.unwrapBlock=function(t,e){var n=t.value.selection;t.unwrapBlockAtRange(n,e)},ve.unwrapInline=function(t,e){var n=t.value.selection;t.unwrapInlineAtRange(n,e)},ve.wrapBlock=function(t,e){var n=t.value.selection;t.wrapBlockAtRange(n,e)},ve.wrapInline=function(t,e){var n=t.value.selection;t.wrapInlineAtRange(n,e)},ve.wrapText=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.value.selection;t.wrapTextAtRange(r,e,n),r.isCollapsed&&t.moveStartBackward(e.length),t.moveEndBackward(n.length),r.isForward!=t.value.selection.isForward&&t.flip()};var me=c()("slate:editor"),_e=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,t);var r=n.controller,o=void 0===r?this:r,a=n.construct,s=void 0===a||a,u=e.onChange,c=void 0===u?function(){}:u,l=e.plugins,f=void 0===l?[]:l,h=e.readOnly,d=void 0!==h&&h,p=e.value,g=void 0===p?_t.create():p;this.controller=o,this.middleware={},this.onChange=c,this.operations=Object(i.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0},function t(e,n){if(Array.isArray(n))return void n.forEach(function(n){return t(e,n)});var r=n.commands,o=n.queries,i=n.schema,a=x(n,["commands","queries","schema"]);if(r){var s=Ot(r);t(e,s)}if(o){var u=se(o);t(e,u)}if(i){var c=ce(i);t(e,c)}for(var l in a){var f=a[l],h=e.middleware[l]=e.middleware[l]||[];h.push(f)}}(this,function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,e=void 0===t?[]:t,n=Ot(E({},qt,Kt,$t,Xt,ae,ve)),r=se({isAtomic:function(){return!1},isVoid:function(){return!1}});return[ce({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(t,e){var n=e.code,r=e.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&t.insertNodeByKey(r.key,0,Y.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(t,e){var n=e.code,r=e.node,o=Y.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}t.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(t,e){var n=e.code,r=e.node,o=e.index,i=Y.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}t.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(t,e){var n=e.code,r=e.next;"next_sibling_object_invalid"===n&&t.mergeNodeByKey(r.key)}}]})].concat(O(e),[n,r])}({plugins:f})),s&&(this.run("onConstruct"),this.setReadOnly(d),this.setValue(g,n))}return k(t,[{key:"applyOperation",value:function(t){var e=this,n=this.operations,r=this.controller,i=this.value;o()(t)&&(t=E({},t,{value:i})),t=xt.create(t),this.withoutNormalizing(function(){r.save(t),i=e.value}),me("apply",{operation:t}),this.value=t.apply(i),this.operations=n.push(t);var a=function(t){var e=t.type,n=t.node,r=t.path,o=t.newPath;switch(e){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=st.getAncestors(r).toArray();return[].concat(O(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map(function(t){return r.concat(t)}),u=st.getAncestors(r).toArray();return[].concat(O(u),[r],O(s));case"split_node":var c=st.getAncestors(r).toArray(),l=st.increment(r);return[].concat(O(c),[r,l]);case"merge_node":var f=st.getAncestors(r).toArray(),h=st.decrement(r);return[].concat(O(f),[h]);case"move_node":var d=st.lift(r),p=st.lift(o);if(st.isEqual(r,o))return[];st.isSibling(r,o)||(p.size&&st.isYounger(r,o)&&(p=st.decrement(p,1,r.size-1)),d.size&&st.isYounger(o,r)&&(d=st.increment(d,1,o.size-1)));var g=st.getAncestors(d).toArray(),y=st.getAncestors(p).toArray();return[].concat(O(g),[d],O(y),[p]);case"remove_node":var v=st.getAncestors(r).toArray();return[].concat(O(v));default:return[]}}(t),s=this.tmp.dirty.reduce(function(e,n){n=st.create(n);var r=st.transform(n,t);return e=e.concat(r.toArray())},a);return this.tmp.dirty=s,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return e.flush()})),r}},{key:"flush",value:function(){this.run("onChange");var t=this.value,e=this.operations,n=this.controller,r={value:t,operations:e};return this.operations=Object(i.List)(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof t)return t.apply(void 0,[o].concat(n)),be(this),o;me("command",{type:t,args:n});var i={type:t,args:n};return this.run("onCommand",i),be(this),o}},{key:"hasCommand",value:function(t){var e=this.controller;return t in e&&e[t].__command}},{key:"hasQuery",value:function(t){var e=this.controller;return t in e&&e[t].__query}},{key:"normalize",value:function(){var t=this.value,e=this.controller,n=t.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(st.create);this.tmp.dirty=this.tmp.dirty.concat(o),be(this);var i=t.selection;return n=t.document,i.isUnset&&n.nodes.size&&e.moveToStartOfDocument(),e}},{key:"query",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof t)return t.apply(void 0,[o].concat(n));me("query",{type:t,args:n});var i={type:t,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(t){var e=this,n=this.controller;if(t in n&&n[t].__command)return n;Object(s.a)(!(t in n),"You cannot register a `"+t+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.command.apply(e,[t].concat(r))};return n[t]=r,r.__command=!0,n}},{key:"registerQuery",value:function(t){var e=this,n=this.controller;if(t in n&&n[t].__query)return n;Object(s.a)(!(t in n),"You cannot register a `"+t+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.query.apply(e,[t].concat(r))};return n[t]=r,r.__query=!0,n}},{key:"run",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware[t]||[],a=0;function u(){var t=i[a++];if(t){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.length&&(n=r),t.apply(void 0,O(n).concat([o,u]))}}return Object.defineProperty(u,"change",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(u,"onChange",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(u,"props",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(u,"schema",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(u,"stack",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),u()}},{key:"setReadOnly",value:function(t){return this.readOnly=t,this}},{key:"setValue",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).normalize,n=void 0===e?t!==this.value:e;return this.value=t,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(t){var e=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,t(e),this.tmp.normalize=n,be(this),e}},{key:"change",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(t){var e=this;return Object(a.a)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),t.forEach(function(t){return e.applyOperation(t)}),this.controller}},{key:"setOperationFlag",value:function(t,e){return Object(a.a)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[t]=e,this}},{key:"getFlag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==e[t]?e[t]:this.tmp[t]}},{key:"unsetOperationFlag",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[t],this}},{key:"withoutNormalization",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(t)}},{key:"editor",get:function(){return Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),t}();function be(t){t.tmp.normalize&&t.tmp.dirty.length&&t.withoutNormalizing(function(){for(;t.tmp.dirty.length;){var e=t.tmp.dirty.pop();Ae(t,e)}})}function Ae(t,e){for(var n=t.controller,r=t.value,o=r.document,i=o.assertNode(e),a=0,s=100+("text"===i.object?1:i.nodes.size);i;){var u=i.normalize(n);if(!u)break;u(n),o=(r=t.value).document;var c=i.key,l=o.getDescendant(e);if(l&&l.key===c)i=l;else{if(!(l=o.getDescendant(c)))break;i=l,e=o.getPath(c)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function we(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=!0,c=!1,l=void 0;try{for(var f,h=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;if(!s.hasOwnProperty(d)){var p=Object.getOwnPropertyDescriptor(t,d);Object.defineProperty(s,d,p)}}}catch(je){c=!0,l=je}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}var g=!0,y=!1,v=void 0;try{for(var m,_=Object.getOwnPropertyNames(t.prototype)[Symbol.iterator]();!(g=(m=_.next()).done);g=!0){var b=m.value;if(!s.prototype.hasOwnProperty(b)){p=Object.getOwnPropertyDescriptor(t.prototype,b);Object.defineProperty(s.prototype,b,p)}}}catch(je){y=!0,v=je}finally{try{!g&&_.return&&_.return()}finally{if(y)throw v}}}}catch(je){r=!0,o=je}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function ke(t){var e=ht[t],n="is"+(""+t.charAt(0).toUpperCase()+t.slice(1)),r=function(){function e(){w(this,e)}return k(e,[{key:"object",get:function(){return t}}]),e}();return r[n]=dt.bind(null,t),r.prototype[e]=!0,r}we(ke("block"),[$]),we(ke("change"),[Ct]),we(ke("decoration"),[ft]),we(ke("document"),[j]),we(ke("editor"),[_e]),we(ke("inline"),[N]),we(ke("leaf"),[P]),we(ke("mark"),[L]),we(ke("node"),[J]),we(ke("operation"),[xt]),we(ke("point"),[ct]),we(ke("range"),[gt]),we(ke("selection"),[vt]),we(ke("text"),[Y]),we(ke("value"),[_t]),we(function(){function t(){w(this,t)}return k(t,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),t}(),[$,ft,j,N,P,L,J,xt,ct,gt,vt,Y,_t]);var Ee=function(){function t(){w(this,t)}return k(t,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.find(function(e){return"text"===e.object||!!(t=e.getFirstText())});return t||e}},{key:"getKeysToPathsTable",value:function(){var t,e,n,r=(t={},e=this.key,n=[],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t);return this.nodes&&this.nodes.forEach(function(t,e){var n=t.getKeysToPathsTable();for(var o in n){var i=n[o];Object(a.a)(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[e].concat(O(i))}}),r}},{key:"getLastText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.findLast(function(e){return"text"==e.object||(t=e.getLastText())});return t||e}},{key:"getNode",value:function(t){return(t=this.resolvePath(t))?"text"===this.object&&t.size?null:t.size?this.getDescendant(t):this:null}},{key:"getPath",value:function(t){if(i.List.isList(t))return t;var e=this.getKeysToPathsTable()[t];return e?Object(i.List)(e):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce(function(t,e){return t+e.text},"")}},{key:"hasNode",value:function(t){return!!this.getNode(t)}},{key:"normalize",value:function(t){return t.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var t=b.create();return this.set("key",t)}},{key:"resolvePath",value:function(t,e){return"string"===typeof t?(t=this.getPath(t),null!=e&&(t=t.concat(e))):t=st.create(t),t}},{key:"validate",value:function(t){return t.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),t}();W(Ee.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),we(Ee,[$,j,N,Y]);var Se=function(){function t(){w(this,t)}return k(t,[{key:"addMark",value:function(t,e,n,r){var o=this.assertDescendant(t);return t=this.resolvePath(t),o=o.addMark(e,n,r),this.replaceNode(t,o)}},{key:"createDecoration",value:function(t){return t=ft.createProperties(t),this.resolveDecoration(t)}},{key:"createPoint",value:function(t){return t=ct.createProperties(t),this.resolvePoint(t)}},{key:"createRange",value:function(t){return t=gt.createProperties(t),this.resolveRange(t)}},{key:"createSelection",value:function(t){return t=vt.createProperties(t),this.resolveSelection(t)}},{key:"filterDescendants",value:function(t){var e=[];return this.forEachDescendant(function(n,r,o){t(n,r,o)&&e.push(n)}),Object(i.List)(e)}},{key:"findDescendant",value:function(t){var e=null;return this.forEachDescendant(function(n,r,o){if(t(n,r,o))return e=n,!1}),e}},{key:"forEachDescendant",value:function(t){var e=void 0;return this.nodes.forEach(function(n,r,o){return!1===t(n,r,o)?(e=!1,!1):"text"!=n.object?e=n.forEachDescendant(t):void 0}),e}},{key:"getActiveMarksAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(i.Set)();if(t.isCollapsed){var e=t.start;return this.getMarksAtPosition(e.key,e.offset).toSet()}var n=t,r=n.start,o=n.end,a=r.key,s=r.offset,u=o.key,c=o.offset,l=this.getDescendant(a);if(a!==u){for(;a!==u&&0===c;){var f=this.getPreviousText(u);u=f.key,c=f.text.length}for(;a!==u&&s===l.text.length;)a=(l=this.getNextText(a)).key,s=0}if(a===u)return l.getActiveMarksBetweenOffsets(s,c);var h=l.getActiveMarksBetweenOffsets(s,l.text.length);if(0===h.size)return Object(i.Set)();var d=this.getDescendant(u).getActiveMarksBetweenOffsets(0,c),p=h.intersect(d);if(0===p.size)return p;for(var g=this.getNextText(a);g.key!==u;){if(0!==g.text.length&&0===(p=p.intersect(g.getActiveMarks())).size)return Object(i.Set)();g=this.getNextText(g.key)}return p}},{key:"getAncestors",value:function(t){var e=this;if(!(t=this.resolvePath(t)))return null;var n=[];return t.forEach(function(r,o){var i=t.slice(0,o),a=e.getNode(i);n.push(a)}),Object(i.List)(n)}},{key:"getBlocks",value:function(){var t=this.getBlocksAsArray();return Object(i.List)(t)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce(function(t,e){return"block"!=e.object?t:e.isLeafBlock()?(t.push(e),t):t.concat(e.getBlocksAsArray())},[])}},{key:"getBlocksAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(t)}},{key:"getBlocksAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(t)}},{key:"getBlocksByType",value:function(t){var e=this.getBlocksByTypeAsArray(t);return Object(i.List)(e)}},{key:"getBlocksByTypeAsArray",value:function(t){return this.nodes.reduce(function(e,n){return"block"!=n.object?e:n.isLeafBlock()&&n.type==t?(e.push(n),e):e.concat(n.getBlocksByTypeAsArray(t))},[])}},{key:"getChild",value:function(t){return(t=this.resolvePath(t))&&1===t.size?this.nodes.get(t.first()):null}},{key:"getClosest",value:function(t,e){var n=this,r=this.getAncestors(t);return r&&r.findLast(function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t!==n&&e.apply(void 0,[t].concat(o))})||null}},{key:"getClosestBlock",value:function(t){return this.getClosest(t,function(t){return"block"===t.object})}},{key:"getClosestInline",value:function(t){return this.getClosest(t,function(t){return"inline"===t.object})}},{key:"getClosestVoid",value:function(t,e){Object(s.a)(!_t.isValue(e),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(t);return n?n.findLast(function(t){return e.query("isVoid",t)}):null}},{key:"getCommonAncestor",value:function(t,e){if(t=this.resolvePath(t),e=this.resolvePath(e),!t||!e)return null;var n=st.relate(t,e);return this.getNode(n)}},{key:"getDecorations",value:function(t){Object(s.a)(!_t.isValue(t),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var e=t.run("decorateNode",this);return ft.createList(e)}},{key:"getDepth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(t=this.resolvePath(t))&&this.getNode(t)?t.size-1+e:null}},{key:"getDescendant",value:function(t){if(!(t=this.resolvePath(t)))return null;var e=t.flatMap(function(t){return["nodes",t]});return this.getIn(e)}},{key:"getFragmentAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return j.create();for(var e=t,n=e.start,r=e.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var u=i.last();o=o.splitNode(i,a),a=u+1,(i=st.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var c=n.path.first()+1,l=r.path.first()+2,f=o.nodes.slice(c,l);return j.create({nodes:f})}},{key:"getFurthest",value:function(t,e){var n=this,r=this.getAncestors(t);return r&&r.find(function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t!==n&&e.apply(void 0,[t].concat(o))})||null}},{key:"getFurthestAncestor",value:function(t){return(t=this.resolvePath(t))&&t.size?this.nodes.get(t.first()):null}},{key:"getFurthestBlock",value:function(t){return this.getFurthest(t,function(t){return"block"===t.object})}},{key:"getFurthestInline",value:function(t){return this.getFurthest(t,function(t){return"inline"===t.object})}},{key:"getFurthestOnlyChildAncestor",value:function(t){var e=this.getAncestors(t);return e&&e.rest().reverse().takeUntil(function(t){return t.nodes.size>1}).last()||null}},{key:"getInlines",value:function(){var t=this.getInlinesAsArray();return Object(i.List)(t)}},{key:"getInlinesAsArray",value:function(){var t=[];return this.nodes.forEach(function(e){"text"!=e.object&&(e.isLeafInline()?t.push(e):t=t.concat(e.getInlinesAsArray()))}),t}},{key:"getInlinesAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(t)}},{key:"getInlinesAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(t)}},{key:"getInlinesByType",value:function(t){var e=this.getInlinesByTypeAsArray(t);return Object(i.List)(e)}},{key:"getInlinesByTypeAsArray",value:function(t){return this.nodes.reduce(function(e,n){return"text"==n.object?e:n.isLeafInline()&&n.type==t?(e.push(n),e):e.concat(n.getInlinesByTypeAsArray(t))},[])}},{key:"getInsertMarksAtRange",value:function(t){var e=(t=this.resolveRange(t)).start;return t.isUnset?Object(i.Set)():t.isCollapsed?this.getMarksAtPosition(e.key,e.offset):this.getDescendant(e.key).getMarksAtIndex(e.offset+1)}},{key:"getLeafBlocksAtRange",value:function(t){var e=this.getLeafBlocksAtRangeAsArray(t);return Object(i.List)(Object(i.OrderedSet)(e))}},{key:"getLeafBlocksAtRangeAsArray",value:function(t){if((t=this.resolveRange(t)).isUnset)return[];var e=t,n=e.start,r=e.end,o=this.getClosestBlock(n.key);if(n.key===r.key)return[o];var i=this.getClosestBlock(r.key),a=this.getBlocksAsArray(),s=a.indexOf(o),u=a.indexOf(i);return a.slice(s,u+1)}},{key:"getLeafInlinesAtRange",value:function(t){var e=this.getLeafInlinesAtRangeAsArray(t);return Object(i.List)(Object(i.OrderedSet)(e))}},{key:"getLeafInlinesAtRangeAsArray",value:function(t){var e=this;return(t=this.resolveRange(t)).isUnset?[]:this.getTextsAtRangeAsArray(t).map(function(t){return e.getClosestInline(t.key)}).filter(function(t){return t})}},{key:"getMarks",value:function(){var t=this.getMarksAsArray();return Object(i.Set)(t)}},{key:"getMarksAsArray",value:function(){var t,e=[];return this.nodes.forEach(function(t){e.push(t.getMarksAsArray())}),(t=[]).concat.apply(t,e)}},{key:"getMarksAtPosition",value:function(t,e){var n=this.getDescendant(t).getMarksAtIndex(e);if(0!==e)return n;var r=this.getClosestBlock(t);if(""===r.text)return n;var o=this.getPreviousText(t);return o?r.hasDescendant(o.key)?o.getMarksAtIndex(o.text.length):n:Object(i.Set)()}},{key:"getMarksAtRange",value:function(t){return Object(i.Set)(this.getOrderedMarksAtRange(t))}},{key:"getMarksByType",value:function(t){var e=this.getMarksByTypeAsArray(t);return Object(i.Set)(e)}},{key:"getMarksByTypeAsArray",value:function(t){return this.nodes.reduce(function(e,n){return"text"==n.object?e.concat(n.getMarksAsArray().filter(function(e){return e.type==t})):e.concat(n.getMarksByTypeAsArray(t))},[])}},{key:"getNextBlock",value:function(t){var e=this.assertDescendant(t),n=void 0;"block"==e.object?n=e.getLastText():n=this.getClosestBlock(t).getLastText();var r=this.getNextText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getNextNode",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;for(var e=t.size;e>0;e--){var n=t.slice(0,e),r=st.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextSibling",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=st.increment(t);return this.getNode(e)}},{key:"getNextText",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=this.getNextNode(t);return e?e.getFirstText():null}},{key:"getNodesAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(i.List)();for(var e=t,n=e.start,r=e.end,o=Object(i.Stack)(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map(function(t,e){return{node:t,onStartEdge:0===e,onEndEdge:e===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}})),a=[],s=function(){var t=o.peek(),e=t.node,n=t.onStartEdge,r=t.onEndEdge,i=t.relativeStartPath,s=t.relativeEndPath;if(o=o.shift(),a.push(e),"text"===e.object)return"continue";var u=n?i.get(0):0,c=r?s.get(0):e.nodes.size-1;o=o.pushAll(e.nodes.slice(u,c+1).map(function(t,e){return{node:t,onStartEdge:n&&0===e,onEndEdge:r&&e===c-u,relativeStartPath:n&&0===e?i.slice(1):null,relativeEndPath:r&&e===c-u?s.slice(1):null}}))};o.size>0;)s();return Object(i.List)(a)}},{key:"getOffset",value:function(t){this.assertDescendant(t);var e=this.getFurthestAncestor(t),n=this.nodes.takeUntil(function(t){return t==e}).reduce(function(t,e){return t+e.text.length},0);return this.hasChild(t)?n:n+e.getOffset(t)}},{key:"getOffsetAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var e=t.start;return this.getOffset(e.key)+e.offset}},{key:"getOrderedMarks",value:function(){var t=this.getMarksAsArray();return Object(i.OrderedSet)(t)}},{key:"getOrderedMarksAtRange",value:function(t){var e=t=this.resolveRange(t),n=e.start,r=e.end;return t.isUnset?Object(i.OrderedSet)():t.isCollapsed?this.getMarksAtPosition(n.key,n.offset):this.getOrderedMarksBetweenPositions(n.key,n.offset,r.key,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(t,e,n,r){if(t===n)return this.getDescendant(t).getMarksBetweenOffsets(e,r);var o=this.getTextsBetweenPositionsAsArray(t,n);return Object(i.OrderedSet)().withMutations(function(i){o.forEach(function(o){o.key===t?i.union(o.getMarksBetweenOffsets(e,o.text.length)):o.key===n?i.union(o.getMarksBetweenOffsets(0,r)):i.union(o.getMarks())})})}},{key:"getOrderedMarksByType",value:function(t){var e=this.getMarksByTypeAsArray(t);return Object(i.OrderedSet)(e)}},{key:"getParent",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=st.lift(t);return this.getNode(e)}},{key:"getPreviousBlock",value:function(t){var e=this.assertDescendant(t),n=void 0;"block"==e.object?n=e.getFirstText():n=this.getClosestBlock(t).getFirstText();var r=this.getPreviousText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getRootBlocksAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(i.List)();var e=t,n=e.start,r=e.end,o=this.getFurthestBlock(n.key);if(n.key===r.key)return Object(i.List)([o]);var a=this.getFurthestBlock(r.key),s=this.nodes.indexOf(o),u=this.nodes.indexOf(a);return this.nodes.slice(s,u+1)}},{key:"getRootInlinesAtRange",value:function(t){var e=this.getRootInlinesAtRangeAsArray(t);return Object(i.List)(Object(i.OrderedSet)(e))}},{key:"getRootInlinesAtRangeAsArray",value:function(t){var e=this;return(t=this.resolveRange(t)).isUnset?Object(i.List)():this.getTextsAtRangeAsArray(t).map(function(t){return e.getFurthestInline(t.key)}).filter(function(t){return t})}},{key:"getPreviousNode",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;for(var e=t.size;e>0;e--){var n=t.slice(0,e);if(0!==n.last()){var r=st.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousSibling",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;if(0===t.last())return null;var e=st.decrement(t);return this.getNode(e)}},{key:"getPreviousText",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=this.getPreviousNode(t);return e?e.getLastText():null}},{key:"getSelectionIndexes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.start,r=t.end;if(!e)return null;if(t.isUnset)return null;if(n.key==r.key){var o=this.getFurthestAncestor(n.key),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var a=null,s=null;return this.nodes.forEach(function(t,e){return"text"==t.object?(null==a&&t.key==n.key&&(a=e),null==s&&t.key==r.key&&(s=e+1)):(null==a&&t.hasDescendant(n.key)&&(a=e),null==s&&t.hasDescendant(r.key)&&(s=e+1)),null==a||null==s}),e&&null==a&&(a=0),e&&null==s&&(s=this.nodes.size),null==a?null:{start:a,end:s}}},{key:"getTextAtOffset",value:function(t){if(0===t)return this.getFirstText();if(t===this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var e=0;return this.getTexts().find(function(n,r,o){return(e+=n.text.length)>t})}},{key:"getTextDirection",value:function(){var t=y()(this.text);return"neutral"===t?null:t}},{key:"getTexts",value:function(){var t=this.getTextsAsArray();return Object(i.List)(t)}},{key:"getTextsAsArray",value:function(){var t=[];return this.nodes.forEach(function(e){"text"==e.object?t.push(e):t=t.concat(e.getTextsAsArray())}),t}},{key:"getTextsAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(i.List)();var e=t,n=e.start,r=e.end;return Object(i.List)(this.getTextsBetweenPositionsAsArray(n.key,r.key))}},{key:"getTextsAtRangeAsArray",value:function(t){if((t=this.resolveRange(t)).isUnset)return[];var e=t,n=e.start,r=e.end;return this.getTextsBetweenPositionsAsArray(n.key,r.key)}},{key:"getTextsBetweenPositionsAsArray",value:function(t,e){var n=this.getDescendant(t);if(t==e)return[n];var r=this.getDescendant(e),o=this.getTextsAsArray(),i=o.indexOf(n),a=o.indexOf(r,i);return o.slice(i,a+1)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(t){return"block"===t.object}))}},{key:"hasChild",value:function(t){return!!this.getChild(t)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(t){return"inline"===t.object||"text"===t.object}))}},{key:"hasDescendant",value:function(t){return!!this.getDescendant(t)}},{key:"hasVoidParent",value:function(t,e){return Object(s.a)(!_t.isValue(e),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(t,e)}},{key:"insertNode",value:function(t,e){var n=(t=this.resolvePath(t)).last(),r=st.lift(t),o=this.assertNode(r),i=o.nodes.splice(n,0,e);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(t,e,n,r){var o=this.assertDescendant(t);return t=this.resolvePath(t),o=o.insertText(e,n,r),this.replaceNode(t,o)}},{key:"isLeafBlock",value:function(){var t=this.object,e=this.nodes;if(!e.size)return!0;var n=e.first();return"block"===t&&"block"!==n.object}},{key:"isLeafInline",value:function(){var t=this.object,e=this.nodes;if(!e.size)return!0;var n=e.first();return"inline"===t&&"inline"!==n.object}},{key:"isNodeInRange",value:function(t,e){if(this.assertDescendant(t),t=this.resolvePath(t),(e=this.resolveRange(e)).isUnset)return!1;var n=st.compare(t,e.start.path),r=e.start.key===e.end.key?n:st.compare(t,e.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function(t){var e=this,n=this.nodes;return n.forEach(function(r,o){var i=t(r,o,e.nodes);i!==r&&(n=n.set(i.key,i))}),this.set("nodes",n)}},{key:"mapDescendants",value:function(t){var e=this,n=this.nodes;return n.forEach(function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(t)),(i=t(i,o,e.nodes))!==r&&(n=n.set(o,i))}),this.set("nodes",n)}},{key:"mergeNode",value:function(t){var e=this.assertNode(t);if(0===(t=this.resolvePath(t)).last())throw new Error("Unable to merge node because it has no previous sibling: "+e);var n=st.decrement(t),r=this.assertNode(n);if(r.object!==e.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+e);var o="text"===r.object?r.mergeText(e):r.set("nodes",r.nodes.concat(e.nodes)),i=this;return i=(i=(i=i.removeNode(t)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(t);t=this.resolvePath(t),e=this.resolvePath(e,n);var o=st.lift(e);this.assertNode(o);var i=st.crop(t,e),a=C(i,2),s=a[0],u=a[1],c=st.compare(s,u);t.size<e.size&&-1===c&&(e=st.decrement(e,1,s.size-1));var l=this;return l=(l=l.removeNode(t)).insertNode(e,r)}},{key:"removeMark",value:function(t,e,n,r){var o=this.assertDescendant(t);return t=this.resolvePath(t),o=o.removeMark(e,n,r),this.replaceNode(t,o)}},{key:"removeNode",value:function(t){this.assertDescendant(t);var e=(t=this.resolvePath(t)).flatMap(function(t){return["nodes",t]});return this.deleteIn(e)}},{key:"removeText",value:function(t,e,n){var r=this.assertDescendant(t);return r=r.removeText(e,n.length),this.replaceNode(t,r)}},{key:"replaceNode",value:function(t,e){if(!(t=this.resolvePath(t)))throw new Error("Unable to replace a node because it could not be found in the first place: "+t);if(!t.size)return e;this.assertNode(t);var n=t.flatMap(function(t){return["nodes",t]});return this.setIn(n,e)}},{key:"resolveDecoration",value:function(t){return t=(t=ft.create(t)).normalize(this)}},{key:"resolvePoint",value:function(t){return t=(t=ct.create(t)).normalize(this)}},{key:"resolveRange",value:function(t){return t=(t=gt.create(t)).normalize(this)}},{key:"resolveSelection",value:function(t){return t=(t=vt.create(t)).normalize(this)}},{key:"setNode",value:function(t,e){var n=this.assertNode(t);return n=n.merge(e),this.replaceNode(t,n)}},{key:"setMark",value:function(t,e,n,r,o){var i=this.assertNode(t);return i=i.updateMark(e,n,r,o),this.replaceNode(t,i)}},{key:"splitNode",value:function(t,e,n){var r=this.assertNode(t);t=this.resolvePath(t);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(e),s=C(a,2);o=s[0],i=s[1]}else{var u=r.nodes.take(e),c=r.nodes.skip(e);o=r.set("nodes",u),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var l=this;return l=(l=(l=l.removeNode(t)).insertNode(t,i)).insertNode(t,o)}}]),t}(),xe=function(t){Se.prototype["assert"+t]=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+t].apply(this,[e].concat(r));if(null==i)throw new Error("`Node.assert"+t+"` could not find node with path or key: "+e);return i}},Ie=!0,Ce=!1,Oe=void 0;try{for(var Te,Be=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Ie=(Te=Be.next()).done);Ie=!0){xe(Te.value)}}catch(je){Ce=!0,Oe=je}finally{try{!Ie&&Be.return&&Be.return()}finally{if(Ce)throw Oe}}W(Se.prototype,["getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray"]),we(Se,[$,j,N]),we(function(){function t(){w(this,t)}return k(t,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(t){return this.updatePoints(function(e){return e.moveForward(t)})}},{key:"moveBackward",value:function(t){return this.updatePoints(function(e){return e.moveBackward(t)})}},{key:"moveAnchorBackward",value:function(t){return this.setAnchor(this.anchor.moveBackward(t))}},{key:"moveAnchorForward",value:function(t){return this.setAnchor(this.anchor.moveForward(t))}},{key:"moveAnchorTo",value:function(t,e){return this.setAnchor(this.anchor.moveTo(t,e))}},{key:"moveAnchorToStartOfNode",value:function(t){return this.setAnchor(this.anchor.moveToStartOfNode(t))}},{key:"moveAnchorToEndOfNode",value:function(t){return this.setAnchor(this.anchor.moveToEndOfNode(t))}},{key:"moveEndBackward",value:function(t){return this.setEnd(this.end.moveBackward(t))}},{key:"moveEndForward",value:function(t){return this.setEnd(this.end.moveForward(t))}},{key:"moveEndTo",value:function(t,e){return this.setEnd(this.end.moveTo(t,e))}},{key:"moveEndToStartOfNode",value:function(t){return this.setEnd(this.end.moveToStartOfNode(t))}},{key:"moveEndToEndOfNode",value:function(t){return this.setEnd(this.end.moveToEndOfNode(t))}},{key:"moveFocusBackward",value:function(t){return this.setFocus(this.focus.moveBackward(t))}},{key:"moveFocusForward",value:function(t){return this.setFocus(this.focus.moveForward(t))}},{key:"moveFocusTo",value:function(t,e){return this.setFocus(this.focus.moveTo(t,e))}},{key:"moveFocusToStartOfNode",value:function(t){return this.setFocus(this.focus.moveToStartOfNode(t))}},{key:"moveFocusToEndOfNode",value:function(t){return this.setFocus(this.focus.moveToEndOfNode(t))}},{key:"moveStartBackward",value:function(t){return this.setStart(this.start.moveBackward(t))}},{key:"moveStartForward",value:function(t){return this.setStart(this.start.moveForward(t))}},{key:"moveStartTo",value:function(t,e){return this.setStart(this.start.moveTo(t,e))}},{key:"moveStartToStartOfNode",value:function(t){return this.setStart(this.start.moveToStartOfNode(t))}},{key:"moveStartToEndOfNode",value:function(t){return this.setStart(this.start.moveToEndOfNode(t))}},{key:"moveTo",value:function(t,e){return this.updatePoints(function(n){return n.moveTo(t,e)})}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToEndOfNode(t)})}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.setPoints([this.anchor.moveToStartOfNode(t),this.focus.moveToEndOfNode(e)])}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToStartOfNode(t)})}},{key:"normalize",value:function(t){return this.updatePoints(function(e){return e.normalize(t)})}},{key:"setAnchor",value:function(t){return this.set("anchor",t)}},{key:"setEnd",value:function(t){return this.isBackward?this.setAnchor(t):this.setFocus(t)}},{key:"setFocus",value:function(t){return this.set("focus",t)}},{key:"setPoints",value:function(t){var e=C(t,2),n=e[0],r=e[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(t){var e=this.anchor,n=this.focus;return e=t(e),n=t(n),this.merge({anchor:e,focus:n})}},{key:"setStart",value:function(t){return this.isBackward?this.setFocus(t):this.setAnchor(t)}},{key:"setProperties",value:function(t){var e=t=gt.createProperties(t),n=e.anchor,r=e.focus,o=x(e,["anchor","focus"]);return n&&(o.anchor=ct.create(n)),r&&(o.focus=ct.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)}}},{key:"toRange",value:function(){var t=gt.createProperties(this);return gt.create(t)}},{key:"unset",value:function(){return this.updatePoints(function(t){return t.unset()})}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var t=this.isUnset,e=this.anchor,n=this.focus;return t?null:e.key===n.key?e.offset>n.offset:st.isBefore(n.path,e.path)}},{key:"isForward",get:function(){var t=this.isBackward;return null==t?null:!t}},{key:"isUnset",get:function(){var t=this.anchor,e=this.focus;return t.isUnset||e.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),t}(),[ft,gt,vt])},function(t,e,n){"use strict";(function(t){var r=n(169),o=n(170),i=n(92);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,o){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,o);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function m(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return q(U(e,t.length-n),t,n,r)}function b(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return q(z(e),t,n,r)}function k(t,e,n,r){return q(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function I(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=F(t[i]);return o}function T(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function D(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return i||D(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return i||D(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);j(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);j(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:U(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(P,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function q(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(13))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";e.a=function(t,e){}},function(t,e,n){"use strict";var r=n(267);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&("function"===typeof(e=t.constructor)&&(!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var r=!0,o="Invariant failed";e.a=function(t,e){if(!t)throw r?new Error(o):new Error(o+": "+(e||""))}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){var r=n(363);t.exports=function(t){if(e=t,e&&e.window===e)return t;var e;var n=r(t);if(o){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var i=n._parentWindow;return n._parentWindow=null,i}return n.defaultView||n.parentWindow};var o=n(364)},function(t,e,n){(function(e){var n="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},r=function(){var t=/\blang(?:uage)?-([\w-]+)\b/i,e=0,r=n.Prism={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof o?new o(t.type,r.util.encode(t.content),t.alias):"Array"===r.util.type(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++e}),t.__id},clone:function(t,e){var n=r.util.type(t);switch(e=e||{},n){case"Object":if(e[r.util.objId(t)])return e[r.util.objId(t)];i={};for(var o in e[r.util.objId(t)]=i,t)t.hasOwnProperty(o)&&(i[o]=r.util.clone(t[o],e));return i;case"Array":if(e[r.util.objId(t)])return e[r.util.objId(t)];var i=[];return e[r.util.objId(t)]=i,t.forEach(function(t,n){i[n]=r.util.clone(t,e)}),i}return t}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var o in e)n[o]=e[o];return n},insertBefore:function(t,e,n,o){var i=(o=o||r.languages)[t];if(2==arguments.length){for(var a in n=arguments[1])n.hasOwnProperty(a)&&(i[a]=n[a]);return i}var s={};for(var u in i)if(i.hasOwnProperty(u)){if(u==e)for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);s[u]=i[u]}return r.languages.DFS(r.languages,function(e,n){n===o[t]&&e!=t&&(this[e]=s)}),o[t]=s},DFS:function(t,e,n,o){for(var i in o=o||{},t)t.hasOwnProperty(i)&&(e.call(t,i,t[i],n||i),"Object"!==r.util.type(t[i])||o[r.util.objId(t[i])]?"Array"!==r.util.type(t[i])||o[r.util.objId(t[i])]||(o[r.util.objId(t[i])]=!0,r.languages.DFS(t[i],e,i,o)):(o[r.util.objId(t[i])]=!0,r.languages.DFS(t[i],e,null,o)))}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var i,a=o.elements||t.querySelectorAll(o.selector),s=0;i=a[s++];)r.highlightElement(i,!0===e,o.callback)},highlightElement:function(e,o,i){for(var a,s,u=e;u&&!t.test(u.className);)u=u.parentNode;u&&(a=(u.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[a]),e.className=e.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,e.parentNode&&(u=e.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+a));var c={element:e,language:a,grammar:s,code:e.textContent};if(r.hooks.run("before-sanity-check",c),!c.code||!c.grammar)return c.code&&(r.hooks.run("before-highlight",c),c.element.textContent=c.code,r.hooks.run("after-highlight",c)),void r.hooks.run("complete",c);if(r.hooks.run("before-highlight",c),o&&n.Worker){var l=new Worker(r.filename);l.onmessage=function(t){c.highlightedCode=t.data,r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i&&i.call(c.element),r.hooks.run("after-highlight",c),r.hooks.run("complete",c)},l.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else c.highlightedCode=r.highlight(c.code,c.grammar,c.language),r.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,i&&i.call(e),r.hooks.run("after-highlight",c),r.hooks.run("complete",c)},highlight:function(t,e,n){var i={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},matchGrammar:function(t,e,n,o,i,a,s){var u=r.Token;for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==s)return;var l=n[c];l="Array"===r.util.type(l)?l:[l];for(var f=0;f<l.length;++f){var h=l[f],d=h.inside,p=!!h.lookbehind,g=!!h.greedy,y=0,v=h.alias;if(g&&!h.pattern.global){var m=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,m+"g")}h=h.pattern||h;for(var _=o,b=i;_<e.length;b+=e[_].length,++_){var A=e[_];if(e.length>t.length)return;if(!(A instanceof u)){if(g&&_!=e.length-1){if(h.lastIndex=b,!(I=h.exec(t)))break;for(var w=I.index+(p?I[1].length:0),k=I.index+I[0].length,E=_,S=b,x=e.length;E<x&&(S<k||!e[E].type&&!e[E-1].greedy);++E)w>=(S+=e[E].length)&&(++_,b=S);if(e[_]instanceof u)continue;C=E-_,A=t.slice(b,S),I.index-=b}else{h.lastIndex=0;var I=h.exec(A),C=1}if(I){p&&(y=I[1]?I[1].length:0);k=(w=I.index+y)+(I=I[0].slice(y)).length;var O=A.slice(0,w),T=A.slice(k),B=[_,C];O&&(++_,b+=O.length,B.push(O));var j=new u(c,d?r.tokenize(I,d):I,v,I,g);if(B.push(j),T&&B.push(T),Array.prototype.splice.apply(e,B),1!=C&&r.matchGrammar(t,e,n,_,b,!0,c),a)break}else if(a)break}}}}},tokenize:function(t,e,n){var o=[t],i=e.rest;if(i){for(var a in i)e[a]=i[a];delete e.rest}return r.matchGrammar(t,o,e,0,0,!1),o},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var o,i=0;o=n[i++];)o(e)}}},o=r.Token=function(t,e,n,r,o){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o};if(o.stringify=function(t,e,n){if("string"==typeof t)return t;if("Array"===r.util.type(t))return t.map(function(n){return o.stringify(n,e,t)}).join("");var i={type:t.type,content:o.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n};if(t.alias){var a="Array"===r.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,a)}r.hooks.run("wrap",i);var s=Object.keys(i.attributes).map(function(t){return t+'="'+(i.attributes[t]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(s?" "+s:"")+">"+i.content+"</"+i.tag+">"},!n.document)return n.addEventListener?(r.disableWorkerMessageHandler||n.addEventListener("message",function(t){var e=JSON.parse(t.data),o=e.language,i=e.code,a=e.immediateClose;n.postMessage(r.highlight(i,r.languages[o],o)),a&&n.close()},!1),n.Prism):n.Prism;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(r.filename=i.src,r.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),n.Prism}();"undefined"!==typeof t&&t.exports&&(t.exports=r),"undefined"!==typeof e&&(e.Prism=r),r.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.hooks.add("wrap",function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),r.languages.xml=r.languages.markup,r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},r.languages.css.atrule.inside.rest=r.languages.css,r.languages.markup&&(r.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:r.languages.css,alias:"language-css",greedy:!0}}),r.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:r.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:r.languages.css}},alias:"language-css"}},r.languages.markup.tag)),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),r.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[[^\]\r\n]+]|\\.|[^\/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},constant:/\b[A-Z][A-Z\d_]*\b/}),r.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}}}),r.languages.javascript["template-string"].inside.interpolation.inside.rest=r.languages.javascript,r.languages.markup&&r.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:r.languages.javascript,alias:"language-javascript",greedy:!0}}),r.languages.js=r.languages.javascript,"undefined"!==typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(e){for(var n,o=e.getAttribute("data-src"),i=e,a=/\blang(?:uage)?-([\w-]+)\b/i;i&&!a.test(i.className);)i=i.parentNode;if(i&&(n=(e.className.match(a)||[,""])[1]),!n){var s=(o.match(/\.(\w+)$/)||[,""])[1];n=t[s]||s}var u=document.createElement("code");u.className="language-"+n,e.textContent="",u.textContent="Loading\u2026",e.appendChild(u);var c=new XMLHttpRequest;c.open("GET",o,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(u.textContent=c.responseText,r.highlightElement(u)):c.status>=400?u.textContent="\u2716 Error "+c.status+" while fetching file: "+c.statusText:u.textContent="\u2716 Error: File does not exist or is empty")},c.send(null)}),r.plugins.toolbar&&r.plugins.toolbar.registerButton("download-file",function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),r=document.createElement("a");return r.textContent=e.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}).call(this,n(13))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(r){function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"===typeof console?"undefined":o(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(n){}!t&&"undefined"!==typeof r&&"env"in r&&(t=Object({NODE_ENV:"production",PUBLIC_URL:"/caracara"}).DEBUG);return t},e.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(268)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(5))},function(t,e,n){"use strict";var r,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,a,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),a=i[e]),void 0===a)a=i[e]=n,++t._eventsCount;else if("function"===typeof a?a=i[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(t))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):p(o,o.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"===typeof u)i(u,this,e);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,a;if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(158)},function(t,e,n){var r=n(122),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){(e=t.exports=n(96)).Stream=e,e.Readable=e,e.Writable=n(64),e.Duplex=n(30),e.Transform=n(100),e.PassThrough=n(194)},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){(function(e){t.exports=function(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');return e.allocUnsafe?e.allocUnsafe(t):new e(t)}}).call(this,n(4).Buffer)},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(59);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var i=n(20);function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(i.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";var r=n(48),o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var i=n(40);i.inherits=n(8);var a=n(96),s=n(64);i.inherits(f,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(281),o=n(284);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,u,"next",t)}function u(t){r(a,o,i,s,u,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return o})},function(t,e,n){t.exports={encode:n(242),decode:n(243),encodingLength:n(244)}},function(t,e,n){var r=n(22),o=n(272),i=n(275),a=n(299);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,n){var r=n(44),o=n(273),i=n(274),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(153)},function(t,e,n){var r=n(270),o=n(130)(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){var r=n(4),o=r.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a),i(o,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=o(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=t.isBuffer}).call(this,n(4).Buffer)},function(t,e){function n(t){return t<31?1<<t:(1<<30)*(1<<t-30)}function r(t){return(t-(1&t))/2}function o(t){this.index=0,this.offset=0,this.factor=0}e.fullRoots=function(t,e){if(1&t)throw new Error("You can only look up roots for depth(0) blocks");e||(e=[]),t/=2;for(var n=0,r=1;;){if(!t)return e;for(;2*r<=t;)r*=2;e.push(n+r-1),n+=2*r,t-=r,r=1}},e.depth=function(t){var e=0;for(t+=1;!(1&t);)e++,t=r(t);return e},e.sibling=function(t,n){n||(n=e.depth(t));var r=e.offset(t,n);return e.index(n,1&r?r-1:r+1)},e.parent=function(t,n){n||(n=e.depth(t));var o=e.offset(t,n);return e.index(n+1,r(o))},e.leftChild=function(t,n){return 1&t?(n||(n=e.depth(t)),e.index(n-1,2*e.offset(t,n))):-1},e.rightChild=function(t,n){return 1&t?(n||(n=e.depth(t)),e.index(n-1,1+2*e.offset(t,n))):-1},e.children=function(t,n){if(!(1&t))return null;n||(n=e.depth(t));var r=2*e.offset(t,n);return[e.index(n-1,r),e.index(n-1,r+1)]},e.leftSpan=function(t,r){return 1&t?(r||(r=e.depth(t)),e.offset(t,r)*n(r+1)):t},e.rightSpan=function(t,r){return 1&t?(r||(r=e.depth(t)),(e.offset(t,r)+1)*n(r+1)-2):t},e.count=function(t,r){return 1&t?(r||(r=e.depth(t)),n(r+1)-1):1},e.spans=function(t,r){if(!(1&t))return[t,t];r||(r=e.depth(t));var o=e.offset(t,r),i=n(r+1);return[o*i,(o+1)*i-2]},e.index=function(t,e){return(1+2*e)*n(t)-1},e.offset=function(t,r){return 1&t?(r||(r=e.depth(t)),((t+1)/n(r)-1)/2):t/2},e.iterator=function(t){var e=new o;return e.seek(t||0),e},o.prototype.seek=function(t){this.index=t,1&this.index?(this.offset=e.offset(t),this.factor=n(e.depth(t)+1)):(this.offset=t/2,this.factor=2)},o.prototype.isLeft=function(){return!(1&this.offset)},o.prototype.isRight=function(){return!this.isLeft()},o.prototype.prev=function(){return this.offset?(this.offset--,this.index-=this.factor,this.index):this.index},o.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},o.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},o.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},o.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},o.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},o.prototype.leftChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index-=this.factor/2,this.offset*=2,this.index)},o.prototype.rightChild=function(){return 2===this.factor?this.index:(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1,this.index)}},function(t,e,n){t.exports=n(226)},function(t,e){function n(t,e){if(!t)throw new Error(e||"AssertionError")}n.notEqual=function(t,e,r){n(t!=e,r)},n.notOk=function(t,e){n(!t,e)},n.equal=function(t,e,r){n(t==e,r)},n.ok=n,t.exports=n},function(t,e,n){var r=n(17).Symbol;t.exports=r},function(t,e,n){var r=n(71),o=n(128);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){"use strict";var r=n(3),o=n(0),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function a(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter,n=void 0===e?"\n":e;return"document"==t.object||"block"==t.object&&r.a.isBlockList(t.nodes)?t.nodes.map(a).join(n):t.text}var s={deserialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.defaultBlock,a=void 0===n?"line":n,s=e.defaultMarks,u=void 0===s?[]:s,c=e.delimiter,l=void 0===c?"\n":c,f=e.toJSON,h=void 0!==f&&f;o.Set.isSet(u)&&(u=u.toArray()),a=r.i.createProperties(a),u=u.map(r.h.createProperties);var d={object:"value",document:{object:"document",data:{},nodes:t.split(l).map(function(t){return i({},a,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:t,marks:u}]}]})})}};return h?d:r.m.fromJSON(d)},serialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(t.document,e)}};e.a=s},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),u=r[n];n<i;u=r[++n])g(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return v(o)||(o=l(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(k(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var c,b="",E=!1,S=["{","}"];(d(n)&&(E=!0,S=["[","]"]),k(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(b=" "+RegExp.prototype.toString.call(n)),A(n)&&(b=" "+Date.prototype.toUTCString.call(n)),w(n)&&(b=" "+f(n)),0!==a.length||E&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=E?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)I(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return h(t,n,r,s,e,E)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,S)):S[0]+b+S[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),I(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t){return Array.isArray(t)}function p(t){return"boolean"===typeof t}function g(t){return null===t}function y(t){return"number"===typeof t}function v(t){return"string"===typeof t}function m(t){return void 0===t}function _(t){return b(t)&&"[object RegExp]"===E(t)}function b(t){return"object"===typeof t&&null!==t}function A(t){return b(t)&&"[object Date]"===E(t)}function w(t){return b(t)&&("[object Error]"===E(t)||t instanceof Error)}function k(t){return"function"===typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(i)&&(i=Object({NODE_ENV:"production",PUBLIC_URL:"/caracara"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=v,e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=m,e.isRegExp=_,e.isObject=b,e.isDate=A,e.isError=w,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(180);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(8),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var C="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!==typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=C,e.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!==typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(O,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(5))},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,o){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick(function(){t.apply(null,i)})}}}:t.exports=e}).call(this,n(5))},function(t,e,n){(function(e){var n=Object.prototype.toString,r="function"===typeof e.alloc&&"function"===typeof e.allocUnsafe&&"function"===typeof e.from;t.exports=function(t,o,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return a=t,"ArrayBuffer"===n.call(a).slice(8,-1)?function(t,n,o){n>>>=0;var i=t.byteLength-n;if(i<0)throw new RangeError("'offset' is out of bounds");if(void 0===o)o=i;else if((o>>>=0)>i)throw new RangeError("'length' is out of bounds");return r?e.from(t.slice(n,n+o)):new e(new Uint8Array(t.slice(n,n+o)))}(t,o,i):"string"===typeof t?function(t,n){if("string"===typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return r?e.from(t,n):new e(t,n)}(t,o):r?e.from(t):new e(t);var a}}).call(this,n(4).Buffer)},function(t,e,n){(function(e){var r=n(42),o=e.alloc(16),i=e.alloc(8);function a(t,n){"string"===typeof t&&(t=function(t){var e=t.split("/");""===e[0]&&e.shift();""===e[e.length-1]&&e.pop();return e}(t));for(var a=new Array(32*t.length+(n?1:0)),u=0;u<t.length;u++)r.crypto_shorthash(i,e.from(t[u]),o),s(i,a,32*u);return n&&(a[a.length-1]=4),a}function s(t,e,n){for(var r=0;r<t.length;r++)for(var o=t[r],i=0;i<4;i++){var a=3&o;e[n++]=a,o-=a,o/=4}}a.TERMINATE=4,a.LENGTH=32,t.exports=a}).call(this,n(4).Buffer)},function(t,e,n){(function(e){function n(t){if(!(this instanceof n))return new n(t);this.opened=!1,this.closed=!1,this.ended=!1,this._nextSync=!1,this._nextQueue=[],this._nextCallback=null,this._nextDone=o.bind(null,this),this._openDone=function(t,e){if(e)return o(t,e,null);t.opened=!0,i(t)}.bind(null,this),t&&(t.open&&(this._open=t.open),t.next&&(this._next=t.next),t.destroy&&(this._destroy=t.destroy))}function r(){}function o(t,e,n){if(t._nextSync)return a(t,e,n);t.closed&&(e=new Error("Iterator is destroyed"),n=null);var r=t._nextCallback;t._nextCallback=null,e||null!==n||(t.ended=!0),r(e,n),!t._nextCallback&&t._nextQueue.length&&(t._nextCallback=t._nextQueue.shift(),i(t))}function i(t){t.ended||t.closed?a(t,null,null):t._next(t._nextDone)}function a(t,n,r){e.nextTick(o,t,n,r)}t.exports=n,n.prototype.next=function(t){this._nextCallback||this._nextQueue.length?this._nextQueue.push(t):(this._nextCallback=t,this._nextSync=!0,this.opened?i(this):this._open(this._openDone),this._nextSync=!1)},n.prototype.destroy=function(t){var e=this;t||(t=r),this.closed?this.next(function(){return t()}):(this.closed=!0,this._nextCallback||(this.opened=!0),this.next(function(){return e._destroy(t)}))},n.prototype._open=function(t){t(null)},n.prototype._destroy=function(t){t(null)},n.prototype._next=function(t){t(new Error("_next is not implemented"))},"undefined"!==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){var t=this;return{next:function(){return new Promise(function(e,n){t.next(function(t,r){if(t)return n(t);e({value:r,done:null===r})})})}}})}).call(this,n(5))},function(t,e,n){var r=n(36),o=n(31),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,e,n){var r=n(32)(Object,"create");t.exports=r},function(t,e,n){var r=n(289),o=n(290),i=n(291),a=n(292),s=n(293);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(126);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(295);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(52),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){r(t,e,n[e])})}return t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var r="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:r?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)a["f"+s]=111+s;function u(t,e,n){!e||"byKey"in e||(n=e,e=null),Array.isArray(t)||(t=[t]);var r=t.map(function(t){return c(t,e)}),o=function(t){return r.some(function(e){return l(e,t)})};return null==n?o:o(n)}function c(t,e){var n=e&&e.byKey,r={},i=(t=t.replace("++","+add")).split("+"),a=i.length;for(var s in o)r[o[s]]=!1;var u=!0,c=!1,l=void 0;try{for(var d,p=i[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var g=d.value,y=g.endsWith("?");y&&(g=g.slice(0,-1));var v=h(g),m=o[v];1!==a&&m||(n?r.key=v:r.which=f(g)),m&&(r[m]=!y||null)}}catch(_){c=!0,l=_}finally{try{!u&&p.return&&p.return()}finally{if(c)throw l}}return r}function l(t,e){for(var n in t){var r=t[n],o=void 0;if(null!=r&&((null!=(o="key"===n?e.key.toLowerCase():"which"===n?91===r&&93===e.which?91:e.which:e[n])||!1!==r)&&o!==r))return!1}return!0}function f(t){return t=h(t),a[t]||t.toUpperCase().charCodeAt(0)}function h(t){return t=t.toLowerCase(),t=i[t]||t}e.default=u,e.isHotkey=u,e.isCodeHotkey=function(t,e){return u(t,e)},e.isKeyHotkey=function(t,e){return u(t,{byKey:!0},e)},e.parseHotkey=c,e.compareHotkey=l,e.toKeyCode=f,e.toKeyName=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=void 0;var r,o=n(166);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};e.canUseDOM=i.canUseDOM;e.default=a},function(t,e,n){"use strict";(function(e,r,o){var i=n(48);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var o=r.callback;e.pendingcb--,o(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;m.WritableState=v;var c=n(40);c.inherits=n(8);var l={deprecate:n(193)},f=n(97),h=n(39).Buffer,d=o.Uint8Array||function(){};var p,g=n(98);function y(){}function v(t,e){s=s||n(30),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,c=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(t,n),r?u(b,t,n,a,o):b(t,n,a,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function m(t){if(s=s||n(30),!p.call(m,this)&&!(this instanceof s))return new m(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),f.call(this)}function _(t,e,n,r,o,i,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(o,e.onwrite):t._write(o,i,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function A(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),i=e.corkedRequestsFree;i.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,_(t,e,!0,e.length,o,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(_(t,e,!1,e.objectMode?1:c.length,c,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)})}function E(t,e){var n=w(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(m,f),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===m&&(t&&t._writableState instanceof v)}})):p=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"===typeof e&&(n=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!==typeof n&&(n=y),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,t,n))&&(o.pendingcb++,a=function(t,e,n,r,o,i){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=h.from(e,n));return e}(e,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _(t,e,!1,s,r,o,i);return u}(this,o,s,t,e,n)),a},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||A(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(5),n(191).setImmediate,n(13))},function(t,e,n){var r=n(197);function o(t){var e=function e(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function e(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(o),t.exports.strict=r(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(t,e){function n(t,e){return e._index<t.length&&t[e._index]===e}e.add=function(t,e){return n(t,e)?e:(e._index=t.length,t.push(e),e)},e.has=n,e.remove=function(t,e){if(!n(t,e))return null;var r=t.pop();r!==e&&(t[e._index]=r,r._index=e._index);return e},e.swap=function(t,e,r){if(!n(t,e)||!n(t,r))return;var o=e._index;e._index=r._index,t[e._index]=e,r._index=o,t[r._index]=r}},function(t,e,n){(function(e){var r=n(109);function o(t){if(!(this instanceof o))return new o(t);if(t||(t={}),e.isBuffer(t)&&(t={buffer:t}),this.pageOffset=t.pageOffset||0,this.pageSize=t.pageSize||1024,this.pages=t.pages||r(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,(n=this.pageSize)&n-1)throw new Error("The page size should be a power of two");var n;if(this._trackUpdates=!!t.trackUpdates,this._pageMask=this.pageSize-1,t.buffer){for(var i=0;i<t.buffer.length;i+=this.pageSize)this.pages.set(i/this.pageSize,t.buffer.slice(i,i+this.pageSize));this.byteLength=t.buffer.length,this.length=8*this.byteLength}}t.exports=o,o.prototype.get=function(t){var e=7&t,n=(t-e)/8;return!!(this.getByte(n)&128>>e)},o.prototype.getByte=function(t){var e=t&this._pageMask,n=(t-e)/this.pageSize,r=this.pages.get(n,!0);return r?r.buffer[e+this.pageOffset]:0},o.prototype.set=function(t,e){var n=7&t,r=(t-n)/8,o=this.getByte(r);return this.setByte(r,e?o|128>>n:o&(255^128>>n))},o.prototype.toBuffer=function(){for(var t=function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n}(this.pages.length*this.pageSize),n=0;n<this.pages.length;n++){var r=this.pages.get(n,!0),o=n*this.pageSize;r&&r.buffer.copy(t,o,this.pageOffset,this.pageOffset+this.pageSize)}return t},o.prototype.setByte=function(t,e){var n=t&this._pageMask,r=(t-n)/this.pageSize,o=this.pages.get(r,!1);return n+=this.pageOffset,o.buffer[n]!==e&&(o.buffer[n]=e,t>=this.byteLength&&(this.byteLength=t+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(o),!0)}}).call(this,n(4).Buffer)},function(t,e,n){(function(e){var r=n(43),o=function(){var t=65536,r="undefined"!==typeof e?r=e.crypto||e.msCrypto:null;return r&&r.getRandomValues?function(e,n){for(var o=0;o<n;o+=t)r.getRandomValues(e.subarray(o,o+Math.min(n-o,t)))}:(r=n(229))&&r.randomBytes?function(t,e){t.set(r.randomBytes(e))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(t.exports,"randombytes",{value:o}),t.exports.randombytes_buf=function(t){r(t,"out must be given"),o(t,t.length)}}).call(this,n(13))},function(t,e){e.map=function(t,e){if(!t)return e._map;var n=t.map;return void 0===n?e._map:n},e.reduce=function(t,e){if(!t)return e._reduce;var n=t.reduce;return void 0===n?e._reduce:n}},function(t,e,n){var r=n(32)(n(17),"Map");t.exports=r},function(t,e,n){var r=n(128),o=n(126),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(305),o=n(31),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(131),o=n(329),i=n(134);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(122),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(58)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(337),o=n(136),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e,n){var r=n(133)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(340),o=n(70),i=n(341),a=n(342),s=n(343),u=n(36),c=n(125),l=c(r),f=c(o),h=c(i),d=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(346);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(59);function o(t,e,n){return(o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&Object(r.a)(i,n.prototype),i}).apply(null,arguments)}},function(t,e,n){(function(t,r){var o;!function(i){var a="object"==typeof e&&e,s=("object"==typeof t&&t&&t.exports,"object"==typeof r&&r);s.global!==s&&s.window;var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l={version:"0.2.0",reverse:function t(e){for(var n="",r=(e=e.replace(u,function(e,n,r){return t(r)+n}).replace(c,"$2$1")).length;r--;)n+=e.charAt(r);return n}};void 0===(o=function(){return l}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(58)(t),n(13))},function(t,e,n){var r=n(127),o=n(316),i=n(357),a=n(35),s=n(45),u=n(361),c=n(130),l=n(139),f=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=a(e,t),c||(c=e.length>1),e}),s(t,l(t),n),c&&(n=o(n,7,u));for(var f=e.length;f--;)i(n,e[f]);return n});t.exports=f},function(t,e,n){"use strict";e.atob=self.atob.bind(self),e.btoa=self.btoa.bind(self)},function(t,e,n){"use strict";var r=n(0),o="<<anonymous>>",i={listOf:function(t){return c(t,"List",r.List.isList)},mapOf:function(t,e){return l(t,e,"Map",r.Map.isMap)},orderedMapOf:function(t,e){return l(t,e,"OrderedMap",r.OrderedMap.isOrderedMap)},setOf:function(t){return c(t,"Set",r.Set.isSet)},orderedSetOf:function(t){return c(t,"OrderedSet",r.OrderedSet.isOrderedSet)},stackOf:function(t){return c(t,"Stack",r.Stack.isStack)},iterableOf:function(t){return c(t,"Iterable",r.Iterable.isIterable)},recordOf:function(t){return s(function(e,n,o,i,s){for(var u=arguments.length,c=Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];var f=e[n];if(!(f instanceof r.Record)){var h=a(f),d=i;return new Error("Invalid "+d+" `"+s+"` of type `"+h+"` supplied to `"+o+"`, expected an Immutable.js Record.")}for(var p in t){var g=t[p];if(g){var y=f.toObject(),v=g.apply(void 0,[y,p,o,i,s+"."+p].concat(c));if(v)return v}}})},shape:h,contains:h,mapContains:function(t){return f(t,"Map",r.Map.isMap)},list:u("List",r.List.isList),map:u("Map",r.Map.isMap),orderedMap:u("OrderedMap",r.OrderedMap.isOrderedMap),set:u("Set",r.Set.isSet),orderedSet:u("OrderedSet",r.OrderedSet.isOrderedSet),stack:u("Stack",r.Stack.isStack),seq:u("Seq",r.Seq.isSeq),record:u("Record",function(t){return t instanceof r.Record}),iterable:u("Iterable",r.Iterable.isIterable)};function a(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":t instanceof r.Iterable?"Immutable."+t.toSource().split(" ")[0]:e}function s(t){function e(e,n,r,i,a,s){for(var u=arguments.length,c=Array(u>6?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return s=s||r,i=i||o,null!=n[r]?t.apply(void 0,[n,r,i,a,s].concat(c)):e?new Error("Required "+a+" `"+s+"` was not specified in `"+i+"`."):void 0}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function u(t,e){return s(function(n,r,o,i,s){var u=n[r];if(!e(u)){var c=a(u);return new Error("Invalid "+i+" `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `"+t+"`.")}return null})}function c(t,e,n){return s(function(r,o,i,s,u){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var h=r[o];if(!n(h)){var d=s,p=a(h);return new Error("Invalid "+d+" `"+u+"` of type `"+p+"` supplied to `"+i+"`, expected an Immutable.js "+e+".")}if("function"!==typeof t)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+u+"`, expected a function.");for(var g=h.toArray(),y=0,v=g.length;y<v;y++){var m=t.apply(void 0,[g,y,i,s,u+"["+y+"]"].concat(l));if(m instanceof Error)return m}})}function l(t,e,n,r){return s(function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return c(t,n,r).apply(void 0,i)||e&&(u=e,s(function(t,e,n,r,o){for(var i=arguments.length,a=Array(i>5?i-5:0),s=5;s<i;s++)a[s-5]=arguments[s];var c=t[e];if("function"!==typeof u)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var l=c.keySeq().toArray(),f=0,h=l.length;f<h;f++){var d=u.apply(void 0,[l,f,n,r,o+" -> key("+l[f]+")"].concat(a));if(d instanceof Error)return d}})).apply(void 0,i);var u})}function f(t){var e=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];return s(function(r,o,i,s,u){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var h=r[o];if(!n(h)){var d=a(h);return new Error("Invalid "+s+" `"+u+"` of type `"+d+"` supplied to `"+i+"`, expected an Immutable.js "+e+".")}var p=h.toObject();for(var g in t){var y=t[g];if(y){var v=y.apply(void 0,[p,g,i,s,u+"."+g].concat(l));if(v)return v}}})}function h(t){return f(t)}t.exports=i},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[].slice.call(t.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function o(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;var n=window.getComputedStyle(t);return e?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function i(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t;e&&e!==document.body;){if(o(e))return!1;e=e.parentNode}return!0}(t)}function a(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&i(t,!n)}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNodeList=u,e.setElement=function(t){var e=t;if("string"===typeof e&&a.canUseDOM){var n=document.querySelectorAll(e);u(n,e),e="length"in n?n[0]:n}return s=e||s},e.validateElement=c,e.hide=function(t){c(t)&&(t||s).setAttribute("aria-hidden","true")},e.show=function(t){c(t)&&(t||s).removeAttribute("aria-hidden")},e.documentNotReadyOrSSRTesting=function(){s=null},e.resetForTesting=function(){s=null};var r,o=n(10),i=(r=o)&&r.__esModule?r:{default:r},a=n(63);var s=null;function u(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function c(t){return!(!t&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";(function(e,r){var o=n(48);t.exports=_;var i,a=n(92);_.ReadableState=m;n(15).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=n(97),c=n(39).Buffer,l=e.Uint8Array||function(){};var f=n(40);f.inherits=n(8);var h=n(188),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,g=n(189),y=n(98);f.inherits(_,u);var v=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var r=e instanceof(i=i||n(30));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(99).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function _(t){if(i=i||n(30),!(this instanceof _))return new _(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,n,r,o){var i,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}(t,a)):(o||(i=function(t,e){var n;r=e,c.isBuffer(r)||r instanceof l||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),i?t.emit("error",i):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):A(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?A(t,a,e,!1):x(t,a)):A(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function A(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),x(t,e)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=y.destroy,_.prototype._undestroy=y.undestroy,_.prototype._destroy=function(t,e){this.push(null),e(t)},_.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},_.prototype.unshift=function(t){return b(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){return p||(p=n(99).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var w=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?o.nextTick(S,t):S(t))}function S(t){d("emit readable"),t.emit("readable"),T(t)}function x(t,e){e.readingMore||(e.readingMore=!0,o.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){d("readable nexttick read 0"),t.read(0)}function O(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function B(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,o=n.data;t-=o.length;for(;n=n.next;){var i=n.data,a=t>i.length?i.length:t;if(a===i.length?o+=i:o+=i.slice(0,t),0===(t-=a)){a===i.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=i.slice(a));break}++r}return e.length-=r,o}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,o=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var i=r.data,a=t>i.length?i.length:t;if(i.copy(n,n.length-t,0,a),0===(t-=a)){a===i.length?(++o,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=i.slice(a));break}++o}return e.length-=o,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function j(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,o.nextTick(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):E(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,o=e.needReadable;return d("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",o=!0),e.ended||e.reading?d("reading or ended",o=!1):o&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(r=t>0?B(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(t,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:_;function c(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",v),t.removeListener("finish",m),t.removeListener("drain",f),t.removeListener("error",y),t.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",_),n.removeListener("data",g),h=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){d("onend"),t.end()}i.endEmitted?o.nextTick(u):n.once("end",u),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,T(t))}}(n);t.on("drain",f);var h=!1;var p=!1;function g(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==N(i.pipes,t))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function y(e){d("onerror",e),_(),t.removeListener("error",y),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",m),_()}function m(){d("onfinish"),t.removeListener("close",v),_()}function _(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",y),t.once("close",v),t.once("finish",m),t.emit("pipe",n),i.flowing||(d("pipe resume"),n.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=N(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},_.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):o.nextTick(C,this))}return n},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,o.nextTick(O,t,e))}(this,t)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var o in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(o){(d("wrapped data"),n.decoder&&(o=n.decoder.write(o)),!n.objectMode||null!==o&&void 0!==o)&&((n.objectMode||o&&o.length)&&(e.push(o)||(r=!0,t.pause())))}),t)void 0===this[o]&&"function"===typeof t[o]&&(this[o]=function(e){return function(){return t[e].apply(t,arguments)}}(o));for(var i=0;i<v.length;i++)t.on(v[i],this.emit.bind(this,v[i]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=B}).call(this,n(13),n(5))},function(t,e,n){t.exports=n(15).EventEmitter},function(t,e,n){"use strict";var r=n(48);function o(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(39).Buffer,o=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(r.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},i.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var o=a(e[r]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(e[r]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=a;var r=n(30),o=n(40);function i(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}o.inherits=n(8),o.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){(function(e){var r=n(18).Transform,o=n(47).inherits,i=n(195);function a(t){r.call(this,t),this._destroyed=!1}function s(t,e,n){n(null,t)}function u(t){return function(e,n,r){return"function"==typeof e&&(r=n,n=e,e={}),"function"!=typeof n&&(n=s),"function"!=typeof r&&(r=null),t(e,n,r)}}o(a,r),a.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},t.exports=u(function(t,e,n){var r=new a(t);return r._transform=e,n&&(r._flush=n),r}),t.exports.ctor=u(function(t,e,n){function r(e){if(!(this instanceof r))return new r(e);this.options=i(t,e),a.call(this,this.options)}return o(r,a),r.prototype._transform=e,n&&(r.prototype._flush=n),r}),t.exports.obj=u(function(t,e,n){var r=new a(i({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r})}).call(this,n(5))},function(t,e,n){(function(e){var r=n(65),o=n(201),i=n(202),a=function(){},s=/^v?\.0/.test(e.version),u=function(t){return"function"===typeof t},c=function(t,e,n,c){c=r(c);var l=!1;t.on("close",function(){l=!0}),o(t,{readable:e,writable:n},function(t){if(t)return c(t);l=!0,c()});var f=!1;return function(e){if(!l&&!f)return f=!0,function(t){return!!s&&!!i&&(t instanceof(i.ReadStream||a)||t instanceof(i.WriteStream||a))&&u(t.close)}(t)?t.close(a):function(t){return t.setHeader&&u(t.abort)}(t)?t.abort():u(t.destroy)?t.destroy():void c(e||new Error("stream was destroyed"))}},l=function(t){t()},f=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),n=u(e[e.length-1]||a)&&e.pop()||a;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r=e.map(function(o,i){var a=i<e.length-1;return c(o,a,i>0,function(e){t||(t=e),e&&r.forEach(l),a||(r.forEach(l),n(t))})});return e.reduce(f)}}).call(this,n(5))},function(t,e){t.exports=function(t,e){if(e>=t.length||e<0)return;var n=t.pop();if(e<t.length){var r=t[e];return t[e]=n,r}return n}},function(t,e,n){var r=n(18),o=n(8),i=n(49)([0]),a=function t(e,n,o){if(!(this instanceof t))return new t(e,n,o);"function"===typeof e&&(o=n,n=e,e={}),r.Writable.call(this,e),this._worker=n,this._flush=o,this.destroyed=!1};o(a,r.Writable),a.obj=function(t,e,n){return"function"===typeof t?a.obj(null,t,e):(t||(t={}),t.objectMode=!0,new a(t,e,n))},a.prototype.end=function(t,e,n){return this._flush?"function"===typeof t?this.end(null,null,t):"function"===typeof e?this.end(t,null,e):(t&&this.write(t),this._writableState.ending||this.write(i),r.Writable.prototype.end.call(this,n)):r.Writable.prototype.end.apply(this,arguments)},a.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error"),this.emit("close"))},a.prototype._write=function(t,e,n){t===i?this._flush(n):this._worker([t],n)},a.prototype._writev=function(t,e){var n=t.length;if(t[t.length-1].chunk===i&&(e=this._flusher(e),!--n))return e();for(var r=new Array(n),o=0;o<n;o++)r[o]=t[o].chunk;this._worker(r,e)},a.prototype._flusher=function(t){var e=this;return function(n){if(n)return t(n);e._flush(t)}},t.exports=a},function(t,e,n){(function(e){t.exports=r;var n=e.from&&e.from!==Uint8Array.from?e.from:e;function r(t){if("object"===typeof t&&t&&t.encode&&t.decode)return t;switch(t){case"ndjson":return r.ndjson;case"json":return r.json;case"ascii":return r.ascii;case"utf-8":case"utf8":return r.utf8;case"hex":return r.hex;case"base64":return r.base64;case"ucs-2":case"ucs2":return r.ucs2;case"utf16-le":case"utf16le":return r.utf16le}return r.binary}function o(t){return{encode:t?function(t){return new e(JSON.stringify(t)+"\n")}:function(t){return new e(JSON.stringify(t))},decode:function(t){return JSON.parse(t.toString())}}}function i(t){return{encode:function(e){return"string"!==typeof e&&(e=e.toString()),n(e,t)},decode:function(e){return e.toString(t)}}}r.ascii=i("ascii"),r.utf8=i("utf-8"),r.hex=i("hex"),r.base64=i("base64"),r.ucs2=i("ucs2"),r.utf16le=i("utf16le"),r.ndjson=o(!0),r.json=o(!1),r.binary={encode:function(t){return"string"===typeof t?n(t,"utf-8"):t},decode:function(t){return t}}}).call(this,n(4).Buffer)},function(t,e,n){"use strict";(function(e){var n=function(t,n,r){e.nextTick(function(){t(n,r)})};function r(){}function o(t,e){t.apply(null,e)}e.nextTick(function(t){42===t&&(n=e.nextTick)},42),t.exports=function(t){var e=function(r){var a=[r];e=function(t){a.push(t)};t(function(t){var r=arguments;e=function(t){return"[object Error]"===Object.prototype.toString.call(t)}(t)?i:s;for(;a.length;)s(a.shift());function s(t){n(o,t,r)}})};return function(t){e(t||r)};function i(r){var a=[r];e=function(t){a.push(t)},t(function(t){var r=arguments;e=function(t){return"[object Error]"===Object.prototype.toString.call(t)}(t)?i:s;for(;a.length;)s(a.shift());function s(t){n(o,t,r)}})}}}).call(this,n(5))},function(t,e){t.exports=function(){throw new Error("random-access-file is not supported in the browser")}},function(t,e,n){var r=n(217),o=n(21);t.exports=function t(e){var n={};n.align=t;n.encode=function t(e,n,r){r||(r=0);n||(n=o(a(e)));var s=new i(e,n,r);u(s);t.bytes=s.outputOffset-r;return n};n.encode.bytes=0;n.encodingLength=a;n.decode=function t(e,n){n||(n=0);var i=o(s(e,n));var a=0;for(;n<e.length;){var u=r.decode(e,n),c=1&u,l=c?(u-(3&u))/4:u/2;n+=r.decode.bytes,c?i.fill(2&u?255:0,a,a+l):(e.copy(i,a,n,n+l),n+=l),a+=l}i.fill(0,a);t.bytes=e.length-n;return i};n.decode.bytes=0;n.decodingLength=s;return n;function i(t,e,n){this.inputOffset=0,this.inputLength=t.length,this.input=t,this.outputOffset=n,this.output=e}function a(t){var e=new i(t,null,0);return u(e),e.outputOffset}function s(t,n){n||(n=0);for(var o=0;n<t.length;){var i=r.decode(t,n);n+=r.decode.bytes;var a=1&i,s=a?(i-(3&i))/4:i/2;o+=s,a||(n+=s)}if(n>t.length)throw new Error("Invalid RLE bitfield");return o&e-1?o+(e-(o&e-1)):o}function u(t){for(var e=0,n=0,o=t.input;t.inputLength>0&&!o[t.inputLength-1];)t.inputLength--;for(var i=0;i<t.inputLength;i++)o[i]!==n?(e&&l(t,i,e,n),0===o[i]||255===o[i]?(n=o[i],e=1):e=0):e++;e&&l(t,t.inputLength,e,n),function(t){var e=t.inputLength-t.inputOffset;if(!e)return;t.output?c(t,t.inputLength):t.outputOffset+=e+r.encodingLength(2*e);t.inputOffset=t.inputLength}(t)}function c(t,e){var n=e-t.inputOffset;r.encode(2*n,t.output,t.outputOffset),t.outputOffset+=r.encode.bytes,t.input.copy(t.output,t.outputOffset,t.inputOffset,e),t.outputOffset+=n}function l(t,e,n,o){var i=e-n-t.inputOffset,a=i?r.encodingLength(2*i)+i:0,s=4*n+(o?2:0)+1,u=a+r.encodingLength(s),l=r.encodingLength(2*(e-t.inputOffset))+e-t.inputOffset;if(!(u>=l)){if(!t.output)return t.outputOffset+=u,void(t.inputOffset=e);i&&c(t,e-n),r.encode(s,t.output,t.outputOffset),t.outputOffset+=r.encode.bytes,t.inputOffset=e}}}(1)},function(t,e,n){(function(e){function n(t,e){if(!(this instanceof n))return new n(t,e);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=t||1024,this.deduplicate=e?e.deduplicate:null,this.zeros=this.deduplicate?r(this.deduplicate.length):null}function r(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n}function o(t,e){this.offset=t*e.length,this.buffer=e,this.updated=!1,this.deduplicate=0}t.exports=n,n.prototype.updated=function(t){for(;this.deduplicate&&t.buffer[t.deduplicate]===this.deduplicate[t.deduplicate];)if(t.deduplicate++,t.deduplicate===this.deduplicate.length){t.deduplicate=0,t.buffer.equals&&t.buffer.equals(this.deduplicate)&&(t.buffer=this.deduplicate);break}!t.updated&&this.updates&&(t.updated=!0,this.updates.push(t))},n.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var t=this.updates.pop();return t.updated=!1,t},n.prototype._array=function(t,e){if(t>=this.maxPages){if(e)return;!function(t,e){for(;t.maxPages<e;){var n=t.pages;t.pages=new Array(32768),t.pages[0]=n,t.level++,t.maxPages*=32768}}(this,t)}var n,r;n=t,r=this.path,n=((n=(n-(r[0]=32767&n))/32768)-(r[1]=32767&n))/32768,r[3]=(n-(r[2]=32767&n))/32768&32767;for(var o=this.pages,i=this.level;i>0;i--){var a=this.path[i],s=o[a];if(!s){if(e)return;s=o[a]=new Array(32768)}o=s}return o},n.prototype.get=function(t,n){var i=this._array(t,n),a=this.path[0],s=i&&i[a];return s||n||(s=i[a]=new o(t,r(this.pageSize)),t>=this.length&&(this.length=t+1)),s&&s.buffer===this.deduplicate&&this.deduplicate&&!n&&(s.buffer=function(t){var n=e.allocUnsafe?e.allocUnsafe(t.length):new e(t.length);return t.copy(n),n}(s.buffer),s.deduplicate=0),s},n.prototype.set=function(t,e){var n=this._array(t,!1),i=this.path[0];if(t>=this.length&&(this.length=t+1),!e||this.zeros&&e.equals&&e.equals(this.zeros))n[i]=void 0;else{this.deduplicate&&e.equals&&e.equals(this.deduplicate)&&(e=this.deduplicate);var a=n[i],s=function(t,e){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);var n=r(e);return t.copy(n),n}(e,this.pageSize);a?a.buffer=s:n[i]=new o(t,s)}},n.prototype.toBuffer=function(){for(var t=new Array(this.length),n=r(this.pageSize),o=0;o<t.length;)for(var i=this._array(o,!0),a=0;a<32768&&o<t.length;a++)t[o++]=i&&i[a]?i[a].buffer:n;return e.concat(t)}}).call(this,n(4).Buffer)},function(t,e,n){var r=n(41),o=n(67);function i(t){if(!(this instanceof i))return new i(t);this.bitfield=t||o()}function a(t){return(t-(1&t))/2}function s(t,e,n,o){for(var i=r.fullRoots(t),a=0;a<i.length;a++)i[a]===n||o.get(i[a])||e.push(i[a])}t.exports=i,i.prototype.proof=function(t,e){e||(e={});var n=[],o=e.tree||new i,u=e.digest||0;if(!this.get(t))return null;if(e.hash&&n.push(t),1===u)return{nodes:n,verifiedBy:0};var c=null,l=t,f=t,h=1&u;for(u=a(u);u;){if(1===u&&h){this.get(f)&&o.set(f),r.sibling(f)<f&&(f=r.sibling(f)),c=r.fullRoots(r.rightSpan(f)+2);for(var d=0;d<c.length;d++)this.get(c[d])&&o.set(c[d]);break}l=r.sibling(f),1&u&&this.get(l)&&o.set(l),f=r.parent(f),u=a(u)}for(f=t;!o.get(f);){if(l=r.sibling(f),!this.get(l)){var p=this.verifiedBy(f);return s(p,n,f,o),{nodes:n,verifiedBy:p}}o.get(l)||n.push(l),f=r.parent(f)}return{nodes:n,verifiedBy:0}},i.prototype.digest=function(t){if(this.get(t))return 1;for(var e=0,n=r.sibling(t),o=Math.max(n+2,this.bitfield.length),i=2,a=r.depth(t),s=r.parent(n,a++);r.rightSpan(n)<o||r.leftSpan(s)>0;){if(this.get(n)&&(e+=i),this.get(s))return 1&(e+=2*i)||(e+=1),e+1===4*i?1:e;n=r.sibling(s),s=r.parent(n,a++),i*=2}return e},i.prototype.blocks=function(){for(var t=0,e=0,n=this.bitfield.length;r.rightSpan(e)<n;)e=r.parent(e),this.get(e)&&(t=e);return(this.get(t)?this.verifiedBy(t):0)/2},i.prototype.roots=function(){return r.fullRoots(2*this.blocks())},i.prototype.verifiedBy=function(t,e){if(!this.get(t))return 0;for(var n=r.depth(t),o=t,i=r.parent(o,n++);this.get(i)&&this.get(r.sibling(o));)o=i,i=r.parent(o,n++);for(n--;n;){for(o=r.leftChild(r.index(n,r.offset(o,n)+1),n),n--;!this.get(o)&&n;)o=r.leftChild(o,n--);e&&this.get(o)&&e.push(o)}return this.get(o)?o+2:o},i.prototype.get=function(t){return this.bitfield.get(t)},i.prototype.set=function(t){if(!this.bitfield.set(t,!0))return!1;for(;this.bitfield.get(r.sibling(t))&&(t=r.parent(t),this.bitfield.set(t,!0)););return!0}},function(t,e,n){var r=n(222),o=Math.pow(2,32);e.encodingLength=function(){return 8},e.encode=function(t,e,n){e||(e=r(8)),n||(n=0);var i=Math.floor(t/o),a=t-i*o;return e.writeUInt32BE(i,n),e.writeUInt32BE(a,n+4),e},e.decode=function(t,e){e||(e=0);var n=t.readUInt32BE(e),r=t.readUInt32BE(e+4);return n*o+r},e.encode.bytes=8,e.decode.bytes=8},function(t,e,n){var r=n(224);function o(t,e){if(!(this instanceof o))return new o(t,e);for(e||(e={}),this.collisions=s(e.collisions||e.bucketSize||4),this.buckets=function(t,e){t=s(t);for(;t&e-1;)t<<=1;return t}(t,this.collisions)/this.collisions;this.buckets>65536;)this.buckets>>=1,this.collisions<<=1;var n;this.size=this.buckets*this.collisions,this.wrap=!e.indexedValues,this.cache=new Array(this.size),this.hash=65536===this.buckets?r:(n=this.buckets-1,function(t){return r(t)&n}),this.evict=e.evict||null}function i(t,e,n,r){for(;n>e;)t[n]=t[--n];t[e]=r}function a(t,e){this.index=t,this.value=e}function s(t){if(t&&!(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e}t.exports=o,o.prototype.set=function(t,e){for(var n=this.collisions*this.hash(t),r=n+this.collisions,o=n,s=null;o<r;){if(!(s=this.cache[o]))return s=this.cache[o]=this.wrap?new a(t,e):e,void i(this.cache,n,o,s);if(s.index===t)return this.wrap?s.value=e:this.cache[o]=e,void i(this.cache,n,o,s);o++}this.wrap?(this.evict&&this.evict(s.index,s.value),s.index=t,s.value=e):(this.evict&&this.evict(s.index,s),this.cache[o-1]=e),i(this.cache,n,o-1,s)},o.prototype.get=function(t){for(var e=this.collisions*this.hash(t),n=e+this.collisions,r=e;r<n;){var o=this.cache[r++];if(!o)return null;if(o.index===t)return i(this.cache,e,r-1,o),this.wrap?o.value:o}return null}},function(t,e,n){var r=n(227);function o(t,e){this._instance=r(t,e)}e.crypto_stream_KEYBYTES=32,e.crypto_stream_NONCEBYTES=24,e.crypto_stream_PRIMITIVE="xsalsa20",e.crypto_stream=function(t,n,r){t.fill(0),e.crypto_stream_xor(t,t,n,r)},e.crypto_stream_xor=function(t,e,n,o){var i=r(n,o);i.update(e,t),i.final()},e.crypto_stream_xor_instance=function(t,e){return new o(t,e)},o.prototype.update=function(t,e){this._instance.update(e,t)},o.prototype.final=function(){this._instance.finalize(),this._instance=null}},function(t,e,n){var r=n(43),o=n(231);function i(t,e,n){var r=t[e]+t[n],o=t[e+1]+t[n+1];r>=4294967296&&o++,t[e]=r,t[e+1]=o}function a(t,e,n,r){var o=t[e]+n;n<0&&(o+=4294967296);var i=t[e+1]+r;o>=4294967296&&i++,t[e]=o,t[e+1]=i}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function u(t,e,n,r,o,s){var u=h[o],c=h[o+1],l=h[s],d=h[s+1];i(f,t,e),a(f,t,u,c);var p=f[r]^f[t],g=f[r+1]^f[t+1];f[r]=g,f[r+1]=p,i(f,n,r),p=f[e]^f[n],g=f[e+1]^f[n+1],f[e]=p>>>24^g<<8,f[e+1]=g>>>24^p<<8,i(f,t,e),a(f,t,l,d),p=f[r]^f[t],g=f[r+1]^f[t+1],f[r]=p>>>16^g<<16,f[r+1]=g>>>16^p<<16,i(f,n,r),p=f[e]^f[n],g=f[e+1]^f[n+1],f[e]=g>>>31^p<<1,f[e+1]=p>>>31^g<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(t){return 2*t})),f=new Uint32Array(32),h=new Uint32Array(32);function d(t,e){var n=0;for(n=0;n<16;n++)f[n]=t.h[n],f[n+16]=c[n];for(f[24]=f[24]^t.t,f[25]=f[25]^t.t/4294967296,e&&(f[28]=~f[28],f[29]=~f[29]),n=0;n<32;n++)h[n]=s(t.b,4*n);for(n=0;n<12;n++)u(0,8,16,24,l[16*n+0],l[16*n+1]),u(2,10,18,26,l[16*n+2],l[16*n+3]),u(4,12,20,28,l[16*n+4],l[16*n+5]),u(6,14,22,30,l[16*n+6],l[16*n+7]),u(0,10,20,30,l[16*n+8],l[16*n+9]),u(2,12,22,24,l[16*n+10],l[16*n+11]),u(4,14,16,26,l[16*n+12],l[16*n+13]),u(6,8,18,28,l[16*n+14],l[16*n+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^f[n]^f[n+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(t,e,n,r){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,p[0]=t,e&&(p[1]=e.length),p[2]=1,p[3]=1,n&&p.set(n,32),r&&p.set(r,48);for(var o=0;o<16;o++)this.h[o]=c[o]^s(p,4*o);e&&(y(this,e),this.c=128)}function y(t,e){for(var n=0;n<e.length;n++)128===t.c&&(t.t+=t.c,d(t,!1),t.c=0),t.b[t.c++]=e[n]}function v(t){return t<16?"0"+t.toString(16):t.toString(16)}g.prototype.update=function(t){return r(null!=t,"input must be Uint8Array or Buffer"),y(this,t),this},g.prototype.digest=function(t){var e=t&&"binary"!==t&&"hex"!==t?t:new Uint8Array(this.outlen);return r(e.length>=this.outlen,"out must have at least outlen bytes of space"),function(t,e){t.t+=t.c;for(;t.c<128;)t.b[t.c++]=0;d(t,!0);for(var n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(3&n)}(this,e),"hex"===t?function(t){for(var e="",n=0;n<t.length;n++)e+=v(t[n]);return e}(e):e},g.prototype.final=g.prototype.digest,g.ready=function(t){o.ready(function(){t()})};var m=g;t.exports=function(t,e,n,o,i){return!0!==i&&(r(t>=_,"outlen must be at least "+_+", was given "+t),r(t<=b,"outlen must be at most "+b+", was given "+t),null!=e&&r(e.length>=A,"key must be at least "+A+", was given "+e.length),null!=e&&r(e.length<=w,"key must be at most "+w+", was given "+e.length),null!=n&&r(n.length===k,"salt must be exactly "+k+", was given "+n.length),null!=o&&r(o.length===E,"personal must be exactly "+E+", was given "+o.length)),new m(t,e,n,o)},t.exports.ready=function(t){o.ready(function(){t()})},t.exports.WASM_SUPPORTED=o.SUPPORTED,t.exports.WASM_LOADED=!1;var _=t.exports.BYTES_MIN=16,b=t.exports.BYTES_MAX=64,A=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),w=t.exports.KEYBYTES_MAX=64,k=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),E=t.exports.PERSONALBYTES=16;o.ready(function(e){e||(t.exports.WASM_LOADED=!0,m=o)})},function(t,e,n){(function(e){var r=n(18),o=n(8),i=n(34),a=n(42),s=n(245),u=n(246),c=n(116),l=n(21),f=n(49);function h(t){if(!(this instanceof h))return new h(t);t||(t={}),r.Duplex.call(this);var e=this;this.id=t.id||d(32),this.live=!!t.live,this.ack=!!t.ack,this.userData=t.userData||null,this.remoteId=null,this.remoteLive=!1,this.remoteUserData=null,this.destroyed=!1,this.encrypted=!1!==t.encrypt,this.key=null,this.discoveryKey=null,this.remoteDiscoveryKey=null,this.feeds=[],this.expectedFeeds=t.expectedFeeds||0,this.extensions=t.extensions||[],this.remoteExtensions=null,this.maxFeeds=t.maxFeeds||256,this._localFeeds=[],this._remoteFeeds=[],this._feeds={},this._nonce=null,this._remoteNonce=null,this._xor=null,this._remoteXor=null,this._needsKey=!1,this._length=l(i.encodingLength(8388608)),this._missing=0,this._buf=null,this._pointer=0,this._data=null,this._start=0,this._cb=null,this._interval=null,this._keepAlive=0,this._remoteKeepAlive=0,this._maybeFinalize=function(t){if(t)return e.destroy(t);e.expectedFeeds||e.finalize()},this._utp=null,0!==t.timeout&&!1!==t.timeout&&this.setTimeout(t.timeout||5e3,this._ontimeout),this.on("finish",this.finalize),this.on("pipe",this._onpipe)}function d(t){var e=l(t);return a.randombytes_buf(e),e}t.exports=h,o(h,r.Duplex),h.prototype._onpipe=function(t){"function"===typeof t.setContentSize&&(this._utp=t)},h.prototype._prefinalize=function(){this.emit("prefinalize",this._maybeFinalize)||this.finalize()},h.prototype.setTimeout=function(t,e){if(!this.destroyed){e&&this.once("timeout",e);var n=this;this._keepAlive=0,this._remoteKeepAlive=0,clearInterval(this._interval),t&&(this._interval=setInterval(function(){n._kick()},t/4|0),this._interval.unref&&this._interval.unref())}},h.prototype.feed=function(t,e){if(this.destroyed)return null;e||(e={});var n=e.discoveryKey||function(t){var e=l(32);return a.crypto_generichash(e,f("hypercore"),t),e}(t),r=this._feed(n);if(r.id>-1)return e.peer&&(r.peer=e.peer),r;if(this._localFeeds.length>=this.maxFeeds)return this._tooManyFeeds(),null;r.id=this._localFeeds.push(r)-1,r.header=r.id<<4,r.headerLength=i.encodingLength(r.header),r.key=t,r.discoveryKey=n,e.peer&&(r.peer=e.peer),this.feeds.push(r);var o=!this.key,s={discoveryKey:n,nonce:null};if(o){if(this.key=t,this.discoveryKey=n,!this._sameKey())return null;this.encrypted&&(s.nonce=this._nonce=d(24),this._xor=a.crypto_stream_xor_instance(this._nonce,this.key),this._remoteNonce&&(this._remoteXor=a.crypto_stream_xor_instance(this._remoteNonce,this.key))),this._needsKey&&(this._needsKey=!1,this._resume())}var u=function(t,e){var n=e<<4,r=i.encodingLength(n)+c.Feed.encodingLength(t),o=l(i.encodingLength(r)+r),a=0;return i.encode(r,o,a),a+=i.encode.bytes,i.encode(n,o,a),a+=i.encode.bytes,c.Feed.encode(t,o,a),o}(s,r.id);return!s.nonce&&this.encrypted&&this._xor.update(u,u),this._keepAlive=0,this.push(u),this.destroyed?null:(o&&r.handshake({id:this.id,live:this.live,userData:this.userData,extensions:this.extensions,ack:this.ack}),r._buffer.length?r._resume():r._buffer=null,r)},h.prototype._resume=function(){var t=this;e.nextTick(function(){if(!t._data)return;var e=t._data,n=t._start,r=t._cb;t._data=null,t._start=0,t._cb=null,t._parse(e,n,r)})},h.prototype._kick=function(){if(this._remoteKeepAlive>4)return clearInterval(this._interval),void this.emit("timeout");for(var t=0;t<this.feeds.length;t++){var e=this.feeds[t];e.peer?e.peer.ontick():e.emit("tick")}this._remoteKeepAlive++,this._keepAlive>2?(this.ping(),this._keepAlive=0):this._keepAlive++},h.prototype.ping=function(){if(!this.key)return!0;var t=f([0]);return this._xor&&this._xor.update(t,t),this.push(t)},h.prototype.destroy=function(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error",t),this._close(),this.emit("close"))},h.prototype.finalize=function(){this.destroyed||(this.destroyed=!0,this._close(),this.push(null))},h.prototype._close=function(){clearInterval(this._interval);var t=this.feeds;this.feeds=[];for(var e=0;e<t.length;e++)t[e]._onclose();this._xor&&(this._xor.final(),this._xor=null)},h.prototype._read=function(){},h.prototype._push=function(t){if(!this.destroyed)return this._keepAlive=0,this._xor&&this._xor.update(t,t),this.push(t)},h.prototype._write=function(t,e,n){this._remoteKeepAlive=0,this._parse(t,0,n)},h.prototype._feed=function(t){var e=t.toString("hex"),n=this._feeds[e];return n||(n=this._feeds[e]=u(this))},h.prototype.remoteSupports=function(t){var e=this.extensions.indexOf(t);return e>-1&&!!this.remoteExtensions&&this.remoteExtensions.indexOf(e)>-1},h.prototype._onhandshake=function(t){this.remoteId||(this.remoteId=t.id||d(32),this.remoteLive=t.live,this.remoteUserData=t.userData,this.remoteExtensions=s(this.extensions,t.extensions),this.remoteAck=t.ack,this.emit("handshake"))},h.prototype._onopen=function(t,e,n,r){var o=function(t,e,n){var r=null;try{r=c.Feed.decode(t,e,n)}catch(o){return null}return 32!==r.discoveryKey.length?null:r.nonce&&24!==r.nonce.length?null:r}(e,n,r);if(!o)return this._badFeed();if(!this.remoteDiscoveryKey){if(this.remoteDiscoveryKey=o.discoveryKey,!this._sameKey())return;if(this.encrypted&&!this._remoteNonce){if(!o.nonce)return void this.destroy(new Error("Remote did not include a nonce"));this._remoteNonce=o.nonce}this.encrypted&&this.key&&!this._remoteXor&&(this._remoteXor=a.crypto_stream_xor_instance(this._remoteNonce,this.key))}this._remoteFeeds[t]=this._feed(o.discoveryKey),o.remoteId=t,this.emit("feed",o.discoveryKey)},h.prototype._onmessage=function(t,e,n){if(!(n-e<2)){var r=function(t,e){try{return i.decode(t,e)}catch(n){return-1}}(t,e);if(-1===r)return this.destroy(new Error("Remote sent invalid header"));e+=i.decode.bytes;var o=r>>4,a=15&r;if(o>=this.maxFeeds)return this._tooManyFeeds();for(;this._remoteFeeds.length<o;)this._remoteFeeds.push(null);var s=this._remoteFeeds[o];return 0===a?(s&&s._onclose(),this._onopen(o,t,e,n)):s?15===a?s._onextension(t,e,n):void s._onmessage(a,t,e,n):this._badFeed()}},h.prototype._parse=function(t,e,n){var r=!!this._remoteXor;for(e&&(t=t.slice(e),e=0),this._remoteXor&&this._remoteXor.update(t,t);e<t.length&&!this.destroyed;){if(e=this._missing?this._parseMessage(t,e):this._parseLength(t,e),this._needsKey)return this._data=t,this._start=e,void(this._cb=n);if(!r&&this._remoteXor)return this._parse(t,e,n)}n()},h.prototype._parseMessage=function(t,e){var n=e+this._missing;if(n<=t.length){var r=n;return this._buf&&(t.copy(this._buf,this._pointer,e),e=0,n=(t=this._buf).length,this._buf=null),this._missing=0,this._pointer=0,this.encrypted&&!this.key&&(this._needsKey=!0),this._onmessage(t,e,n),r}this._buf||(this._buf=l(this._missing),this._pointer=0);var o=t.length-e;return t.copy(this._buf,this._pointer,e),this._pointer+=o,this._missing-=o,t.length},h.prototype._parseLength=function(t,e){for(;!this._missing&&e<t.length;){if(!(128&(this._length[this._pointer++]=t[e++]))){if(this._missing=i.decode(this._length),this._pointer=0,this._missing>8388608)return this._tooBig(t.length);if(this._utp){var n=this._missing-(t.length-e);n>0&&!this._needsKey&&this._utp.setContentSize(n)}return e}if(this._pointer>=this._length.length)return this._tooBig(t.length)}return e},h.prototype._sameKey=function(){return!this.discoveryKey||!this.remoteDiscoveryKey||(this.remoteDiscoveryKey.toString("hex")===this.discoveryKey.toString("hex")||(this.destroy(new Error("First shared hypercore must be the same")),!1))},h.prototype._tooManyFeeds=function(){this.destroy(new Error("Only "+this.maxFeeds+" feeds currently supported. Open a Github issue if you need more"))},h.prototype._tooBig=function(t){return this.destroy(new Error("Remote message is larger than 8MB (max allowed)")),t},h.prototype._badFeed=function(){this.destroy(new Error("Remote sent invalid feed message"))},h.prototype._ontimeout=function(){this.destroy(new Error("Remote timed out"))}}).call(this,n(5))},function(t,e,n){(function(t){var r=n(117),o=r.varint,i=r.skip,a=e.Feed={buffer:!0,encodingLength:null,encode:null,decode:null},s=e.Handshake={buffer:!0,encodingLength:null,encode:null,decode:null},u=e.Info={buffer:!0,encodingLength:null,encode:null,decode:null},c=e.Have={buffer:!0,encodingLength:null,encode:null,decode:null},l=e.Unhave={buffer:!0,encodingLength:null,encode:null,decode:null},f=e.Want={buffer:!0,encodingLength:null,encode:null,decode:null},h=e.Unwant={buffer:!0,encodingLength:null,encode:null,decode:null},d=e.Request={buffer:!0,encodingLength:null,encode:null,decode:null},p=e.Cancel={buffer:!0,encodingLength:null,encode:null,decode:null},g=e.Data={buffer:!0,encodingLength:null,encode:null,decode:null};function y(t){return null!==t&&void 0!==t&&("number"!==typeof t||!isNaN(t))}!function(){var e=[r.bytes];function n(t){var n=0;if(!y(t.discoveryKey))throw new Error("discoveryKey is required");var r=e[0].encodingLength(t.discoveryKey);if(n+=1+r,y(t.nonce)){var r=e[0].encodingLength(t.nonce);n+=1+r}return n}a.encodingLength=n,a.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.discoveryKey))throw new Error("discoveryKey is required");i[a++]=10;e[0].encode(o.discoveryKey,i,a);a+=e[0].encode.bytes;y(o.nonce)&&(i[a++]=18,e[0].encode(o.nonce,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},a.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={discoveryKey:null,nonce:null};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.discoveryKey=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.nonce=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.bytes,r.bool,r.string];function n(t){var n=0;if(y(t.id)){var r=e[0].encodingLength(t.id);n+=1+r}if(y(t.live)){var r=e[1].encodingLength(t.live);n+=1+r}if(y(t.userData)){var r=e[0].encodingLength(t.userData);n+=1+r}if(y(t.extensions))for(var o=0;o<t.extensions.length;o++)if(y(t.extensions[o])){var r=e[2].encodingLength(t.extensions[o]);n+=1+r}if(y(t.ack)){var r=e[1].encodingLength(t.ack);n+=1+r}return n}s.encodingLength=n,s.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;y(o.id)&&(i[a++]=10,e[0].encode(o.id,i,a),a+=e[0].encode.bytes);y(o.live)&&(i[a++]=16,e[1].encode(o.live,i,a),a+=e[1].encode.bytes);y(o.userData)&&(i[a++]=26,e[0].encode(o.userData,i,a),a+=e[0].encode.bytes);if(y(o.extensions))for(var u=0;u<o.extensions.length;u++)y(o.extensions[u])&&(i[a++]=34,e[2].encode(o.extensions[u],i,a),a+=e[2].encode.bytes);y(o.ack)&&(i[a++]=40,e[1].encode(o.ack,i,a),a+=e[1].encode.bytes);r.bytes=a-s;return i},s.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={id:null,live:!1,userData:null,extensions:[],ack:!1};for(;;){if(a<=r)return t.bytes=r-s,u;var c=o.decode(n,r);r+=o.decode.bytes;var l=c>>3;switch(l){case 1:u.id=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 2:u.live=e[1].decode(n,r),r+=e[1].decode.bytes;break;case 3:u.userData=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 4:u.extensions.push(e[2].decode(n,r)),r+=e[2].decode.bytes;break;case 5:u.ack=e[1].decode(n,r),r+=e[1].decode.bytes;break;default:r=i(7&c,n,r)}}}}(),function(){var e=[r.bool];function n(t){var n=0;if(y(t.uploading)){var r=e[0].encodingLength(t.uploading);n+=1+r}if(y(t.downloading)){var r=e[0].encodingLength(t.downloading);n+=1+r}return n}u.encodingLength=n,u.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;y(o.uploading)&&(i[a++]=8,e[0].encode(o.uploading,i,a),a+=e[0].encode.bytes);y(o.downloading)&&(i[a++]=16,e[0].encode(o.downloading,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},u.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={uploading:!1,downloading:!1};for(;;){if(a<=r)return t.bytes=r-s,u;var c=o.decode(n,r);r+=o.decode.bytes;var l=c>>3;switch(l){case 1:u.uploading=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 2:u.downloading=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&c,n,r)}}}}(),function(){var e=[r.varint,r.bytes];function n(t){var n=0;if(!y(t.start))throw new Error("start is required");var r=e[0].encodingLength(t.start);if(n+=1+r,y(t.length)){var r=e[0].encodingLength(t.length);n+=1+r}if(y(t.bitfield)){var r=e[1].encodingLength(t.bitfield);n+=1+r}return n}c.encodingLength=n,c.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.start))throw new Error("start is required");i[a++]=8;e[0].encode(o.start,i,a);a+=e[0].encode.bytes;y(o.length)&&(i[a++]=16,e[0].encode(o.length,i,a),a+=e[0].encode.bytes);y(o.bitfield)&&(i[a++]=26,e[1].encode(o.bitfield,i,a),a+=e[1].encode.bytes);r.bytes=a-s;return i},c.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={start:0,length:1,bitfield:null};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.start=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.length=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 3:u.bitfield=e[1].decode(n,r),r+=e[1].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.varint];function n(t){var n=0;if(!y(t.start))throw new Error("start is required");var r=e[0].encodingLength(t.start);if(n+=1+r,y(t.length)){var r=e[0].encodingLength(t.length);n+=1+r}return n}l.encodingLength=n,l.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.start))throw new Error("start is required");i[a++]=8;e[0].encode(o.start,i,a);a+=e[0].encode.bytes;y(o.length)&&(i[a++]=16,e[0].encode(o.length,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},l.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={start:0,length:1};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.start=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.length=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.varint];function n(t){var n=0;if(!y(t.start))throw new Error("start is required");var r=e[0].encodingLength(t.start);if(n+=1+r,y(t.length)){var r=e[0].encodingLength(t.length);n+=1+r}return n}f.encodingLength=n,f.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.start))throw new Error("start is required");i[a++]=8;e[0].encode(o.start,i,a);a+=e[0].encode.bytes;y(o.length)&&(i[a++]=16,e[0].encode(o.length,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},f.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={start:0,length:0};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.start=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.length=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.varint];function n(t){var n=0;if(!y(t.start))throw new Error("start is required");var r=e[0].encodingLength(t.start);if(n+=1+r,y(t.length)){var r=e[0].encodingLength(t.length);n+=1+r}return n}h.encodingLength=n,h.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.start))throw new Error("start is required");i[a++]=8;e[0].encode(o.start,i,a);a+=e[0].encode.bytes;y(o.length)&&(i[a++]=16,e[0].encode(o.length,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},h.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={start:0,length:0};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.start=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.length=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.varint,r.bool];function n(t){var n=0;if(!y(t.index))throw new Error("index is required");var r=e[0].encodingLength(t.index);if(n+=1+r,y(t.bytes)){var r=e[0].encodingLength(t.bytes);n+=1+r}if(y(t.hash)){var r=e[1].encodingLength(t.hash);n+=1+r}if(y(t.nodes)){var r=e[0].encodingLength(t.nodes);n+=1+r}return n}d.encodingLength=n,d.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.index))throw new Error("index is required");i[a++]=8;e[0].encode(o.index,i,a);a+=e[0].encode.bytes;y(o.bytes)&&(i[a++]=16,e[0].encode(o.bytes,i,a),a+=e[0].encode.bytes);y(o.hash)&&(i[a++]=24,e[1].encode(o.hash,i,a),a+=e[1].encode.bytes);y(o.nodes)&&(i[a++]=32,e[0].encode(o.nodes,i,a),a+=e[0].encode.bytes);r.bytes=a-s;return i},d.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={index:0,bytes:0,hash:!1,nodes:0};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.index=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.bytes=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 3:u.hash=e[1].decode(n,r),r+=e[1].decode.bytes;break;case 4:u.nodes=e[0].decode(n,r),r+=e[0].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=[r.varint,r.bool];function n(t){var n=0;if(!y(t.index))throw new Error("index is required");var r=e[0].encodingLength(t.index);if(n+=1+r,y(t.bytes)){var r=e[0].encodingLength(t.bytes);n+=1+r}if(y(t.hash)){var r=e[1].encodingLength(t.hash);n+=1+r}return n}p.encodingLength=n,p.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!y(o.index))throw new Error("index is required");i[a++]=8;e[0].encode(o.index,i,a);a+=e[0].encode.bytes;y(o.bytes)&&(i[a++]=16,e[0].encode(o.bytes,i,a),a+=e[0].encode.bytes);y(o.hash)&&(i[a++]=24,e[1].encode(o.hash,i,a),a+=e[1].encode.bytes);r.bytes=a-s;return i},p.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={index:0,bytes:0,hash:!1};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.index=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.bytes=e[0].decode(n,r),r+=e[0].decode.bytes;break;case 3:u.hash=e[1].decode(n,r),r+=e[1].decode.bytes;break;default:r=i(7&l,n,r)}}}}(),function(){var e=g.Node={buffer:!0,encodingLength:null,encode:null,decode:null};!function(){var n=[r.varint,r.bytes];function a(t){var e=0;if(!y(t.index))throw new Error("index is required");var r=n[0].encodingLength(t.index);if(e+=1+r,!y(t.hash))throw new Error("hash is required");var r=n[1].encodingLength(t.hash);if(e+=1+r,!y(t.size))throw new Error("size is required");var r=n[0].encodingLength(t.size);return e+=1+r}e.encodingLength=a,e.encode=function e(r,o,i){i||(i=0);o||(o=t.allocUnsafe(a(r)));var s=i;if(!y(r.index))throw new Error("index is required");o[i++]=8;n[0].encode(r.index,o,i);i+=n[0].encode.bytes;if(!y(r.hash))throw new Error("hash is required");o[i++]=18;n[1].encode(r.hash,o,i);i+=n[1].encode.bytes;if(!y(r.size))throw new Error("size is required");o[i++]=24;n[0].encode(r.size,o,i);i+=n[0].encode.bytes;e.bytes=i-s;return o},e.decode=function t(e,r,a){r||(r=0);a||(a=e.length);if(!(a<=e.length&&r<=e.length))throw new Error("Decoded message is not valid");var s=r;var u={index:0,hash:null,size:0};var c=!1;var l=!1;var f=!1;for(;;){if(a<=r){if(!c||!l||!f)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var h=o.decode(e,r);r+=o.decode.bytes;var d=h>>3;switch(d){case 1:u.index=n[0].decode(e,r),r+=n[0].decode.bytes,c=!0;break;case 2:u.hash=n[1].decode(e,r),r+=n[1].decode.bytes,l=!0;break;case 3:u.size=n[0].decode(e,r),r+=n[0].decode.bytes,f=!0;break;default:r=i(7&h,e,r)}}}}();var n=[r.varint,r.bytes,e];function a(t){var e=0;if(!y(t.index))throw new Error("index is required");var r=n[0].encodingLength(t.index);if(e+=1+r,y(t.value)){var r=n[1].encodingLength(t.value);e+=1+r}if(y(t.nodes))for(var i=0;i<t.nodes.length;i++)if(y(t.nodes[i])){var r=n[2].encodingLength(t.nodes[i]);e+=o.encodingLength(r),e+=1+r}if(y(t.signature)){var r=n[1].encodingLength(t.signature);e+=1+r}return e}g.encodingLength=a,g.encode=function e(r,i,s){s||(s=0);i||(i=t.allocUnsafe(a(r)));var u=s;if(!y(r.index))throw new Error("index is required");i[s++]=8;n[0].encode(r.index,i,s);s+=n[0].encode.bytes;y(r.value)&&(i[s++]=18,n[1].encode(r.value,i,s),s+=n[1].encode.bytes);if(y(r.nodes))for(var c=0;c<r.nodes.length;c++)y(r.nodes[c])&&(i[s++]=26,o.encode(n[2].encodingLength(r.nodes[c]),i,s),s+=o.encode.bytes,n[2].encode(r.nodes[c],i,s),s+=n[2].encode.bytes);y(r.signature)&&(i[s++]=34,n[1].encode(r.signature,i,s),s+=n[1].encode.bytes);e.bytes=s-u;return i},g.decode=function t(e,r,a){r||(r=0);a||(a=e.length);if(!(a<=e.length&&r<=e.length))throw new Error("Decoded message is not valid");var s=r;var u={index:0,value:null,nodes:[],signature:null};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(e,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.index=n[0].decode(e,r),r+=n[0].decode.bytes,c=!0;break;case 2:u.value=n[1].decode(e,r),r+=n[1].decode.bytes;break;case 3:var h=o.decode(e,r);r+=o.decode.bytes,u.nodes.push(n[2].decode(e,r,r+h)),r+=n[2].decode.bytes;break;case 4:u.signature=n[1].decode(e,r),r+=n[1].decode.bytes;break;default:r=i(7&l,e,r)}}}}()}).call(this,n(4).Buffer)},function(t,e,n){(function(t){var r=n(34),o=n(247);function i(t,e,n,r){return e.bytes=n.bytes=0,{type:t,encode:e,decode:n,encodingLength:r}}function a(e){return t.isBuffer(e)?e.length:t.byteLength(e)}e.make=i,e.name=function(t){for(var n=Object.keys(e),r=0;r<n.length;r++)if(e[n[r]]===t)return n[r];return null},e.skip=function(t,e,n){switch(t){case 0:return r.decode(e,n),n+r.decode.bytes;case 1:return n+8;case 2:var o=r.decode(e,n);return n+r.decode.bytes+o;case 3:case 4:throw new Error("Groups are not supported");case 5:return n+4}throw new Error("Unknown wire type: "+t)},e.bytes=i(2,function e(n,o,i){var s=i,u=a(n);return r.encode(u,o,i),i+=r.encode.bytes,t.isBuffer(n)?n.copy(o,i):o.write(n,i,u),e.bytes=(i+=u)-s,o},function t(e,n){var o=n,i=r.decode(e,n);n+=r.decode.bytes;var a=e.slice(n,n+i);return n+=a.length,t.bytes=n-o,a},function(t){var e=a(t);return r.encodingLength(e)+e}),e.string=i(2,function e(n,o,i){var a=i,s=t.byteLength(n);return r.encode(s,o,i,"utf-8"),i+=r.encode.bytes,o.write(n,i,s),e.bytes=(i+=s)-a,o},function t(e,n){var o=n,i=r.decode(e,n);n+=r.decode.bytes;var a=e.toString("utf-8",n,n+i);return t.bytes=(n+=i)-o,a},function(e){var n=t.byteLength(e);return r.encodingLength(n)+n}),e.bool=i(0,function t(e,n,r){return n[r]=e?1:0,t.bytes=1,n},function t(e,n){var r=e[n]>0;return t.bytes=1,r},function(){return 1}),e.int32=i(0,function t(e,n,o){return r.encode(e<0?e+4294967296:e,n,o),t.bytes=r.encode.bytes,n},function t(e,n){var o=r.decode(e,n);return t.bytes=r.decode.bytes,o>2147483647?o-4294967296:o},function(t){return r.encodingLength(t<0?t+4294967296:t)}),e.int64=i(0,function t(e,n,o){if(e<0){var i=o+9;for(r.encode(-1*e,n,o),n[o+=r.encode.bytes-1]=128|n[o];o<i-1;)n[++o]=255;n[i]=1,t.bytes=10}else r.encode(e,n,o),t.bytes=r.encode.bytes;return n},function e(n,o){var i=r.decode(n,o);if(i>=Math.pow(2,63)){for(var a=9;255===n[o+a-1];)a--;a=a||9;var s=t.allocUnsafe(a);n.copy(s,0,o,o+a),s[a-1]=127&s[a-1],i=-1*r.decode(s,0),e.bytes=10}else e.bytes=r.decode.bytes;return i},function(t){return t<0?10:r.encodingLength(t)}),e.sint32=e.sint64=i(0,o.encode,o.decode,o.encodingLength),e.uint32=e.uint64=e.enum=e.varint=i(0,r.encode,r.decode,r.encodingLength),e.fixed64=e.sfixed64=i(1,function t(e,n,r){return e.copy(n,r),t.bytes=8,n},function t(e,n){var r=e.slice(n,n+8);return t.bytes=8,r},function(){return 8}),e.double=i(1,function t(e,n,r){return n.writeDoubleLE(e,r),t.bytes=8,n},function t(e,n){var r=e.readDoubleLE(n);return t.bytes=8,r},function(){return 8}),e.fixed32=i(5,function t(e,n,r){return n.writeUInt32LE(e,r),t.bytes=4,n},function t(e,n){var r=e.readUInt32LE(n);return t.bytes=4,r},function(){return 4}),e.sfixed32=i(5,function t(e,n,r){return n.writeInt32LE(e,r),t.bytes=4,n},function t(e,n){var r=e.readInt32LE(n);return t.bytes=4,r},function(){return 4}),e.float=i(5,function t(e,n,r){return n.writeFloatLE(e,r),t.bytes=4,n},function t(e,n){var r=e.readFloatLE(n);return t.bytes=4,r},function(){return 4})}).call(this,n(4).Buffer)},function(t,e,n){var r=n(51),o=n(8),i=n(253),a=n(50),s=n(69),u=[3,2,1,0],c=[3,2,1,0,4];function l(t,e,n){if(!(this instanceof l))return new l(t,e,n);n||(n={}),r.call(this),this._db=t,this._stack=[{path:e?a(e,!1):[],node:null,i:0}],this._recursive=!1!==n.recursive,this._reverse=!!n.reverse,this._order={gt:this._reverse?u.slice().reverse():u,gte:this._reverse?c.slice().reverse():c},this._gt=!!n.gt,this._start=this._stack[0].path.length,this._end=this._recursive?1/0:this._start+a.LENGTH,this._map=s.map(n,t),this._reduce=s.reduce(n,t),this._collisions=[],this._deletes=!(!n||!n.deletes),this._prefix=e,this._pending=0,this._error=null}function f(t,e,n){return(n?-1:1)*(i(e.key,t.key)||e.feed-t.feed)}function h(t){for(var e=0;e<t.length;e++)if(!t[e].deleted)return!1;return!0}function d(t,e,n){for(var r=0;r<t.length;r++){var o=t[r],i=e<o.trie.length&&o.trie[e];if(i&&i[n])return!0;if(o.path[e]===n)return!0}return!1}function p(t,e){return!e||(t.startsWith?t.startsWith(e):t.slice(0,e.length)===e)}t.exports=l,o(l,r),l.prototype._pushPointer=function(t,e,n){var r=this,o={path:null,node:null,i:e};this._pending++,this._stack.push(o),this._db._getPointer(t.feed,t.seq,!1,function(t,e){t?r._error=t:o.node=e;if(--r._pending)return;if(r._error)return n(r._error);r._next(n)})},l.prototype._pushNode=function(t,e){this._stack.push({path:null,node:t,i:e})},l.prototype._pushPrefix=function(t,e,n){this._stack.push({path:(e<t.length?t.slice(0,e):t).concat(n),node:null,i:e})},l.prototype._singleNode=function(t,e){for(var n=t.node,r=Math.min(this._end,n.trie.length),o=t.i;o<r;o++){var i=o<n.trie.length&&n.trie[o];if(i){for(var a=n.path[o],s=this._sortOrder(o),u=0;u<s.length;u++){var c=s[u],l=c<i.length&&i[c];c!==a?l&&(l.length>1?this._pushPrefix(n.path,o,c):this._pushPointer(l[0],o+1,e)):l?this._pushPrefix(n.path,o,c):this._pushNode(n,o+1)}return 0===this._pending}}return!((this._deletes||!n.deleted)&&p(n.key,this._prefix))||(e(null,this._prereturn([n])),!1)},l.prototype._multiNode=function(t,e,n){if(!e.length)return this._next(n);if(1===e.length)return this._pushNode(e[0],t.length),this._next(n);var r=t.length;if(r<this._end)for(var o=this._sortOrder(r),i=0;i<o.length;i++){var a=o[i];d(e,r,a)&&this._pushPrefix(t,t.length,a)}if((e=this._filterResult(e,r))&&(this._deletes||!h(e)))return n(null,this._prereturn(e));this._next(n)},l.prototype._filterResult=function(t,e){var n=null;t.sort(f,this._reverse);for(var r=0;r<t.length;r++){var o=t[r];o.path.length!==e&&e!==this._end||p(o.key,this._prefix)&&(n||(n=[]),n.length&&n[0].key!==o.key&&(this._collisions.push(n),n=[]),n.push(o))}return n},l.prototype._next=function(t){var e=function(t){for(;t.length;){var e=t.pop();if(this._deletes||!h(e))return e}return null}(this._collisions);if(e)return t(null,this._prereturn(e));for(var n=null;;){if(!(n=this._stack.pop()))return t(null,null);if(!n.node)break;if(!this._singleNode(n,t))return}this._lookupPrefix(n.path,t)},l.prototype._lookupPrefix=function(t,e){var n=this;this._db.get("",{path:t,prefix:!0,map:!1,reduce:!1},function(r,o){if(r)return e(r);n._multiNode(t,o,e)})},l.prototype._prereturn=function(t){return this._map&&(t=t.map(this._map)),this._reduce?t.reduce(this._reduce):t},l.prototype._sortOrder=function(t){return(this._gt||!this._start)&&this._start===t?this._order.gt:this._order.gte}},function(t,e,n){(function(e){var r=n(50),o=n(69);function i(t,e,n){this.key=e,this.results=[],this._deletes=!(!n||!n.deletes),this._callback=s,this._options=n||null,this._prefixed=!(!n||!n.prefix),this._path=n&&n.path||r(e,!this._prefixed),this._onlookup=n&&n.onlookup||null,this._db=t,this._error=null,this._active=0,this._workers=[]}function a(t,e){this.i=e,this.head=t,this.lock=t}function s(){}function u(t){t._finalize()}function c(t,e){for(var n=0;n<e.length;n++)t(e[n])}t.exports=function t(e,n,r,o,a){if("function"===typeof o)return t(e,n,r,null,o);var s=new i(e,r,o);s.start(n,a)},i.prototype._push=function(t){this._prefixed?this.results.push(t):t.key===this.key&&this.results.push(t)},i.prototype.start=function(t,n){if(n&&(this._callback=n),!t.length)return e.nextTick(u,this);if(this._onlookup)for(var r=0;r<t.length;r++)this._onlookup({feed:t[r].feed,seq:t[r].seq});this._update(t,null)},i.prototype._update=function(t,e){if(e){var n=this._workers.indexOf(e);n>-1&&this._workers.splice(n,1)}this._active+=t.length;for(var r=0;r<t.length;r++){var o=new a(t[r],e?e.i+1:0);this._workers.push(o),this._isHead(o.lock,o)?this._moveCloser(o):this._end(o,null,!0)}e&&this._end(e,null)},i.prototype._end=function(t,e,n){if(n){var r=this._workers.indexOf(t);r>-1&&this._workers.splice(r,1)}e&&(this._error=e),--this._active||this._finalize()},i.prototype._finalize=function(){var t=this._error,e=this._callback;this._error=this._callback=null,t?e(t):e(null,this._prereturn(this.results))},i.prototype._prereturn=function(t){this._deletes||!function(t){for(var e=0;e<t.length;e++)if(!t[e].deleted)return!1;return!0}(t)||this._prefixed||(t=[]);var e=o.map(this._options,this._db),n=o.reduce(this._options,this._db);return e&&(t=t.map(e)),n?t.length?t.reduce(n):null:t},i.prototype._updatePointers=function(t,e){var n=this;this._onlookup&&c(this._onlookup,t),this._db._getAllPointers(t,!1,function(t,r){if(t)return n._end(e,t,!1);n._update(r,e)})},i.prototype._getAndMoveCloser=function(t,e){var n=this;this._onlookup&&this._onlookup(t),this._db._getPointer(t.feed,t.seq,!1,function(t,r){if(t)return n._end(e,t,!1);if(!n._isHead(r,e))return n._end(e,null,!0);e.head=r,e.i++,n._moveCloser(e)})},i.prototype._pushPointers=function(t,e){var n=this;this._onlookup&&c(this._onlookup,t),this._db._getAllPointers(t,!1,function(t,r){if(t)return n._end(e,t,!1);for(var o=0;o<r.length;o++){var i=r[o];n._isHead(i,e)&&n._push(i)}n._end(e,null,!1)})},i.prototype._moveCloser=function(t){var e=this._path,n=t.head;if(!n)return this._end(t,null,!1);for(;t.i<e.length;t.i++){var r=t.i,o=e[r];if(n.path[r]!==o){var i=(n.trie[r]||[])[o]||[];return i.length?void(i.length>1?this._updatePointers(i,t):this._getAndMoveCloser(i[0],t)):this._end(t,null,!1)}}this._push(n);var a=e.length-1,s=n.trie[a],u=s&&s[e[a]];if(!u||!u.length)return this._end(t,null,!1);this._pushPointers(u,t)},i.prototype._isHead=function(t,e){for(var n=t.seq+1,r=0;r<this._workers.length;r++){var o=this._workers[r];if(o!==e)if(n<=o.lock.clock[t.feed])return!1}return!0}}).call(this,n(5))},function(t,e){t.exports=function(t){return t.length?"/"===t[0]?t.slice(1):t:""}},function(t,e,n){var r=n(35),o=n(57);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(13))},function(t,e,n){var r=n(278),o=n(294),i=n(296),a=n(297),s=n(298);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(36),o=n(19),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(129);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(32),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e,n){var r=n(306),o=n(309),i=n(311);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(325),o=n(73),i=n(22),a=n(132),s=n(72),u=n(327),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),h=!n&&!l&&!f&&u(t),d=n||l||f||h,p=d?r(t.length,String):[],g=p.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||p.push(y);return p}},function(t,e,n){(function(t){var r=n(17),o=n(326),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(58)(t))},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(124),o=n(74);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(131),o=n(332),i=n(134);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(75),o=n(81),i=n(80),a=n(136),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e,n){var r=n(75),o=n(22);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(138),o=n(137),i=n(135);t.exports=function(t){return r(t,i,o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(160),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default,t.exports=e.default},function(t,e,n){(function(e,r){var o=n(171),i=n(172),a=n(8),s=1048576;function u(t){if(!(this instanceof u))return new u(t);"number"===typeof t&&(t={length:t}),t||(t={}),o.call(this),e.isBuffer(t)&&(t={length:t.length,buffer:t}),i(t)||(t={}),this.length=t.length||0,this.pageSize=t.length||t.pageSize||s,this.buffers=[],t.buffer&&this.buffers.push(t.buffer)}function c(t,e,n){r.nextTick(l,t,e,n)}function l(t,e,n){t.callback(e,n)}t.exports=u,a(u,o),u.prototype._stat=function(t){c(t,null,{size:this.length})},u.prototype._write=function(t){var e=Math.floor(t.offset/this.pageSize),n=t.offset-e*this.pageSize,r=0,o=t.offset+t.size;for(o>this.length&&(this.length=o);r<t.size;){var i=this._page(e++,!0),a=this.pageSize-n,s=a<t.size-r?r+a:t.size;t.data.copy(i,n,r,s),r=s,n=0}c(t,null,null)},u.prototype._read=function(t){var n=Math.floor(t.offset/this.pageSize),r=t.offset-n*this.pageSize,o=0;if(t.offset+t.size>this.length)return c(t,new Error("Could not satisfy length"),null);for(var i=e.alloc(t.size);o<t.size;){var a=this._page(n++,!1),s=this.pageSize-r,u=t.size-o,l=s<u?s:u;a&&a.copy(i,o,r,r+l),o+=l,r=0}c(t,null,i)},u.prototype._del=function(t){var e=Math.floor(t.offset/this.pageSize),n=t.offset-e*this.pageSize,r=0;for(t.offset+t.size>this.length&&(t.size=Math.max(0,this.length-t.offset));r<t.size;)0===n&&t.size-r>=this.pageSize&&(this.buffers[e++]=void 0),n=0,r+=this.pageSize-n;t.offset+t.size>=this.length&&(this.length=t.offset),c(t,null,null)},u.prototype._destroy=function(t){this._buffers=[],this.length=0,c(t,null,null)},u.prototype._page=function(t,n){var r=this.buffers[t];return r||!n?r:r=this.buffers[t]=e.alloc(this.pageSize)},u.prototype.toBuffer=function(){for(var t=e.alloc(this.length),n=0;n<this.buffers.length;n++)this.buffers[n]&&this.buffers[n].copy(t,n*this.pageSize);return t}}).call(this,n(4).Buffer,n(5))},function(t,e,n){var r=n(173),o=n(94),i=n(95),a=n(174),s=n(177),u=n(178),c=n(179),l=n(15),f=n(181),h=n(102),d=function(t){"use strict";function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(this,e),t=a(this,s(e).call(this)),c("function"===typeof n.stream,"A `stream` function prop is required."),t.id=n.id,t.stream=n.stream,t.channels=new Map,t}return u(e,l),i(e,[{key:"join",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(t&&"object"===typeof t,"A SignalHub instance is required."),this.channels.has(t.app))throw new Error("Swarm with the hub name '".concat(t.app,"' already defined"));var r={peers:new Map,swarm:f(t,Object.assign({},{uuid:this.id},n))};r.swarm.on("peer",function(t,n){var o=e.stream();e.emit("handshaking",o,{id:n}),o.on("handshake",e._handshake.bind(e,r,o,n)),h(t,o,t)}),r.swarm.on("disconnect",function(t,n){r.peers.delete(n),e.emit("connection-closed",t,{id:n})}),this.channels.set(t.name,r)}},{key:"_handshake",value:function(t,e,n){if(t.peers.has(n)){var r=t.peers.get(n);this.emit("redundant-connection",r,{id:n}),t.peers.delete(n),r.destroy()}t.peers.set(n,e),this.emit("connection",e,{id:n})}}]),e}();t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(d,e)}},function(t,e,n){(function(e){var r=n(15),o=n(101),i=n(8),a="undefined"!==typeof window&&window.WebSocket?window.WebSocket:null;function s(t,e,n){var r=this;this.opened=!1,this.sockets=[],this.app=t;var o=this.channels=new Map;this.subscribers={get length(){return o.size}},Array.isArray(e)||(e=[e]),e=e.map(function(t){return-1===(t=t.replace(/\/$/,"")).indexOf("://")?"ws://"+t:t});for(var i=0,a=0;a<e.length;a++){var s=new n("".concat(e[a],"/").concat(t));this.sockets.push(s),s.addEventListener("open",function(){if(++i===e.length){r.opened=!0,r.emit("open");var t=!0,n=!1,o=void 0;try{for(var a,s=r.channels.values()[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){a.value.emit("open")}}catch(u){n=!0,o=u}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}}}),s.addEventListener("message",function(t){r.onMessage(t)})}}i(s,r.EventEmitter),s.prototype.subscribe=function(t){var n=this;if(this.closed)throw new Error("Cannot subscribe after close");return this.channels.has(t)?this.channels.get(t):(this.channels.set(t,o.obj()),this.channels.get(t).on("close",function(){this.channels.remove(t)}),this.opened&&e.nextTick(function(){n.channels.has(t)&&n.channels.get(t).emit("open")}),this.channels.get(t))},s.prototype.broadcast=function(t,e,n){if(this.closed)throw new Error("Cannot broadcast after close");var r={app:this.app,channel:t,message:e};this.sockets.forEach(function(t){t.send(JSON.stringify(r))}),n&&n()},s.prototype.onMessage=function(t){t=JSON.parse(t.data);var e=!0,n=!1,r=void 0;try{for(var o,i=this.channels.keys()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(t.channel!==a){if(Array.isArray(a))for(var s=0;s<a.length;s++)a[s]===t.channel&&this.channels.get(a).write(t.message)}else this.channels.get(a).write(t.message)}}catch(u){n=!0,r=u}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}},s.prototype.close=function(t){var n=this;if(!this.closed){this.once("close:socket",function(){n._closeChannels(t)});var r=this.sockets.length;if(0!==r){var o=0;this.sockets.forEach(function(t){t.addEventListener("close",function(){++o===r&&n.emit("close:socket")}),e.nextTick(function(){t.close()})})}else this.emit("close")}},s.prototype._closeChannels=function(t){var n=this;if(!this.closed){this.closed=!0,t&&this.on("close",t);var r=this.channels.size;if(0!==r){var o=0,i=!0,a=!1,s=void 0;try{for(var u,c=function(){var t=u.value;e.nextTick(function(){t.end(function(){++o===r&&(n.channels.clear(),n.emit("close"))})})},l=this.channels.values()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0)c()}catch(f){a=!0,s=f}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}else this.emit("close")}},t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(!n)throw TypeError("No WebSocket class given.");return new s(t,e,n)}}).call(this,n(5))},,function(t,e,n){"use strict";var r,o;r=new RegExp("^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),o=new RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]"),t.exports=function(t){return t=t.toString(),o.test(t)?"rtl":r.test(t)?"ltr":"neutral"}},function(t,e){t.exports=function(t){var e=t.anchorNode,n=t.anchorOffset,r=t.focusNode,o=t.focusOffset,i=e.compareDocumentPosition(r);return!(4===i||0===i&&n<o)}},function(t,e,n){var r=n(365),o=n(19),i="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var r=n(370);t.exports=d,t.exports.parse=i,t.exports.compile=function(t,e){return s(i(t,e))},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(t,e){for(var n,r=[],i=0,a=0,s="",l=e&&e.delimiter||"/";null!=(n=o.exec(t));){var f=n[0],h=n[1],d=n.index;if(s+=t.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=t[a],g=n[2],y=n[3],v=n[4],m=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var A=null!=g&&null!=p&&p!==g,w="+"===_||"*"===_,k="?"===_||"*"===_,E=n[2]||l,S=v||m;r.push({name:y||i++,prefix:g||"",delimiter:E,optional:k,repeat:w,partial:A,asterisk:!!b,pattern:S?c(S):b?".*":"[^"+u(E)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,o){for(var i="",s=n||{},u=(o||{}).pretty?a:encodeURIComponent,c=0;c<t.length;c++){var l=t[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!e[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");i+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!e[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');i+=l.prefix+f}}else i+=l}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function l(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";e.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return o||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(d(t[o],e,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),e)}(t,e,n):function(t,e,n){return h(i(t,n),e,n)}(t,e,n)}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",function(){return r})},,function(t,e,n){"use strict";var r=n(89),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.concurrent_mode"):60111,d=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,g=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(t=Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function A(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}function w(){}function k(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||_}A.prototype.isReactComponent={},A.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&m("85"),this.updater.enqueueSetState(this,t,e,"setState")},A.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=A.prototype;var E=k.prototype=new w;E.constructor=k,r(E,A.prototype),E.isPureReactComponent=!0;var S={current:null,currentDispatcher:null},x=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r=void 0,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!I.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:S.current}}function O(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g,B=[];function j(t,e,n,r){if(B.length){var o=B.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>B.length&&B.push(t)}function N(t,e,n){return null==t?0:function t(e,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return r(o,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+D(s=e[c],c);u+=t(s,l,r,o)}else if(l=null===e||"object"!==typeof e?null:"function"===typeof(l=v&&e[v]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+D(s,c++),r,o);else"object"===s&&m("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?P(t,r,n,function(t){return t}):null!=t&&(O(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(T,"$&/")+"/")+n)),r.push(t))}function P(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(T,"$&/")+"/"),N(t,R,e=j(e,i,r,o)),M(e)}var F={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return P(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;N(t,L,e=j(null,null,e,n)),M(e)},count:function(t){return N(t,function(){return null},null)},toArray:function(t){var e=[];return P(t,e,null,function(t){return t}),e},only:function(t){return O(t)||m("143"),t}},createRef:function(){return{current:null}},Component:A,PureComponent:k,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:d,render:t}},lazy:function(t){return{$$typeof:y,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},Fragment:s,StrictMode:u,Suspense:p,createElement:C,cloneElement:function(t,e,n){(null===t||void 0===t)&&m("267",t);var o=void 0,a=r({},t.props),s=t.key,u=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,c=S.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(o in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)x.call(e,o)&&!I.hasOwnProperty(o)&&(a[o]=void 0===e[o]&&void 0!==l?l[o]:e[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:t.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:O,version:"16.7.0",unstable_ConcurrentMode:h,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:r}},U={default:F},z=U&&F||U;t.exports=z.default||z},function(t,e,n){"use strict";var r=n(1),o=n(89),i=n(154);function a(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(t=Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,u=null,c=!1,l=null,f={onError:function(t){s=!0,u=t}};function h(t,e,n,r,o,i,a,c,l){s=!1,u=null,function(t,e,n,r,o,i,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}.apply(f,arguments)}var d=null,p={};function g(){if(d)for(var t in p){var e=p[t],n=d.indexOf(t);if(-1<n||a("96",t),!v[n])for(var r in e.extractEvents||a("97",t),v[n]=e,n=e.eventTypes){var o=void 0,i=n[r],s=e,u=r;m.hasOwnProperty(u)&&a("99",u),m[u]=i;var c=i.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&y(c[o],s,u);o=!0}else i.registrationName?(y(i.registrationName,s,u),o=!0):o=!1;o||a("98",r,t)}}}function y(t,e,n){_[t]&&a("100",t),_[t]=e,b[t]=e.eventTypes[n].dependencies}var v=[],m={},_={},b={},A=null,w=null,k=null;function E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=k(n),function(t,e,n,r,o,i,f,d,p){if(h.apply(this,arguments),s){if(s){var g=u;s=!1,u=null}else a("198"),g=void 0;c||(c=!0,l=g)}}(r,e,void 0,t),t.currentTarget=null}function S(t,e){return null==e&&a("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function x(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var I=null;function C(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)E(t,e[r],n[r]);else e&&E(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var O={injectEventPluginOrder:function(t){d&&a("101"),d=Array.prototype.slice.call(t),g()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];p.hasOwnProperty(e)&&p[e]===r||(p[e]&&a("102",e),p[e]=r,n=!0)}n&&g()}};function T(t,e){var n=t.stateNode;if(!n)return null;var r=A(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&a("231",e,typeof n),n)}function B(t){if(null!==t&&(I=S(I,t)),t=I,I=null,t&&(x(t,C),I&&a("95"),c))throw t=l,c=!1,l=null,t}var j=Math.random().toString(36).slice(2),M="__reactInternalInstance$"+j,N="__reactEventHandlers$"+j;function D(t){if(t[M])return t[M];for(;!t[M];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[M]).tag||6===t.tag?t:null}function L(t){return!(t=t[M])||5!==t.tag&&6!==t.tag?null:t}function R(t){if(5===t.tag||6===t.tag)return t.stateNode;a("33")}function P(t){return t[N]||null}function F(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function U(t,e,n){(e=T(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function z(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=F(e);for(e=n.length;0<e--;)U(n[e],"captured",t);for(e=0;e<n.length;e++)U(n[e],"bubbled",t)}}function q(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=T(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function Q(t){t&&t.dispatchConfig.registrationName&&q(t._targetInst,null,t)}function K(t){x(t,z)}var H=!("undefined"===typeof window||!window.document||!window.document.createElement);function W(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var V={animationend:W("Animation","AnimationEnd"),animationiteration:W("Animation","AnimationIteration"),animationstart:W("Animation","AnimationStart"),transitionend:W("Transition","TransitionEnd")},Y={},J={};function G(t){if(Y[t])return Y[t];if(!V[t])return t;var e,n=V[t];for(e in n)if(n.hasOwnProperty(e)&&e in J)return Y[t]=n[e];return t}H&&(J=document.createElement("div").style,"AnimationEvent"in window||(delete V.animationend.animation,delete V.animationiteration.animation,delete V.animationstart.animation),"TransitionEvent"in window||delete V.transitionend.transition);var $=G("animationend"),X=G("animationiteration"),Z=G("animationstart"),tt=G("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,ot=null;function it(){if(ot)return ot;var t,e,n=rt,r=n.length,o="value"in nt?nt.value:nt.textContent,i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);return ot=o.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function ut(t,e,n,r){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ct(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function lt(t){t instanceof this||a("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ft(t){t.eventPool=[],t.getPooled=ct,t.release=lt}o(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,t),n.extend=r.extend,ft(n),n},ft(ut);var ht=ut.extend({data:null}),dt=ut.extend({data:null}),pt=[9,13,27,32],gt=H&&"CompositionEvent"in window,yt=null;H&&"documentMode"in document&&(yt=document.documentMode);var vt=H&&"TextEvent"in window&&!yt,mt=H&&(!gt||yt&&8<yt&&11>=yt),_t=String.fromCharCode(32),bt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},At=!1;function wt(t,e){switch(t){case"keyup":return-1!==pt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kt(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Et=!1;var St={eventTypes:bt,extractEvents:function(t,e,n,r){var o=void 0,i=void 0;if(gt)t:{switch(t){case"compositionstart":o=bt.compositionStart;break t;case"compositionend":o=bt.compositionEnd;break t;case"compositionupdate":o=bt.compositionUpdate;break t}o=void 0}else Et?wt(t,n)&&(o=bt.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=bt.compositionStart);return o?(mt&&"ko"!==n.locale&&(Et||o!==bt.compositionStart?o===bt.compositionEnd&&Et&&(i=it()):(rt="value"in(nt=r)?nt.value:nt.textContent,Et=!0)),o=ht.getPooled(o,e,n,r),i?o.data=i:null!==(i=kt(n))&&(o.data=i),K(o),i=o):i=null,(t=vt?function(t,e){switch(t){case"compositionend":return kt(e);case"keypress":return 32!==e.which?null:(At=!0,_t);case"textInput":return(t=e.data)===_t&&At?null:t;default:return null}}(t,n):function(t,e){if(Et)return"compositionend"===t||!gt&&wt(t,e)?(t=it(),ot=rt=nt=null,Et=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=dt.getPooled(bt.beforeInput,e,n,r)).data=t,K(e)):e=null,null===i?e:null===e?i:[i,e]}},xt=null,It=null,Ct=null;function Ot(t){if(t=w(t)){"function"!==typeof xt&&a("280");var e=A(t.stateNode);xt(t.stateNode,t.type,e)}}function Tt(t){It?Ct?Ct.push(t):Ct=[t]:It=t}function Bt(){if(It){var t=It,e=Ct;if(Ct=It=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function jt(t,e){return t(e)}function Mt(t,e,n){return t(e,n)}function Nt(){}var Dt=!1;function Lt(t,e){if(Dt)return t(e);Dt=!0;try{return jt(t,e)}finally{Dt=!1,(null!==It||null!==Ct)&&(Nt(),Bt())}}var Rt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rt[t.type]:"textarea"===e}function Ft(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ut(t){if(!H)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function zt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function qt(t){t._valueTracker||(t._valueTracker=function(t){var e=zt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Qt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var Kt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ht=/^(.*)[\\\/]/,Wt="function"===typeof Symbol&&Symbol.for,Vt=Wt?Symbol.for("react.element"):60103,Yt=Wt?Symbol.for("react.portal"):60106,Jt=Wt?Symbol.for("react.fragment"):60107,Gt=Wt?Symbol.for("react.strict_mode"):60108,$t=Wt?Symbol.for("react.profiler"):60114,Xt=Wt?Symbol.for("react.provider"):60109,Zt=Wt?Symbol.for("react.context"):60110,te=Wt?Symbol.for("react.concurrent_mode"):60111,ee=Wt?Symbol.for("react.forward_ref"):60112,ne=Wt?Symbol.for("react.suspense"):60113,re=Wt?Symbol.for("react.memo"):60115,oe=Wt?Symbol.for("react.lazy"):60116,ie="function"===typeof Symbol&&Symbol.iterator;function ae(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=ie&&t[ie]||t["@@iterator"])?t:null}function se(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case te:return"ConcurrentMode";case Jt:return"Fragment";case Yt:return"Portal";case $t:return"Profiler";case Gt:return"StrictMode";case ne:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Zt:return"Context.Consumer";case Xt:return"Context.Provider";case ee:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case re:return se(t.type);case oe:if(t=1===t._status?t._result:null)return se(t)}return null}function ue(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,o=t._debugSource,i=se(t.type);n=null,r&&(n=se(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(Ht,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}e+=n,t=t.return}while(t);return e}var ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,le=Object.prototype.hasOwnProperty,fe={},he={};function de(t,e,n,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new de(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new de(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new de(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new de(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new de(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new de(t,3,!0,t,null)}),["capture","download"].forEach(function(t){pe[t]=new de(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){pe[t]=new de(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){pe[t]=new de(t,5,!1,t.toLowerCase(),null)});var ge=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}function ve(t,e,n,r){var o=pe.hasOwnProperty(e)?pe[e]:null;(null!==o?0===o.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!le.call(he,t)||!le.call(fe,t)&&(ce.test(t)?he[t]=!0:(fe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function me(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _e(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function be(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=me(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ae(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function we(t,e){Ae(t,e);var n=me(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ee(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ee(t,e.type,me(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function ke(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ee(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ge,ye);pe[e]=new de(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ge,ye);pe[e]=new de(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ge,ye);pe[e]=new de(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),pe.tabIndex=new de("tabIndex",1,!1,"tabindex",null);var Se={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xe(t,e,n){return(t=ut.getPooled(Se.change,t,e,n)).type="change",Tt(n),K(t),t}var Ie=null,Ce=null;function Oe(t){B(t)}function Te(t){if(Qt(R(t)))return t}function Be(t,e){if("change"===t)return e}var je=!1;function Me(){Ie&&(Ie.detachEvent("onpropertychange",Ne),Ce=Ie=null)}function Ne(t){"value"===t.propertyName&&Te(Ce)&&Lt(Oe,t=xe(Ce,t,Ft(t)))}function De(t,e,n){"focus"===t?(Me(),Ce=n,(Ie=e).attachEvent("onpropertychange",Ne)):"blur"===t&&Me()}function Le(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Te(Ce)}function Re(t,e){if("click"===t)return Te(e)}function Pe(t,e){if("input"===t||"change"===t)return Te(e)}H&&(je=Ut("input")&&(!document.documentMode||9<document.documentMode));var Fe={eventTypes:Se,_isInputEventSupported:je,extractEvents:function(t,e,n,r){var o=e?R(e):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Be:Pt(o)?je?i=Pe:(i=Le,a=De):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Re),i&&(i=i(t,e)))return xe(i,n,r);a&&a(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Ee(o,"number",o.value)}},Ue=ut.extend({view:null,detail:null}),ze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ze[t])&&!!e[t]}function Qe(){return qe}var Ke=0,He=0,We=!1,Ve=!1,Ye=Ue.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ke;return Ke=t.screenX,We?"mousemove"===t.type?t.screenX-e:0:(We=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=He;return He=t.screenY,Ve?"mousemove"===t.type?t.screenY-e:0:(Ve=!0,0)}}),Je=Ye.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ge={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$e={eventTypes:Ge,extractEvents:function(t,e,n,r){var o="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=e,e=(e=n.relatedTarget||n.toElement)?D(e):null):i=null,i===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=Ye,s=Ge.mouseLeave,u=Ge.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Je,s=Ge.pointerLeave,u=Ge.pointerEnter,c="pointer");var l=null==i?o:R(i);if(o=null==e?o:R(e),(t=a.getPooled(s,i,n,r)).type=c+"leave",t.target=l,t.relatedTarget=o,(n=a.getPooled(u,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=l,r=e,i&&r)t:{for(o=r,c=0,a=e=i;a;a=F(a))c++;for(a=0,u=o;u;u=F(u))a++;for(;0<c-a;)e=F(e),c--;for(;0<a-c;)o=F(o),a--;for(;c--;){if(e===o||e===o.alternate)break t;e=F(e),o=F(o)}e=null}else e=null;for(o=e,e=[];i&&i!==o&&(null===(c=i.alternate)||c!==o);)e.push(i),i=F(i);for(i=[];r&&r!==o&&(null===(c=r.alternate)||c!==o);)i.push(r),r=F(r);for(r=0;r<e.length;r++)q(e[r],"bubbled",t);for(r=i.length;0<r--;)q(i[r],"captured",n);return[t,n]}},Xe=Object.prototype.hasOwnProperty;function Ze(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function tn(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Xe.call(e,n[r])||!Ze(t[n[r]],e[n[r]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function nn(t){2!==en(t)&&a("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&a("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===n)return nn(o),t;if(s===r)return nn(o),e;s=s.sibling}a("188")}if(n.return!==r.return)n=o,r=i;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ut.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sn=Ue.extend({relatedTarget:null});function un(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Ue.extend({key:function(t){if(t.key){var e=cn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=un(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ln[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:function(t){return"keypress"===t.type?un(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?un(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hn=Ye.extend({dataTransfer:null}),dn=Ue.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),pn=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Ye.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),yn=[["abort","abort"],[$,"animationEnd"],[X,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[tt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},mn={};function _n(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},vn[t]=e,mn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){_n(t,!0)}),yn.forEach(function(t){_n(t,!1)});var bn={eventTypes:vn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=mn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var o=mn[t];if(!o)return null;switch(t){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":t=fn;break;case"blur":case"focus":t=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ye;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=dn;break;case $:case X:case Z:t=on;break;case tt:t=pn;break;case"scroll":t=Ue;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Je;break;default:t=ut}return K(e=t.getPooled(o,e,n,r)),e}},An=bn.isInteractiveTopLevelEventType,wn=[];function kn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=D(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var o=Ft(t.nativeEvent);r=t.topLevelType;for(var i=t.nativeEvent,a=null,s=0;s<v.length;s++){var u=v[s];u&&(u=u.extractEvents(r,e,i,o))&&(a=S(a,u))}B(a)}}var En=!0;function Sn(t,e){if(!e)return null;var n=(An(t)?In:Cn).bind(null,t);e.addEventListener(t,n,!1)}function xn(t,e){if(!e)return null;var n=(An(t)?In:Cn).bind(null,t);e.addEventListener(t,n,!0)}function In(t,e){Mt(Cn,t,e)}function Cn(t,e){if(En){var n=Ft(e);if(null===(n=D(n))||"number"!==typeof n.tag||2===en(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Lt(kn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>wn.length&&wn.push(t)}}}var On={},Tn=0,Bn="_reactListenersID"+(""+Math.random()).slice(2);function jn(t){return Object.prototype.hasOwnProperty.call(t,Bn)||(t[Bn]=Tn++,On[t[Bn]]={}),On[t[Bn]]}function Mn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Nn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dn(t,e){var n,r=Nn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Nn(r)}}function Ln(){for(var t=window,e=Mn();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(n){break}e=Mn(t.document)}return e}function Rn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Pn=H&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Un=null,zn=null,qn=null,Qn=!1;function Kn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Qn||null==Un||Un!==Mn(n)?null:("selectionStart"in(n=Un)&&Rn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},qn&&tn(qn,n)?null:(qn=n,(t=ut.getPooled(Fn.select,zn,t,e)).type="select",t.target=Un,K(t),t))}var Hn={eventTypes:Fn,extractEvents:function(t,e,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){t:{i=jn(i),o=b.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?R(e):window,t){case"focus":(Pt(i)||"true"===i.contentEditable)&&(Un=i,zn=e,qn=null);break;case"blur":qn=zn=Un=null;break;case"mousedown":Qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qn=!1,Kn(n,r);case"selectionchange":if(Pn)break;case"keydown":case"keyup":return Kn(n,r)}return null}};function Wn(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Vn(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+me(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function Yn(t,e){return null!=e.dangerouslySetInnerHTML&&a("91"),o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&a("92"),Array.isArray(e)&&(1>=e.length||a("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:me(n)}}function Gn(t,e){var n=me(e.value),r=me(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function $n(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),A=P,w=L,k=R,O.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:$e,ChangeEventPlugin:Fe,SelectEventPlugin:Hn,BeforeInputEventPlugin:St});var Xn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Zn(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var er,nr=void 0,rr=(er=function(t,e){if(t.namespaceURI!==Xn.svg||"innerHTML"in t)t.innerHTML=e;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return er(t,e)})}:er);function or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ir={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function sr(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ir.hasOwnProperty(t)&&ir[t]?(""+e).trim():e+"px"}function ur(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=sr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(ir).forEach(function(t){ar.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ir[e]=ir[t]})});var cr=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(t,e){e&&(cr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&a("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&a("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||a("61")),null!=e.style&&"object"!==typeof e.style&&a("62",""))}function fr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(t,e){var n=jn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=b[e];for(var r=0;r<e.length;r++){var o=e[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":xn("scroll",t);break;case"focus":case"blur":xn("focus",t),xn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ut(o)&&xn(o,t);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(o)&&Sn(o,t)}n[o]=!0}}}function dr(){}var pr=null,gr=null;function yr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function vr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var mr="function"===typeof setTimeout?setTimeout:void 0,_r="function"===typeof clearTimeout?clearTimeout:void 0;function br(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Ar(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var wr=[],kr=-1;function Er(t){0>kr||(t.current=wr[kr],wr[kr]=null,kr--)}function Sr(t,e){wr[++kr]=t.current,t.current=e}var xr={},Ir={current:xr},Cr={current:!1},Or=xr;function Tr(t,e){var n=t.type.contextTypes;if(!n)return xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Br(t){return null!==(t=t.childContextTypes)&&void 0!==t}function jr(t){Er(Cr),Er(Ir)}function Mr(t){Er(Cr),Er(Ir)}function Nr(t,e,n){Ir.current!==xr&&a("168"),Sr(Ir,e),Sr(Cr,n)}function Dr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in t||a("108",se(e)||"Unknown",i);return o({},n,r)}function Lr(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||xr,Or=Ir.current,Sr(Ir,e),Sr(Cr,Cr.current),!0}function Rr(t,e,n){var r=t.stateNode;r||a("169"),n?(e=Dr(t,e,Or),r.__reactInternalMemoizedMergedChildContext=e,Er(Cr),Er(Ir),Sr(Ir,e)):Er(Cr),Sr(Cr,n)}var Pr=null,Fr=null;function Ur(t){return function(e){try{return t(e)}catch(n){}}}function zr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qr(t,e,n,r){return new zr(t,e,n,r)}function Qr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Kr(t,e){var n=t.alternate;return null===n?((n=qr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hr(t,e,n,r,o,i){var s=2;if(r=t,"function"===typeof t)Qr(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case Jt:return Wr(n.children,o,i,e);case te:return Vr(n,3|o,i,e);case Gt:return Vr(n,2|o,i,e);case $t:return(t=qr(12,n,e,4|o)).elementType=$t,t.type=$t,t.expirationTime=i,t;case ne:return(t=qr(13,n,e,o)).elementType=ne,t.type=ne,t.expirationTime=i,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Xt:s=10;break t;case Zt:s=9;break t;case ee:s=11;break t;case re:s=14;break t;case oe:s=16,r=null;break t}a("130",null==t?t:typeof t,"")}return(e=qr(s,n,e,o)).elementType=t,e.type=r,e.expirationTime=i,e}function Wr(t,e,n,r){return(t=qr(7,t,r,e)).expirationTime=n,t}function Vr(t,e,n,r){return t=qr(8,t,r,e),e=0===(1&e)?Gt:te,t.elementType=e,t.type=e,t.expirationTime=n,t}function Yr(t,e,n){return(t=qr(6,t,null,e)).expirationTime=n,t}function Jr(t,e,n){return(e=qr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),Zr(e,t)}function $r(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),Zr(e,t)}function Xr(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function Zr(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,o=e.earliestPendingTime,i=e.latestPingedTime;0===(o=0!==o?o:i)&&(0===t||r<t)&&(o=r),0!==(t=o)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=o,e.expirationTime=t}var to=!1;function eo(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function no(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ro(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function oo(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function io(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,o=null;null===r&&(r=t.updateQueue=eo(t.memoizedState))}else r=t.updateQueue,o=n.updateQueue,null===r?null===o?(r=t.updateQueue=eo(t.memoizedState),o=n.updateQueue=eo(n.memoizedState)):r=t.updateQueue=no(o):null===o&&(o=n.updateQueue=no(r));null===o||r===o?oo(r,e):null===r.lastUpdate||null===o.lastUpdate?(oo(r,e),oo(o,e)):(oo(r,e),o.lastUpdate=e)}function ao(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=eo(t.memoizedState):so(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function so(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=no(e)),e}function uo(t,e,n,r,i,a){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(a,r,i):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(null===(i="function"===typeof(t=n.payload)?t.call(a,r,i):t)||void 0===i)break;return o({},r,i);case 2:to=!0}return r}function co(t,e,n,r,o){to=!1;for(var i=(e=so(t,e)).baseState,a=null,s=0,u=e.firstUpdate,c=i;null!==u;){var l=u.expirationTime;l<o?(null===a&&(a=u,i=c),s<l&&(s=l)):(c=uo(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<o?(null===l&&(l=u,null===a&&(i=c)),s<f&&(s=f)):(c=uo(t,0,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===l&&(i=c),e.baseState=i,e.firstUpdate=a,e.firstCapturedUpdate=l,t.expirationTime=s,t.memoizedState=c}function lo(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),fo(e.firstEffect,n),e.firstEffect=e.lastEffect=null,fo(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function fo(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&a("191",n),n.call(r)}t=t.nextEffect}}function ho(t,e){return{value:t,source:e,stack:ue(e)}}var po={current:null},go=null,yo=null,vo=null;function mo(t,e){var n=t.type._context;Sr(po,n._currentValue),n._currentValue=e}function _o(t){var e=po.current;Er(po),t.type._context._currentValue=e}function bo(t){go=t,vo=yo=null,t.firstContextDependency=null}function Ao(t,e){return vo!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(vo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===yo?(null===go&&a("293"),go.firstContextDependency=yo=e):yo=yo.next=e),t._currentValue}var wo={},ko={current:wo},Eo={current:wo},So={current:wo};function xo(t){return t===wo&&a("174"),t}function Io(t,e){Sr(So,e),Sr(Eo,t),Sr(ko,wo);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tr(null,"");break;default:e=tr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Er(ko),Sr(ko,e)}function Co(t){Er(ko),Er(Eo),Er(So)}function Oo(t){xo(So.current);var e=xo(ko.current),n=tr(e,t.type);e!==n&&(Sr(Eo,t),Sr(ko,n))}function To(t){Eo.current===t&&(Er(ko),Er(Eo))}function Bo(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var jo=Kt.ReactCurrentOwner,Mo=(new r.Component).refs;function No(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:o({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Do={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=xa(),o=ro(r=Xi(r,t));o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Vi(),io(t,o),ea(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=xa(),o=ro(r=Xi(r,t));o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Vi(),io(t,o),ea(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=xa(),r=ro(n=Xi(n,t));r.tag=2,void 0!==e&&null!==e&&(r.callback=e),Vi(),io(t,r),ea(t,n)}};function Lo(t,e,n,r,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,r)||!tn(o,i))}function Ro(t,e,n){var r=!1,o=xr,i=e.contextType;return"object"===typeof i&&null!==i?i=jo.currentDispatcher.readContext(i):(o=Br(e)?Or:Ir.current,i=(r=null!==(r=e.contextTypes)&&void 0!==r)?Tr(t,o):xr),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Do,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Po(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Do.enqueueReplaceState(e,e.state,null)}function Fo(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Mo;var i=e.contextType;"object"===typeof i&&null!==i?o.context=jo.currentDispatcher.readContext(i):(i=Br(e)?Or:Ir.current,o.context=Tr(t,i)),null!==(i=t.updateQueue)&&(co(t,i,n,o,r),o.state=t.memoizedState),"function"===typeof(i=e.getDerivedStateFromProps)&&(No(t,e,i,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&Do.enqueueReplaceState(o,o.state,null),null!==(i=t.updateQueue)&&(co(t,i,n,o,r),o.state=t.memoizedState)),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var Uo=Array.isArray;function zo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("289"),r=n.stateNode),r||a("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs;e===Mo&&(e=r.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}"string"!==typeof t&&a("284"),n._owner||a("290",t)}return t}function qo(t,e){"textarea"!==t.type&&a("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function Qo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return(t=Kr(t,e)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Yr(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=zo(t,e,n),r.return=t,r):((r=Hr(n.type,n.key,n.props,null,t.mode,r)).ref=zo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Jr(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function f(t,e,n,r,i){return null===e||7!==e.tag?((e=Wr(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Yr(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Vt:return(n=Hr(e.type,e.key,e.props,null,t.mode,n)).ref=zo(t,null,e),n.return=t,n;case Yt:return(e=Jr(e,t.mode,n)).return=t,e}if(Uo(e)||ae(e))return(e=Wr(e,t.mode,n,null)).return=t,e;qo(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Vt:return n.key===o?n.type===Jt?f(t,e,n.props.children,r,o):c(t,e,n,r):null;case Yt:return n.key===o?l(t,e,n,r):null}if(Uo(n)||ae(n))return null!==o?null:f(t,e,n,r,null);qo(t,n)}return null}function p(t,e,n,r,o){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Vt:return t=t.get(null===r.key?n:r.key)||null,r.type===Jt?f(e,t,r.props.children,o,r.key):c(e,t,r,o);case Yt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,o)}if(Uo(r)||ae(r))return f(e,t=t.get(n)||null,r,o,null);qo(e,r)}return null}function g(o,a,s,u){for(var c=null,l=null,f=a,g=a=0,y=null;null!==f&&g<s.length;g++){f.index>g?(y=f,f=null):y=f.sibling;var v=d(o,f,s[g],u);if(null===v){null===f&&(f=y);break}t&&f&&null===v.alternate&&e(o,f),a=i(v,a,g),null===l?c=v:l.sibling=v,l=v,f=y}if(g===s.length)return n(o,f),c;if(null===f){for(;g<s.length;g++)(f=h(o,s[g],u))&&(a=i(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(o,f);g<s.length;g++)(y=p(f,o,g,s[g],u))&&(t&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=i(y,a,g),null===l?c=y:l.sibling=y,l=y);return t&&f.forEach(function(t){return e(o,t)}),c}function y(o,s,u,c){var l=ae(u);"function"!==typeof l&&a("150"),null==(u=l.call(u))&&a("151");for(var f=l=null,g=s,y=s=0,v=null,m=u.next();null!==g&&!m.done;y++,m=u.next()){g.index>y?(v=g,g=null):v=g.sibling;var _=d(o,g,m.value,c);if(null===_){g||(g=v);break}t&&g&&null===_.alternate&&e(o,g),s=i(_,s,y),null===f?l=_:f.sibling=_,f=_,g=v}if(m.done)return n(o,g),l;if(null===g){for(;!m.done;y++,m=u.next())null!==(m=h(o,m.value,c))&&(s=i(m,s,y),null===f?l=m:f.sibling=m,f=m);return l}for(g=r(o,g);!m.done;y++,m=u.next())null!==(m=p(g,o,y,m.value,c))&&(t&&null!==m.alternate&&g.delete(null===m.key?y:m.key),s=i(m,s,y),null===f?l=m:f.sibling=m,f=m);return t&&g.forEach(function(t){return e(o,t)}),l}return function(t,r,i,u){var c="object"===typeof i&&null!==i&&i.type===Jt&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case Vt:t:{for(l=i.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?i.type===Jt:c.elementType===i.type){n(t,c.sibling),(r=o(c,i.type===Jt?i.props.children:i.props)).ref=zo(t,c,i),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}i.type===Jt?((r=Wr(i.props.children,t.mode,u,i.key)).return=t,t=r):((u=Hr(i.type,i.key,i.props,null,t.mode,u)).ref=zo(t,r,i),u.return=t,t=u)}return s(t);case Yt:t:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=o(r,i.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Jr(i,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=o(r,i)).return=t,t=r):(n(t,r),(r=Yr(i,t.mode,u)).return=t,t=r),s(t);if(Uo(i))return g(t,r,i,u);if(ae(i))return y(t,r,i,u);if(l&&qo(t,i),"undefined"===typeof i&&!c)switch(t.tag){case 1:case 0:a("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var Ko=Qo(!0),Ho=Qo(!1),Wo=null,Vo=null,Yo=!1;function Jo(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Go(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function $o(t){if(Yo){var e=Vo;if(e){var n=e;if(!Go(t,e)){if(!(e=br(n))||!Go(t,e))return t.effectTag|=2,Yo=!1,void(Wo=t);Jo(Wo,n)}Wo=t,Vo=Ar(e)}else t.effectTag|=2,Yo=!1,Wo=t}}function Xo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Wo=t}function Zo(t){if(t!==Wo)return!1;if(!Yo)return Xo(t),Yo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!vr(e,t.memoizedProps))for(e=Vo;e;)Jo(t,e),e=br(e);return Xo(t),Vo=Wo?br(t.stateNode):null,!0}function ti(){Vo=Wo=null,Yo=!1}var ei=Kt.ReactCurrentOwner;function ni(t,e,n,r){e.child=null===t?Ho(e,null,n,r):Ko(e,t.child,n,r)}function ri(t,e,n,r,o){n=n.render;var i=e.ref;return bo(e),r=n(r,i),e.effectTag|=1,ni(t,e,r,o),e.child}function oi(t,e,n,r,o,i){if(null===t){var a=n.type;return"function"!==typeof a||Qr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Hr(n.type,null,r,null,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,ii(t,e,a,r,o,i))}return a=t.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:tn)(o,r)&&t.ref===e.ref)?hi(t,e,i):(e.effectTag|=1,(t=Kr(a,r)).ref=e.ref,t.return=e,e.child=t)}function ii(t,e,n,r,o,i){return null!==t&&o<i&&tn(t.memoizedProps,r)&&t.ref===e.ref?hi(t,e,i):si(t,e,n,r,i)}function ai(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function si(t,e,n,r,o){var i=Br(n)?Or:Ir.current;return i=Tr(e,i),bo(e),n=n(r,i),e.effectTag|=1,ni(t,e,n,o),e.child}function ui(t,e,n,r,o){if(Br(n)){var i=!0;Lr(e)}else i=!1;if(bo(e),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Ro(e,n,r),Fo(e,n,r,o),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=jo.currentDispatcher.readContext(c):c=Tr(e,c=Br(n)?Or:Ir.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Po(e,a,r,c),to=!1;var h=e.memoizedState;u=a.state=h;var d=e.updateQueue;null!==d&&(co(e,d,r,a,o),u=e.memoizedState),s!==r||h!==u||Cr.current||to?("function"===typeof l&&(No(e,n,l,r),u=e.memoizedState),(s=to||Lo(e,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:Bo(e.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=jo.currentDispatcher.readContext(c):c=Tr(e,c=Br(n)?Or:Ir.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Po(e,a,r,c),to=!1,u=e.memoizedState,h=a.state=u,null!==(d=e.updateQueue)&&(co(e,d,r,a,o),h=e.memoizedState),s!==r||u!==h||Cr.current||to?("function"===typeof l&&(No(e,n,l,r),h=e.memoizedState),(l=to||Lo(e,n,s,r,u,h,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return ci(t,e,n,r,i,o)}function ci(t,e,n,r,o,i){ai(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return o&&Rr(e,n,!1),hi(t,e,i);r=e.stateNode,ei.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,s,i)):ni(t,e,s,i),e.memoizedState=r.state,o&&Rr(e,n,!0),e.child}function li(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),Io(t,e.containerInfo)}function fi(t,e,n){var r=e.mode,o=e.pendingProps,i=e.memoizedState;if(0===(64&e.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=o.fallback;t=Wr(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=Wr(s,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=Ho(e,null,o.children,n);else null!==t.memoizedState?(s=(r=t.child).sibling,a?(n=o.fallback,o=Kr(r,r.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(o.child=a)),r=o.sibling=Kr(s,n,s.expirationTime),n=o,o.childExpirationTime=0,n.return=r.return=e):n=r=Ko(e,r.child,o.children,n)):(s=t.child,a?(a=o.fallback,(o=Wr(null,r,0,null)).child=s,0===(1&e.mode)&&(o.child=null!==e.memoizedState?e.child.child:e.child),(r=o.sibling=Wr(a,r,n,null)).effectTag|=2,n=o,o.childExpirationTime=0,n.return=r.return=e):r=n=Ko(e,s,o.children,n)),e.stateNode=t.stateNode;return e.memoizedState=i,e.child=n,r}function hi(t,e,n){if(null!==t&&(e.firstContextDependency=t.firstContextDependency),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&a("153"),null!==e.child){for(n=Kr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Kr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function di(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!Cr.current&&r<n){switch(e.tag){case 3:li(e),ti();break;case 5:Oo(e);break;case 1:Br(e.type)&&Lr(e);break;case 4:Io(e,e.stateNode.containerInfo);break;case 10:mo(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?fi(t,e,n):null!==(e=hi(t,e,n))?e.sibling:null}return hi(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var o=Tr(e,Ir.current);if(bo(e),o=r(t,o),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,Br(r)){var i=!0;Lr(e)}else i=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&No(e,r,s,t),o.updater=Do,e.stateNode=o,o._reactInternalFiber=e,Fo(e,r,t,n),e=ci(null,e,r,!0,i,n)}else e.tag=0,ni(null,e,o,n),e=e.child;return e;case 16:switch(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),i=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e,e}}(o),e.type=t,o=e.tag=function(t){if("function"===typeof t)return Qr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ee)return 11;if(t===re)return 14}return 2}(t),i=Bo(t,i),s=void 0,o){case 0:s=si(null,e,t,i,n);break;case 1:s=ui(null,e,t,i,n);break;case 11:s=ri(null,e,t,i,n);break;case 14:s=oi(null,e,t,Bo(t.type,i),r,n);break;default:a("306",t,"")}return s;case 0:return r=e.type,o=e.pendingProps,si(t,e,r,o=e.elementType===r?o:Bo(r,o),n);case 1:return r=e.type,o=e.pendingProps,ui(t,e,r,o=e.elementType===r?o:Bo(r,o),n);case 3:return li(e),null===(r=e.updateQueue)&&a("282"),o=null!==(o=e.memoizedState)?o.element:null,co(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===o?(ti(),e=hi(t,e,n)):(o=e.stateNode,(o=(null===t||null===t.child)&&o.hydrate)&&(Vo=Ar(e.stateNode.containerInfo),Wo=e,o=Yo=!0),o?(e.effectTag|=2,e.child=Ho(e,null,r,n)):(ni(t,e,r,n),ti()),e=e.child),e;case 5:return Oo(e),null===t&&$o(e),r=e.type,o=e.pendingProps,i=null!==t?t.memoizedProps:null,s=o.children,vr(r,o)?s=null:null!==i&&vr(r,i)&&(e.effectTag|=16),ai(t,e),1!==n&&1&e.mode&&o.hidden?(e.expirationTime=1,e=null):(ni(t,e,s,n),e=e.child),e;case 6:return null===t&&$o(e),null;case 13:return fi(t,e,n);case 4:return Io(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ko(e,null,r,n):ni(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,ri(t,e,r,o=e.elementType===r?o:Bo(r,o),n);case 7:return ni(t,e,e.pendingProps,n),e.child;case 8:case 12:return ni(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,mo(e,i=o.value),null!==s){var u=s.value;if(0===(i=u===i&&(0!==u||1/u===1/i)||u!==u&&i!==i?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===o.children&&!Cr.current){e=hi(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&i)){if(1===s.tag){var c=ro(n);c.tag=2,io(s,c)}s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n);for(var l=s.return;null!==l;){if(c=l.alternate,l.childExpirationTime<n)l.childExpirationTime=n,null!==c&&c.childExpirationTime<n&&(c.childExpirationTime=n);else{if(!(null!==c&&c.childExpirationTime<n))break;c.childExpirationTime=n}l=l.return}}c=s.child,u=u.next}while(null!==u);else c=10===s.tag&&s.type===e.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===e){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}ni(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=(i=e.pendingProps).children,bo(e),r=r(o=Ao(o,i.unstable_observedBits)),e.effectTag|=1,ni(t,e,r,n),e.child;case 14:return i=Bo(o=e.type,e.pendingProps),oi(t,e,o,i=Bo(o.type,i),r,n);case 15:return ii(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Bo(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Br(r)?(t=!0,Lr(e)):t=!1,bo(e),Ro(e,r,o),Fo(e,r,o,n),ci(null,e,r,!0,t,n);default:a("156")}}function pi(t){t.effectTag|=4}var gi=void 0,yi=void 0,vi=void 0,mi=void 0;gi=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},yi=function(){},vi=function(t,e,n,r,i){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(xo(ko.current),t=null,n){case"input":a=_e(s,a),r=_e(s,r),t=[];break;case"option":a=Wn(s,a),r=Wn(s,r),t=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),t=[];break;case"textarea":a=Yn(s,a),r=Yn(s,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=dr)}lr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(t||(t=[]),t.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(n,""+l)):"children"===n?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=l&&hr(i,n),t||c===l||(t=[])):(t=t||[]).push(n,l))}u&&(t=t||[]).push("style",u),i=t,(e.updateQueue=i)&&pi(e)}},mi=function(t,e,n,r){n!==r&&pi(e)};var _i="function"===typeof WeakSet?WeakSet:Set;function bi(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ue(n)),null!==n&&se(n.type),e=e.value,null!==t&&1===t.tag&&se(t.type);try{console.error(e)}catch(o){setTimeout(function(){throw o})}}function Ai(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){$i(t,n)}else e.current=null}function wi(t){switch("function"===typeof Fr&&Fr(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(null!==r){var o=t;try{r()}catch(i){$i(o,i)}}n=n.next}while(n!==e)}break;case 1:if(Ai(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){$i(t,i)}break;case 5:Ai(t);break;case 4:Si(t)}}function ki(t){return 5===t.tag||3===t.tag||4===t.tag}function Ei(t){t:{for(var e=t.return;null!==e;){if(ki(e)){var n=e;break t}e=e.return}a("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ki(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=e,s=o.stateNode,u=n;8===i.nodeType?i.parentNode.insertBefore(s,u):i.insertBefore(s,u)}else e.insertBefore(o.stateNode,n);else r?(s=e,u=o.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(u,s):(i=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==i.onclick||(i.onclick=dr)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Si(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var i=e,s=i;;)if(wi(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=r,s=e.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,o=!0):wi(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function xi(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var o=e.type,i=e.updateQueue;e.updateQueue=null,null!==i&&function(t,e,n,r,o){t[N]=o,"input"===n&&"radio"===o.type&&null!=o.name&&Ae(t,o),fr(n,r),r=fr(n,o);for(var i=0;i<e.length;i+=2){var a=e[i],s=e[i+1];"style"===a?ur(t,s):"dangerouslySetInnerHTML"===a?rr(t,s):"children"===a?or(t,s):ve(t,a,s,r)}switch(n){case"input":we(t,o);break;case"textarea":Gn(t,o);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Vn(t,!!o.multiple,n,!1):e!==!!o.multiple&&(null!=o.defaultValue?Vn(t,!!o.multiple,o.defaultValue,!0):Vn(t,!!o.multiple,o.multiple?[]:"",!1))}}(n,i,o,t,r)}break;case 6:null===e.stateNode&&a("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=xa())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=sr("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new _i),n.forEach(function(t){var n=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=Xi(e=xa(),t),null!==(t=ta(t,e))&&(Gr(t,e),0!==(e=t.expirationTime)&&Ia(t,e))}.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}break;case 17:break;default:a("163")}}var Ii="function"===typeof WeakMap?WeakMap:Map;function Ci(t,e,n){(n=ro(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){La(r),bi(t,e)},n}function Oi(t,e,n){(n=ro(n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var o=e.value;n.payload=function(){return r(o)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Hi?Hi=new Set([this]):Hi.add(this));var n=e.value,o=e.stack;bi(t,e),this.componentDidCatch(n,{componentStack:null!==o?o:""})}),n}function Ti(t){switch(t.tag){case 1:Br(t.type)&&jr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return Co(),Mr(),0!==(64&(e=t.effectTag))&&a("285"),t.effectTag=-2049&e|64,t;case 5:return To(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 4:return Co(),null;case 10:return _o(t),null;default:return null}}var Bi={readContext:Ao},ji=Kt.ReactCurrentOwner,Mi=1073741822,Ni=0,Di=!1,Li=null,Ri=null,Pi=0,Fi=-1,Ui=!1,zi=null,qi=!1,Qi=null,Ki=null,Hi=null;function Wi(){if(null!==Li)for(var t=Li.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&jr();break;case 3:Co(),Mr();break;case 5:To(e);break;case 4:Co();break;case 10:_o(e)}t=t.return}Ri=null,Pi=0,Fi=-1,Ui=!1,Li=null}function Vi(){null!==Ki&&(i.unstable_cancelCallback(Qi),Ki())}function Yi(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){Li=t;t:{var i=e,s=Pi,u=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Br(e.type)&&jr();break;case 3:Co(),Mr(),(u=e.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==i&&null!==i.child||(Zo(e),e.effectTag&=-3),yi(e);break;case 5:To(e);var c=xo(So.current);if(s=e.type,null!==i&&null!=e.stateNode)vi(i,e,s,u,c),i.ref!==e.ref&&(e.effectTag|=128);else if(u){var l=xo(ko.current);if(Zo(e)){i=(u=e).stateNode;var f=u.type,h=u.memoizedProps,d=c;switch(i[M]=u,i[N]=h,s=void 0,c=f){case"iframe":case"object":Sn("load",i);break;case"video":case"audio":for(f=0;f<et.length;f++)Sn(et[f],i);break;case"source":Sn("error",i);break;case"img":case"image":case"link":Sn("error",i),Sn("load",i);break;case"form":Sn("reset",i),Sn("submit",i);break;case"details":Sn("toggle",i);break;case"input":be(i,h),Sn("invalid",i),hr(d,"onChange");break;case"select":i._wrapperState={wasMultiple:!!h.multiple},Sn("invalid",i),hr(d,"onChange");break;case"textarea":Jn(i,h),Sn("invalid",i),hr(d,"onChange")}for(s in lr(c,h),f=null,h)h.hasOwnProperty(s)&&(l=h[s],"children"===s?"string"===typeof l?i.textContent!==l&&(f=["children",l]):"number"===typeof l&&i.textContent!==""+l&&(f=["children",""+l]):_.hasOwnProperty(s)&&null!=l&&hr(d,s));switch(c){case"input":qt(i),ke(i,h,!0);break;case"textarea":qt(i),$n(i);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(i.onclick=dr)}s=f,u.updateQueue=s,(u=null!==s)&&pi(e)}else{h=e,i=s,d=u,f=9===c.nodeType?c:c.ownerDocument,l===Xn.html&&(l=Zn(i)),l===Xn.html?"script"===i?((i=f.createElement("div")).innerHTML="<script><\/script>",f=i.removeChild(i.firstChild)):"string"===typeof d.is?f=f.createElement(i,{is:d.is}):(f=f.createElement(i),"select"===i&&d.multiple&&(f.multiple=!0)):f=f.createElementNS(l,i),(i=f)[M]=h,i[N]=u,gi(i,e,!1,!1),d=i;var p=c,g=fr(f=s,h=u);switch(f){case"iframe":case"object":Sn("load",d),c=h;break;case"video":case"audio":for(c=0;c<et.length;c++)Sn(et[c],d);c=h;break;case"source":Sn("error",d),c=h;break;case"img":case"image":case"link":Sn("error",d),Sn("load",d),c=h;break;case"form":Sn("reset",d),Sn("submit",d),c=h;break;case"details":Sn("toggle",d),c=h;break;case"input":be(d,h),c=_e(d,h),Sn("invalid",d),hr(p,"onChange");break;case"option":c=Wn(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},c=o({},h,{value:void 0}),Sn("invalid",d),hr(p,"onChange");break;case"textarea":Jn(d,h),c=Yn(d,h),Sn("invalid",d),hr(p,"onChange");break;default:c=h}lr(f,c),l=void 0;var y=f,v=d,m=c;for(l in m)if(m.hasOwnProperty(l)){var b=m[l];"style"===l?ur(v,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&rr(v,b):"children"===l?"string"===typeof b?("textarea"!==y||""!==b)&&or(v,b):"number"===typeof b&&or(v,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(_.hasOwnProperty(l)?null!=b&&hr(p,l):null!=b&&ve(v,l,b,g))}switch(f){case"input":qt(d),ke(d,h,!1);break;case"textarea":qt(d),$n(d);break;case"option":null!=h.value&&d.setAttribute("value",""+me(h.value));break;case"select":(c=d).multiple=!!h.multiple,null!=(d=h.value)?Vn(c,!!h.multiple,d,!1):null!=h.defaultValue&&Vn(c,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof c.onClick&&(d.onclick=dr)}(u=yr(s,u))&&pi(e),e.stateNode=i}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&a("166");break;case 6:i&&null!=e.stateNode?mi(i,e,i.memoizedProps,u):("string"!==typeof u&&(null===e.stateNode&&a("166")),i=xo(So.current),xo(ko.current),Zo(e)?(s=(u=e).stateNode,i=u.memoizedProps,s[M]=u,(u=s.nodeValue!==i)&&pi(e)):(s=e,(u=(9===i.nodeType?i:i.ownerDocument).createTextNode(u))[M]=e,s.stateNode=u));break;case 11:break;case 13:if(u=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=s,Li=e;break t}u=null!==u,s=null!==i&&null!==i.memoizedState,null!==i&&!u&&s&&(null!==(i=i.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=i,i.nextEffect=c):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(u!==s||0===(1&e.effectTag)&&u)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Co(),yi(e);break;case 10:_o(e);break;case 9:case 14:break;case 17:Br(e.type)&&jr();break;default:a("156")}Li=null}if(e=t,1===Pi||1!==e.childExpirationTime){for(u=0,s=e.child;null!==s;)(i=s.expirationTime)>u&&(u=i),(c=s.childExpirationTime)>u&&(u=c),s=s.sibling;e.childExpirationTime=u}if(null!==Li)return Li;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Ti(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function Ji(t){var e=di(t.alternate,t,Pi);return t.memoizedProps=t.pendingProps,null===e&&(e=Yi(t)),ji.current=null,e}function Gi(t,e){Di&&a("243"),Vi(),Di=!0,ji.currentDispatcher=Bi;var n=t.nextExpirationTimeToWorkOn;n===Pi&&t===Ri&&null!==Li||(Wi(),Pi=n,Li=Kr((Ri=t).current,null),t.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(e)for(;null!==Li&&!Ta();)Li=Ji(Li);else for(;null!==Li;)Li=Ji(Li)}catch(g){if(vo=yo=go=null,null===Li)r=!0,La(g);else{null===Li&&a("271");var o=Li,i=o.return;if(null!==i){t:{var s=t,u=i,c=o,l=g;if(i=Pi,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var f=l;l=u;var h=-1,d=-1;do{if(13===l.tag){var p=l.alternate;if(null!==p&&null!==(p=p.memoizedState)){d=10*(1073741822-p.timedOutAt);break}"number"===typeof(p=l.pendingProps.maxDuration)&&(0>=p?h=0:(-1===h||p<h)&&(h=p))}l=l.return}while(null!==l);l=u;do{if((p=13===l.tag)&&(p=void 0!==l.memoizedProps.fallback&&null===l.memoizedState),p){if(null===(u=l.updateQueue)?l.updateQueue=new Set([f]):u.add(f),0===(1&l.mode)){l.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((i=ro(1073741823)).tag=2,io(c,i))),c.expirationTime=1073741823;break t}null===(c=s.pingCache)?(c=s.pingCache=new Ii,u=new Set,c.set(f,u)):void 0===(u=c.get(f))&&(u=new Set,c.set(f,u)),u.has(i)||(u.add(i),c=Zi.bind(null,s,f,i),f.then(c,c)),-1===h?s=1073741823:(-1===d&&(d=10*(1073741822-Xr(s,i))-5e3),s=d+h),0<=s&&Fi<s&&(Fi=s),l.effectTag|=2048,l.expirationTime=i;break t}l=l.return}while(null!==l);l=Error((se(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ue(c))}Ui=!0,l=ho(l,c),s=u;do{switch(s.tag){case 3:s.effectTag|=2048,s.expirationTime=i,ao(s,i=Ci(s,l,i));break t;case 1:if(f=l,h=s.type,d=s.stateNode,0===(64&s.effectTag)&&("function"===typeof h.getDerivedStateFromError||null!==d&&"function"===typeof d.componentDidCatch&&(null===Hi||!Hi.has(d)))){s.effectTag|=2048,s.expirationTime=i,ao(s,i=Oi(s,f,i));break t}}s=s.return}while(null!==s)}Li=Yi(o);continue}r=!0,La(g)}}break}if(Di=!1,vo=yo=go=ji.currentDispatcher=null,r)Ri=null,t.finishedWork=null;else if(null!==Li)t.finishedWork=null;else{if(null===(r=t.current.alternate)&&a("281"),Ri=null,Ui){if(o=t.latestPendingTime,i=t.latestSuspendedTime,s=t.latestPingedTime,0!==o&&o<n||0!==i&&i<n||0!==s&&s<n)return $r(t,n),void Sa(t,r,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,void Sa(t,r,n,e,-1)}e&&-1!==Fi?($r(t,n),(e=10*(1073741822-Xr(t,n)))<Fi&&(Fi=e),e=10*(1073741822-xa()),e=Fi-e,Sa(t,r,n,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=r)}}function $i(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hi||!Hi.has(r)))return io(n,t=Oi(n,t=ho(e,t),1073741823)),void ea(n,1073741823);break;case 3:return io(n,t=Ci(n,t=ho(e,t),1073741823)),void ea(n,1073741823)}n=n.return}3===t.tag&&(io(t,n=Ci(t,n=ho(e,t),1073741823)),ea(t,1073741823))}function Xi(t,e){return 0!==Ni?t=Ni:Di?t=qi?1073741823:Pi:1&e.mode?(t=ga?1073741822-10*(1+((1073741822-t+15)/10|0)):1073741822-25*(1+((1073741822-t+500)/25|0)),null!==Ri&&t===Pi&&--t):t=1073741823,ga&&(0===la||t<la)&&(la=t),t}function Zi(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==Ri&&Pi===n?Ri=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),Zr(n,t),0!==(n=t.expirationTime)&&Ia(t,n)))}function ta(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,o=null;if(null===r&&3===t.tag)o=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return o}function ea(t,e){null!==(t=ta(t,e))&&(!Di&&0!==Pi&&e>Pi&&Wi(),Gr(t,e),Di&&!qi&&Ri===t||Ia(t,t.expirationTime),Aa>ba&&(Aa=0,a("185")))}function na(t,e,n,r,o){var i=Ni;Ni=1073741823;try{return t(e,n,r,o)}finally{Ni=i}}var ra=null,oa=null,ia=0,aa=void 0,sa=!1,ua=null,ca=0,la=0,fa=!1,ha=null,da=!1,pa=!1,ga=!1,ya=null,va=i.unstable_now(),ma=1073741822-(va/10|0),_a=ma,ba=50,Aa=0,wa=null;function ka(){ma=1073741822-((i.unstable_now()-va)/10|0)}function Ea(t,e){if(0!==ia){if(e<ia)return;null!==aa&&i.unstable_cancelCallback(aa)}ia=e,t=i.unstable_now()-va,aa=i.unstable_scheduleCallback(Ba,{timeout:10*(1073741822-e)-t})}function Sa(t,e,n,r,o){t.expirationTime=r,0!==o||Ta()?0<o&&(t.timeoutHandle=mr(function(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,ka(),_a=ma,Ma(t,n)}.bind(null,t,e,n),o)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function xa(){return sa?_a:(Ca(),0!==ca&&1!==ca||(ka(),_a=ma),_a)}function Ia(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===oa?(ra=oa=t,t.nextScheduledRoot=t):(oa=oa.nextScheduledRoot=t).nextScheduledRoot=ra):e>t.expirationTime&&(t.expirationTime=e),sa||(da?pa&&(ua=t,ca=1073741823,Na(t,1073741823,!1)):1073741823===e?ja(1073741823,!1):Ea(t,e))}function Ca(){var t=0,e=null;if(null!==oa)for(var n=oa,r=ra;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===oa)&&a("244"),r===r.nextScheduledRoot){ra=oa=r.nextScheduledRoot=null;break}if(r===ra)ra=o=r.nextScheduledRoot,oa.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===oa){(oa=n).nextScheduledRoot=ra,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>t&&(t=o,e=r),r===oa)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}ua=e,ca=t}var Oa=!1;function Ta(){return!!Oa||!!i.unstable_shouldYield()&&(Oa=!0)}function Ba(){try{if(!Ta()&&null!==ra){ka();var t=ra;do{var e=t.expirationTime;0!==e&&ma<=e&&(t.nextExpirationTimeToWorkOn=ma),t=t.nextScheduledRoot}while(t!==ra)}ja(0,!0)}finally{Oa=!1}}function ja(t,e){if(Ca(),e)for(ka(),_a=ma;null!==ua&&0!==ca&&t<=ca&&!(Oa&&ma>ca);)Na(ua,ca,ma>ca),Ca(),ka(),_a=ma;else for(;null!==ua&&0!==ca&&t<=ca;)Na(ua,ca,!1),Ca();if(e&&(ia=0,aa=null),0!==ca&&Ea(ua,ca),Aa=0,wa=null,null!==ya)for(t=ya,ya=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){fa||(fa=!0,ha=r)}}if(fa)throw t=ha,ha=null,fa=!1,t}function Ma(t,e){sa&&a("253"),ua=t,ca=e,Na(t,e,!1),ja(1073741823,!1)}function Na(t,e,n){if(sa&&a("245"),sa=!0,n){var r=t.finishedWork;null!==r?Da(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,_r(r)),Gi(t,n),null!==(r=t.finishedWork)&&(Ta()?t.finishedWork=r:Da(t,r,e)))}else null!==(r=t.finishedWork)?Da(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,_r(r)),Gi(t,n),null!==(r=t.finishedWork)&&Da(t,r,e));sa=!1}function Da(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ya?ya=[r]:ya.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===wa?Aa++:(wa=t,Aa=0),qi=Di=!0,t.current===e&&a("177"),0===(n=t.pendingCommitExpirationTime)&&a("261"),t.pendingCommitExpirationTime=0,r=e.expirationTime;var o=e.childExpirationTime;if(r=o>r?o:r,t.didError=!1,0===r?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(r<t.latestPingedTime&&(t.latestPingedTime=0),0!==(o=t.latestPendingTime)&&(o>r?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>r&&(t.earliestPendingTime=t.latestPendingTime)),0===(o=t.earliestSuspendedTime)?Gr(t,r):r<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Gr(t,r)):r>o&&Gr(t,r)),Zr(0,t),ji.current=null,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,pr=En,Rn(o=Ln())){if("selectionStart"in o)var i={start:o.selectionStart,end:o.selectionEnd};else t:{var s=(i=(i=o.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch(R){i=null;break t}var l=0,f=-1,h=-1,d=0,p=0,g=o,y=null;e:for(;;){for(var v;g!==i||0!==u&&3!==g.nodeType||(f=l+u),g!==c||0!==s&&3!==g.nodeType||(h=l+s),3===g.nodeType&&(l+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===o)break e;if(y===i&&++d===u&&(f=l),y===c&&++p===s&&(h=l),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}i=-1===f||-1===h?null:{start:f,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(gr={focusedElem:o,selectionRange:i},En=!1,zi=r;null!==zi;){o=!1,i=void 0;try{for(;null!==zi;){if(256&zi.effectTag)t:{var m=zi.alternate;switch((u=zi).tag){case 0:case 11:case 15:break t;case 1:if(256&u.effectTag&&null!==m){var _=m.memoizedProps,b=m.memoizedState,A=u.stateNode,w=A.getSnapshotBeforeUpdate(u.elementType===u.type?_:Bo(u.type,_),b);A.__reactInternalSnapshotBeforeUpdate=w}break t;case 3:case 5:case 6:case 4:case 17:break t;default:a("163")}}zi=zi.nextEffect}}catch(R){o=!0,i=R}o&&(null===zi&&a("178"),$i(zi,i),null!==zi&&(zi=zi.nextEffect))}for(zi=r;null!==zi;){m=!1,_=void 0;try{for(;null!==zi;){var k=zi.effectTag;if(16&k&&or(zi.stateNode,""),128&k){var E=zi.alternate;if(null!==E){var S=E.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(14&k){case 2:Ei(zi),zi.effectTag&=-3;break;case 6:Ei(zi),zi.effectTag&=-3,xi(zi.alternate,zi);break;case 4:xi(zi.alternate,zi);break;case 8:Si(b=zi),b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null;var x=b.alternate;null!==x&&(x.return=null,x.child=null,x.memoizedState=null,x.updateQueue=null)}zi=zi.nextEffect}}catch(R){m=!0,_=R}m&&(null===zi&&a("178"),$i(zi,_),null!==zi&&(zi=zi.nextEffect))}if(S=gr,E=Ln(),k=S.focusedElem,m=S.selectionRange,E!==k&&k&&k.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(k.ownerDocument.documentElement,k)){null!==m&&Rn(k)&&(E=m.start,void 0===(S=m.end)&&(S=E),"selectionStart"in k?(k.selectionStart=E,k.selectionEnd=Math.min(S,k.value.length)):(S=(E=k.ownerDocument||document)&&E.defaultView||window).getSelection&&(S=S.getSelection(),_=k.textContent.length,x=Math.min(m.start,_),m=void 0===m.end?x:Math.min(m.end,_),!S.extend&&x>m&&(_=m,m=x,x=_),_=Dn(k,x),b=Dn(k,m),_&&b&&(1!==S.rangeCount||S.anchorNode!==_.node||S.anchorOffset!==_.offset||S.focusNode!==b.node||S.focusOffset!==b.offset)&&((E=E.createRange()).setStart(_.node,_.offset),S.removeAllRanges(),x>m?(S.addRange(E),S.extend(b.node,b.offset)):(E.setEnd(b.node,b.offset),S.addRange(E))))),E=[];for(S=k;S=S.parentNode;)1===S.nodeType&&E.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<E.length;k++)(S=E[k]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(gr=null,En=!!pr,pr=null,t.current=e,zi=r;null!==zi;){r=!1,k=void 0;try{for(E=n;null!==zi;){var I=zi.effectTag;if(36&I){var C=zi.alternate;switch(x=E,(S=zi).tag){case 0:case 11:case 15:break;case 1:var O=S.stateNode;if(4&S.effectTag)if(null===C)O.componentDidMount();else{var T=S.elementType===S.type?C.memoizedProps:Bo(S.type,C.memoizedProps);O.componentDidUpdate(T,C.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var B=S.updateQueue;null!==B&&lo(0,B,O);break;case 3:var j=S.updateQueue;if(null!==j){if(m=null,null!==S.child)switch(S.child.tag){case 5:m=S.child.stateNode;break;case 1:m=S.child.stateNode}lo(0,j,m)}break;case 5:var M=S.stateNode;null===C&&4&S.effectTag&&yr(S.type,S.memoizedProps)&&M.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}if(128&I){var N=zi.ref;if(null!==N){var D=zi.stateNode;switch(zi.tag){case 5:var L=D;break;default:L=D}"function"===typeof N?N(L):N.current=L}}zi=zi.nextEffect}}catch(R){r=!0,k=R}r&&(null===zi&&a("178"),$i(zi,k),null!==zi&&(zi=zi.nextEffect))}Di=qi=!1,"function"===typeof Pr&&Pr(e.stateNode),I=e.expirationTime,0===(e=(e=e.childExpirationTime)>I?e:I)&&(Hi=null),t.expirationTime=e,t.finishedWork=null}function La(t){null===ua&&a("246"),ua.expirationTime=0,fa||(fa=!0,ha=t)}function Ra(t,e){var n=da;da=!0;try{return t(e)}finally{(da=n)||sa||ja(1073741823,!1)}}function Pa(t,e){if(da&&!pa){pa=!0;try{return t(e)}finally{pa=!1}}return t(e)}function Fa(t,e,n){if(ga)return t(e,n);da||sa||0===la||(ja(la,!1),la=0);var r=ga,o=da;da=ga=!0;try{return t(e,n)}finally{ga=r,(da=o)||sa||ja(1073741823,!1)}}function Ua(t,e,n,r,o){var i=e.current;t:if(n){e:{2===en(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Br(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Br(u)){n=Dr(n,u,s);break t}}n=s}else n=xr;return null===e.context?e.context=n:e.pendingContext=n,e=o,(o=ro(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(o.callback=e),Vi(),io(i,o),ea(i,r),r}function za(t,e,n,r){var o=e.current;return Ua(t,e,n,o=Xi(xa(),o),r)}function qa(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Qa(t){var e=1073741822-25*(1+((1073741822-xa()+500)/25|0));e>=Mi&&(e=Mi-1),this._expirationTime=Mi=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ka(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ha(t,e,n){t={current:e=qr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Wa(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Va(t,e,n,r,o){Wa(n)||a("200");var i=n._reactRootContainer;if(i){if("function"===typeof o){var s=o;o=function(){var t=qa(i._internalRoot);s.call(t)}}null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ha(t,!1,e)}(n,r),"function"===typeof o){var u=o;o=function(){var t=qa(i._internalRoot);u.call(t)}}Pa(function(){null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)})}return qa(i._internalRoot)}function Ya(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wa(e)||a("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}xt=function(t,e,n){switch(e){case"input":if(we(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=P(r);o||a("90"),Qt(r),we(r,o)}}}break;case"textarea":Gn(t,n);break;case"select":null!=(e=n.value)&&Vn(t,!!n.multiple,e,!1)}},Qa.prototype.render=function(t){this._defer||a("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Ka;return Ua(t,e,null,n,r._onCommit),r},Qa.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Qa.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||a("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&a("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,Ma(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Qa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Ka.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ka.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&a("191",n),n()}}},Ha.prototype.render=function(t,e){var n=this._internalRoot,r=new Ka;return null!==(e=void 0===e?null:e)&&r.then(e),za(t,n,null,r._onCommit),r},Ha.prototype.unmount=function(t){var e=this._internalRoot,n=new Ka;return null!==(t=void 0===t?null:t)&&n.then(t),za(null,e,null,n._onCommit),n},Ha.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,o=new Ka;return null!==(n=void 0===n?null:n)&&o.then(n),za(e,r,t,o._onCommit),o},Ha.prototype.createBatch=function(){var t=new Qa(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},jt=Ra,Mt=Fa,Nt=function(){sa||0===la||(ja(la,!1),la=0)};var Ja={createPortal:Ya,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?a("188"):a("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return Va(null,t,e,!0,n)},render:function(t,e,n){return Va(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&a("38"),Va(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Wa(t)||a("40"),!!t._reactRootContainer&&(Pa(function(){Va(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ya.apply(void 0,arguments)},unstable_batchedUpdates:Ra,unstable_interactiveUpdates:Fa,flushSync:function(t,e){sa&&a("187");var n=da;da=!0;try{return na(t,e)}finally{da=n,ja(1073741823,!1)}},unstable_createRoot:function(t,e){return Wa(t)||a("299","unstable_createRoot"),new Ha(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=da;da=!0;try{na(t)}finally{(da=e)||sa||ja(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,R,P,O.injectEventPluginsByName,m,K,function(t){x(t,Q)},Tt,Bt,Cn,B]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Pr=Ur(function(t){return e.onCommitFiberRoot(n,t)}),Fr=Ur(function(t){return e.onCommitFiberUnmount(n,t)})}catch(r){}})(o({},t,{overrideProps:null,findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var Ga={default:Ja},$a=Ga&&Ja||Ga;t.exports=$a.default||$a},function(t,e,n){"use strict";t.exports=n(155)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,o=3,i=-1,a=-1,s=!1,u=!1;function c(){if(!s){var t=n.expirationTime;u?k():u=!0,w(h,t)}}function l(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var i=o,s=a;o=t,a=e;try{var u=r()}finally{o=i,a=s}if("function"===typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=u,c()),(e=r.previous).next=r.previous=u,u.next=r,u.previous=e}}function f(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function h(t){s=!0;var o=r;r=t;try{if(t)for(;null!==n;){var i=e.unstable_now();if(!(n.expirationTime<=i))break;do{l()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{l()}while(null!==n&&!E())}finally{s=!1,r=o,null!==n?c():u=!1,f()}}var d,p,g=Date,y="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,m="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,_="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(t){d=m(function(e){v(p),t(e)}),p=y(function(){_(d),t(e.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var A=performance;e.unstable_now=function(){return A.now()}}else e.unstable_now=function(){return g.now()};var w,k,E,S=null;if("undefined"!==typeof window?S=window:"undefined"!==typeof t&&(S=t),S&&S._schedMock){var x=S._schedMock;w=x[0],k=x[1],E=x[2],e.unstable_now=x[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var I=null,C=function(t){if(null!==I)try{I(t)}finally{I=null}};w=function(t){null!==I?setTimeout(w,0,t):(I=t,setTimeout(C,0,!1))},k=function(){I=null},E=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var O=null,T=!1,B=-1,j=!1,M=!1,N=0,D=33,L=33;E=function(){return N<=e.unstable_now()};var R=new MessageChannel,P=R.port2;R.port1.onmessage=function(){T=!1;var t=O,n=B;O=null,B=-1;var r=e.unstable_now(),o=!1;if(0>=N-r){if(!(-1!==n&&n<=r))return j||(j=!0,b(F)),O=t,void(B=n);o=!0}if(null!==t){M=!0;try{t(o)}finally{M=!1}}};var F=function t(e){if(null!==O){b(t);var n=e-N+L;n<L&&D<L?(8>n&&(n=8),L=n<D?D:n):D=n,N=e+L,T||(T=!0,P.postMessage(void 0))}else j=!1};w=function(t,e){O=t,B=e,M||0>e?P.postMessage(void 0):j||(j=!0,b(F))},k=function(){O=null,T=!1,B=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=o,a=i;o=t,i=e.unstable_now();try{return n()}finally{o=r,i=a,f()}},e.unstable_scheduleCallback=function(t,r){var a=-1!==i?i:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(o){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(t={callback:t,priorityLevel:o,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,c();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=t,c()),(r=a.previous).next=a.previous=t,t.next=a,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=o;return function(){var r=o,a=i;o=n,i=e.unstable_now();try{return t.apply(this,arguments)}finally{o=r,i=a,f()}}},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())},e.unstable_continueExecution=function(){null!==n&&c()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(13))},,,function(t,e,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(159),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"===typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",g={},y={};y[a]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(B([])));m&&m!==r&&o.call(m,a)&&(y=m);var _=E.prototype=w.prototype=Object.create(y);k.prototype=_.constructor=E,E.constructor=k,E[u]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(_),t},l.awrap=function(t){return{__await:t}},S(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,r){var o=new x(b(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=B,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return s.type="throw",s.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:B(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function b(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),a=new T(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return j()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=A(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function A(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function k(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,a){var s=A(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function I(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=A(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,g;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function B(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),a=p(i),s=p(n(37)),u=p(n(2)),c=p(n(163)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(91)),f=n(63),h=p(f),d=n(168);function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var y=e.portalClassName="ReactModalPortal",v=e.bodyOpenClassName="ReactModal__Body--open",m=void 0!==s.default.createPortal,_=function(){return m?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function b(t){return t()}var A=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=g(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.removePortal=function(){!m&&s.default.unmountComponentAtNode(o.node),b(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(t){o.portal=t},o.renderPortal=function(t){var n=_()(o,a.default.createElement(c.default,r({defaultStyles:e.defaultStyles},t)),o.node);o.portalRef(n)},g(o,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"componentDidMount",value:function(){f.canUseDOM&&(m||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,b(this.props.parentSelector).appendChild(this.node),!m&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:b(t.parentSelector),nextParent:b(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;t.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||o)&&!m&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&m?(!this.node&&m&&(this.node=document.createElement("div")),_()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){l.setElement(t)}}]),e}();A.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(h.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},A.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},A.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(A),e.default=A},function(t,e,n){"use strict";var r=n(162);function o(){}t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),s=g(a),u=g(n(2)),c=p(n(164)),l=g(n(165)),f=p(n(91)),h=p(n(167)),d=g(n(63));function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=9,m=27,_=0,b=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,r=t.ariaHideApp,o=t.htmlOpenClassName,i=t.bodyOpenClassName;i&&h.remove(document.body,i),o&&h.remove(document.getElementsByTagName("html")[0],o),r&&_>0&&0===(_-=1)&&f.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){t.keyCode===v&&(0,l.default)(n.content,t),n.props.shouldCloseOnEsc&&t.keyCode===m&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var r="object"===("undefined"===typeof e?"undefined":o(e))?e:{base:y[t],afterOpen:y[t]+"--after-open",beforeClose:y[t]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"===typeof e&&e?i+" "+e:i},n.attributesFromObject=function(t,e){return Object.keys(e).reduce(function(n,r){return n[t+"-"+r]=e[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,r=t.htmlOpenClassName,o=t.bodyOpenClassName;o&&h.add(document.body,o),r&&h.add(document.getElementsByTagName("html")[0],r),n&&(_+=1,f.hide(e))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.overlayClassName,o=t.defaultStyles,i=e?{}:o.content,a=n?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:r({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",e),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),e}();b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,testId:u.default.string},e.default=b,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleBlur=c,e.handleFocus=l,e.markForFocusLater=function(){a.push(document.activeElement)},e.returnFocus=function(){var t=null;try{return void(0!==a.length&&(t=a.pop()).focus())}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},e.popWithoutFocus=function(){a.length>0&&a.pop()},e.setupScopedFocus=function(t){s=t,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},e.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,o=n(90),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()},0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t);if(!n.length)return void e.preventDefault();var r,o=e.shiftKey,a=n[0],s=n[n.length-1];if(t===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=a);a===document.activeElement&&o&&(r=s);if(r)return e.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=o?-1:1);if("undefined"===typeof n[c])return e.preventDefault(),void(r=o?s:a).focus();e.preventDefault(),n[c].focus()};var r,o=n(90),i=(r=o)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){var r;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dumpClassLists=function(){0};var r={},o={};e.add=function(t,e){return n=t.classList,i="html"==t.nodeName.toLowerCase()?r:o,void e.split(" ").forEach(function(t){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(i,t),n.add(t)});var n,i},e.remove=function(t,e){return n=t.classList,i="html"==t.nodeName.toLowerCase()?r:o,void e.split(" ").forEach(function(t){!function(t,e){t[e]&&(t[e]-=1)}(i,t),0===i[t]&&n.remove(t)});var n,i}},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[u++]=255&e);1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=t[e+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*g}},function(t,e,n){(function(e){var r=n(15),o=n(8),i=g(new Error("Not readable")),a=g(new Error("Not writable")),s=g(new Error("Not deletable")),u=g(new Error("Not statable")),c=g(new Error("No readonly open"));function l(t){if(!(this instanceof l))return new l(t);r.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,t&&(t.openReadonly&&(this._openReadonly=t.openReadonly),t.open&&(this._open=t.open),t.read&&(this._read=t.read),t.write&&(this._write=t.write),t.del&&(this._del=t.del),t.stat&&(this._stat=t.stat),t.close&&(this._close=t.close),t.destroy&&(this._destroy=t.destroy)),this.preferReadonly=this._openReadonly!==c,this.readable=this._read!==i,this.writable=this._write!==a,this.deletable=this._del!==s,this.statable=this._stat!==u}function f(){}function h(t,e,n,r,o,i){this.type=e,this.offset=n,this.data=o,this.size=r,this.storage=t,this._sync=!1,this._callback=i,this._openError=null}function d(t,e){t._queued.push(e),t._pending||e._run()}function p(t){t.preferReadonly&&(t._needsOpen=!0,t.preferReadonly=!1)}function g(t){return function(e){y(e,t)}}function y(t,n,r){e.nextTick(v,t,n,r)}function v(t,e,n){t.callback(e,n)}t.exports=l,o(l,r.EventEmitter),l.prototype.open=function(t){if(t||(t=f),this.opened&&!this._needsOpen)return e.nextTick(t,null);d(this,new h(this,0,0,0,null,t))},l.prototype._open=g(null),l.prototype._openReadonly=c,l.prototype.read=function(t,e,n){this.run(new h(this,1,t,e,null,n))},l.prototype._read=i,l.prototype.write=function(t,e,n){n||(n=f),p(this),this.run(new h(this,2,t,e.length,e,n))},l.prototype._write=a,l.prototype.del=function(t,e,n){n||(n=f),p(this),this.run(new h(this,3,t,e,null,n))},l.prototype._del=s,l.prototype.stat=function(t){this.run(new h(this,4,0,0,null,t))},l.prototype._stat=u,l.prototype.close=function(t){if(t||(t=f),this.closed)return e.nextTick(t,null);d(this,new h(this,5,0,0,null,t))},l.prototype._close=g(null),l.prototype.destroy=function(t){t||(t=f),this.closed||this.close(f),d(this,new h(this,6,0,0,null,t))},l.prototype._destroy=g(null),l.prototype.run=function(t){this._needsOpen&&this.open(f),this._queued.length?this._queued.push(t):t._run()},h.prototype._maybeOpenError=function(t){if(0===this.type)for(var e=this.storage._queued,n=0;n<e.length;n++)e[n]._openError=t},h.prototype._unqueue=function(t){var e=this.storage,n=e._queued;if(t)this._maybeOpenError(t);else switch(this.type){case 0:e.opened||(e.opened=!0,e.emit("open"));break;case 5:e.closed||(e.closed=!0,e.emit("close"));break;case 6:e.destroyed||(e.destroyed=!0,e.emit("destroy"))}n.length&&n[0]===this&&n.shift(),!--e._pending&&n.length&&n[0]._run()},h.prototype.callback=function(t,e){if(this._sync)return y(this,t,e);this._unqueue(t),this._callback(t,e)},h.prototype._openAndNotClosed=function(){var t=this.storage;return!(!t.opened||t.closed)||(t.opened?t.closed&&y(this,new Error("Closed")):y(this,this._openError||new Error("Not opened")),!1)},h.prototype._open=function(){var t=this.storage;return t.opened&&!t._needsOpen?y(this,null):t.closed?y(this,new Error("Closed")):(t._needsOpen=!1,void(t.preferReadonly?t._openReadonly(this):t._open(this)))},h.prototype._run=function(){var t=this.storage;switch(t._pending++,this._sync=!0,this.type){case 0:this._open();break;case 1:this._openAndNotClosed()&&t._read(this);break;case 2:this._openAndNotClosed()&&t._write(this);break;case 3:this._openAndNotClosed()&&t._del(this);break;case 4:this._openAndNotClosed()&&t._stat(this);break;case 5:t.closed||!t.opened?y(this,null):t._close(this);break;case 6:t.destroyed?y(this,null):t._destroy(this)}this._sync=!1}}).call(this,n(5))},function(t,e,n){(function(e){t.exports=function(t){return"object"===typeof t&&t&&!e.isBuffer(t)}}).call(this,n(4).Buffer)},function(t,e,n){var r=n(93);function o(e,n,i){return!function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=o=function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&r(i,n.prototype),i}:t.exports=o=Reflect.construct,o.apply(null,arguments)}t.exports=o},function(t,e,n){var r=n(175),o=n(176);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?o(t):e}},function(t,e){function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(93);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"===typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var i=n(47),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!o(t)&&("function"===typeof e.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function d(t){if(i.isFunction(t)){if(u)return t.name;var e=t.toString().match(h);return e&&e[1]}}function p(t,e){return"string"===typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(u||!i.isFunction(t))return i.inspect(t);var e=d(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,n,r,o){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:o})}function v(t,e){t||y(t,!0,e,"==",f.ok)}function m(t,e,n,a){if(t===e)return!0;if(o(t)&&o(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"===typeof t||null!==e&&"object"===typeof e){if(l(t)&&l(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=_(t),a=_(e);if(o&&!a||!o&&a)return!1;if(o)return t=s.call(t),e=s.call(e),m(t,e,n);var u,c,l=w(t),f=w(e);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(u=l[c],!m(t[u],e[u],n,r))return!1;return!0}(t,e,n,a))}return n?t===e:t==e}function _(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function A(t,e,n,r){var o;if("function"!==typeof e)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),o=function(t){var e;try{t()}catch(n){e=n}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!o&&y(o,n,"Missing expected exception"+r);var a="string"===typeof r,s=!t&&o&&!n;if((!t&&i.isError(o)&&a&&b(o,n)||s)&&y(o,n,"Got unwanted exception"+r),t&&o&&n&&!b(o,n)||!t&&o)throw o}f.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=p(g((e=this).actual),128)+" "+e.operator+" "+p(g(e.expected),128),this.generatedMessage=!0);var n=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var o=r.stack,i=d(n),a=o.indexOf("\n"+i);if(a>=0){var s=o.indexOf("\n",a+1);o=o.substring(s+1)}this.stack=o}}},i.inherits(f.AssertionError,Error),f.fail=y,f.ok=v,f.equal=function(t,e,n){t!=e&&y(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&y(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){m(t,e,!1)||y(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){m(t,e,!0)||y(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){m(t,e,!1)&&y(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){m(e,n,!0)&&y(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&y(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&y(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){A(!0,t,e,n)},f.doesNotThrow=function(t,e,n){A(!1,t,e,n)},f.ifError=function(t){if(t)throw t};var w=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(13))},function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e,n){(function(e){var r=n(182),o=n(8),i=n(15),a=n(101),s=n(196),u=n(65),c=n(198)("webrtc-swarm");function l(t,e){if(!(this instanceof l))return new l(t,e);if(!t)throw new Error("SignalHub instance required");e||(e={}),i.EventEmitter.call(this),this.setMaxListeners(0),this.hub=t,this.wrtc=e.wrtc,this.channelConfig=e.channelConfig,this.config=e.config,this.stream=e.stream,this.wrap=e.wrap||function(t){return t},this.unwrap=e.unwrap||function(t){return t},this.offerConstraints=e.offerConstraints||{},this.maxPeers=e.maxPeers||1/0,this.me=e.uuid||s(),c("my uuid:",this.me),this.remotes={},this.peers=[],this.closed=!1,function(t,e){e.subscribe("all").pipe(a.obj(function(e,n,o){if(e=t.unwrap(e,"all"),t.closed||!e)return o();if(c("/all",e),e.from===t.me)return c("skipping self",e.from),o();if("connect"===e.type){if(t.peers.length>=t.maxPeers)return c("skipping because maxPeers is met",e.from),o();if(t.remotes[e.from])return c("skipping existing remote",e.from),o();c("connecting to new peer (as initiator)",e.from);var i=new r({wrtc:t.wrtc,initiator:!0,channelConfig:t.channelConfig,config:t.config,stream:t.stream,offerConstraints:t.offerConstraints});f(t,i,e.from),t.remotes[e.from]=i}o()})),e.subscribe(t.me).once("open",function t(e,n){if(e.closed||e.peers.length>=e.maxPeers)return;var r={type:"connect",from:e.me};r=e.wrap(r,"all");n.broadcast("all",r,function(){setTimeout(t.bind(null,e,n),Math.floor(2e3*Math.random())+(e.peers.length?13e3:3e3))})}.bind(null,t,e)).pipe(a.obj(function(e,n,o){if(e=t.unwrap(e,t.me),t.closed||!e)return o();var i=t.remotes[e.from];if(!i){if(!e.signal||"offer"!==e.signal.type)return c("skipping non-offer",e),o();c("connecting to new peer (as not initiator)",e.from),i=t.remotes[e.from]=new r({wrtc:t.wrtc,channelConfig:t.channelConfig,config:t.config,stream:t.stream,offerConstraints:t.offerConstraints}),f(t,i,e.from)}c("signalling",e.from,e.signal),i.signal(e.signal),o()}))}(this,t)}function f(t,e,n){e.on("connect",function(){c("connected to peer",n),t.peers.push(e),t.emit("peer",e,n),t.emit("connect",e,n)});var r=u(function(r){c("disconnected from peer",n,r),t.remotes[n]===e&&delete t.remotes[n];var o=t.peers.indexOf(e);o>-1&&t.peers.splice(o,1),t.emit("disconnect",e,n)}),o=[],i=!1;e.on("signal",function(e){o.push(e),function e(){if(!t.closed&&!i&&o.length){i=!0;var r={from:t.me,signal:o.shift()};r=t.wrap(r,n),t.hub.broadcast(n,r,function(){i=!1,e()})}}()}),e.on("error",r),e.once("close",r)}t.exports=l,o(l,i.EventEmitter),l.WEBRTC_SUPPORT=r.WEBRTC_SUPPORT,l.prototype.close=function(t){if(!this.closed){this.closed=!0,t&&this.once("close",t);var n=this;this.hub.close(function(){var t=n.peers.length;if(t>0){var r=0;n.peers.forEach(function(o){o.once("close",function(){++r===t&&n.emit("close")}),e.nextTick(function(){o.destroy()})})}else n.emit("close")})}}}).call(this,n(5))},function(t,e,n){(function(e){t.exports=u;var r=n(183)("simple-peer"),o=n(186),i=n(8),a=n(187),s=n(18);function u(t){var e=this;if(!(e instanceof u))return new u(t);if(e._id=a(4).toString("hex").slice(0,7),e._debug("new peer %o",t),t=Object.assign({allowHalfOpen:!1},t),s.Duplex.call(e,t),e.channelName=t.initiator?t.channelName||a(20).toString("hex"):null,e._isChromium="undefined"!==typeof window&&!!window.webkitRTCPeerConnection,e.initiator=t.initiator||!1,e.channelConfig=t.channelConfig||u.channelConfig,e.config=t.config||u.config,e.constraints=e._transformConstraints(t.constraints||u.constraints),e.offerConstraints=e._transformConstraints(t.offerConstraints||{}),e.answerConstraints=e._transformConstraints(t.answerConstraints||{}),e.reconnectTimer=t.reconnectTimer||!1,e.sdpTransform=t.sdpTransform||function(t){return t},e.stream=t.stream||!1,e.trickle=void 0===t.trickle||t.trickle,e.destroyed=!1,e.connected=!1,e.remoteAddress=void 0,e.remoteFamily=void 0,e.remotePort=void 0,e.localAddress=void 0,e.localPort=void 0,e._wrtc=t.wrtc&&"object"===typeof t.wrtc?t.wrtc:o(),!e._wrtc)throw"undefined"===typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser");if(e._pcReady=!1,e._channelReady=!1,e._iceComplete=!1,e._channel=null,e._pendingCandidates=[],e._previousStreams=[],e._chunk=null,e._cb=null,e._interval=null,e._reconnectTimeout=null,e._pc=new e._wrtc.RTCPeerConnection(e.config,e.constraints),e._isWrtc=Array.isArray(e._pc.RTCIceConnectionStates),e._isReactNativeWebrtc="number"===typeof e._pc._peerConnectionId,e._pc.oniceconnectionstatechange=function(){e._onIceConnectionStateChange()},e._pc.onsignalingstatechange=function(){e._onSignalingStateChange()},e._pc.onicecandidate=function(t){e._onIceCandidate(t)},e.initiator){var n=!1;e._pc.onnegotiationneeded=function(){n||e._createOffer(),n=!0},e._setupData({channel:e._pc.createDataChannel(e.channelName,e.channelConfig)})}else e._pc.ondatachannel=function(t){e._setupData(t)};"addTrack"in e._pc?(e.stream&&e.stream.getTracks().forEach(function(t){e._pc.addTrack(t,e.stream)}),e._pc.ontrack=function(t){e._onTrack(t)}):(e.stream&&e._pc.addStream(e.stream),e._pc.onaddstream=function(t){e._onAddStream(t)}),e.initiator&&e._isWrtc&&e._pc.onnegotiationneeded(),e._onFinishBound=function(){e._onFinish()},e.once("finish",e._onFinishBound)}function c(){}i(u,s.Duplex),u.WEBRTC_SUPPORT=!!o(),u.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]},u.constraints={},u.channelConfig={},Object.defineProperty(u.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),u.prototype.address=function(){return{port:this.localPort,family:"IPv4",address:this.localAddress}},u.prototype.signal=function(t){var e=this;if(e.destroyed)throw new Error("cannot signal after peer is destroyed");if("string"===typeof t)try{t=JSON.parse(t)}catch(n){t={}}e._debug("signal()"),t.candidate&&(e._pc.remoteDescription?e._addIceCandidate(t.candidate):e._pendingCandidates.push(t.candidate)),t.sdp&&e._pc.setRemoteDescription(new e._wrtc.RTCSessionDescription(t),function(){e.destroyed||(e._pendingCandidates.forEach(function(t){e._addIceCandidate(t)}),e._pendingCandidates=[],"offer"===e._pc.remoteDescription.type&&e._createAnswer())},function(t){e._onError(t)}),t.sdp||t.candidate||e._destroy(new Error("signal() called with invalid signal data"))},u.prototype._addIceCandidate=function(t){var e=this;try{e._pc.addIceCandidate(new e._wrtc.RTCIceCandidate(t),c,function(t){e._onError(t)})}catch(n){e._destroy(new Error("error adding candidate: "+n.message))}},u.prototype.send=function(t){this._isWrtc&&e.isBuffer(t)&&(t=new Uint8Array(t)),this._channel.send(t)},u.prototype.destroy=function(t){this._destroy(null,t)},u.prototype._destroy=function(t,e){if(!this.destroyed){if(e&&this.once("close",e),this._debug("destroy (error: %s)",t&&t.message),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this.connected=!1,this._pcReady=!1,this._channelReady=!1,this._previousStreams=null,clearInterval(this._interval),clearTimeout(this._reconnectTimeout),this._interval=null,this._reconnectTimeout=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,"addTrack"in this._pc?this._pc.ontrack=null:this._pc.onaddstream=null,this._pc.onnegotiationneeded=null,this._pc.ondatachannel=null}if(this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close")}},u.prototype._setupData=function(t){var e=this;e._channel=t.channel,e._channel.binaryType="arraybuffer","number"===typeof e._channel.bufferedAmountLowThreshold&&(e._channel.bufferedAmountLowThreshold=65536),e.channelName=e._channel.label,e._channel.onmessage=function(t){e._onChannelMessage(t)},e._channel.onbufferedamountlow=function(){e._onChannelBufferedAmountLow()},e._channel.onopen=function(){e._onChannelOpen()},e._channel.onclose=function(){e._onChannelClose()}},u.prototype._read=function(){},u.prototype._write=function(t,e,n){if(this.destroyed)return n(new Error("cannot write after peer is destroyed"));if(this.connected){try{this.send(t)}catch(r){return this._onError(r)}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n},u.prototype._onFinish=function(){var t=this;function e(){setTimeout(function(){t._destroy()},100)}t.destroyed||(t.connected?e():t.once("connect",e))},u.prototype._createOffer=function(){var t=this;t.destroyed||t._pc.createOffer(function(e){if(!t.destroyed){e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,c,function(e){t._onError(e)});var n=function(){var n=t._pc.localDescription||e;t._debug("signal"),t.emit("signal",{type:n.type,sdp:n.sdp})};t.trickle||t._iceComplete?n():t.once("_iceComplete",n)}},function(e){t._onError(e)},t.offerConstraints)},u.prototype._createAnswer=function(){var t=this;t.destroyed||t._pc.createAnswer(function(e){function n(){var n=t._pc.localDescription||e;t._debug("signal"),t.emit("signal",{type:n.type,sdp:n.sdp})}t.destroyed||(e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,c,function(e){t._onError(e)}),t.trickle||t._iceComplete?n():t.once("_iceComplete",n))},function(e){t._onError(e)},t.answerConstraints)},u.prototype._onIceConnectionStateChange=function(){var t=this;if(!t.destroyed){var e=t._pc.iceGatheringState,n=t._pc.iceConnectionState;t._debug("iceConnectionStateChange %s %s",e,n),t.emit("iceConnectionStateChange",e,n),"connected"!==n&&"completed"!==n||(clearTimeout(t._reconnectTimeout),t._pcReady=!0,t._maybeReady()),"disconnected"===n&&(t.reconnectTimer?(clearTimeout(t._reconnectTimeout),t._reconnectTimeout=setTimeout(function(){t._destroy()},t.reconnectTimer)):t._destroy()),"failed"===n&&t._destroy(new Error("Ice connection failed.")),"closed"===n&&t._destroy()}},u.prototype.getStats=function(t){var e=this;0===e._pc.getStats.length?e._pc.getStats().then(function(e){var n=[];e.forEach(function(t){n.push(t)}),t(n)},function(t){e._onError(t)}):e._isReactNativeWebrtc?e._pc.getStats(null,function(e){var n=[];e.forEach(function(t){n.push(t)}),t(n)},function(t){e._onError(t)}):e._pc.getStats.length>0?e._pc.getStats(function(e){var n=[];e.result().forEach(function(t){var e={};t.names().forEach(function(n){e[n]=t.stat(n)}),e.id=t.id,e.type=t.type,e.timestamp=t.timestamp,n.push(e)}),t(n)},function(t){e._onError(t)}):t([])},u.prototype._maybeReady=function(){var t=this;t._debug("maybeReady pc %s channel %s",t._pcReady,t._channelReady),!t.connected&&!t._connecting&&t._pcReady&&t._channelReady&&(t._connecting=!0,t.getStats(function(e){t._connecting=!1,t.connected=!0;var n={},r={},o={};function i(e){var o=r[e.localCandidateId];o&&o.ip?(t.localAddress=o.ip,t.localPort=Number(o.port)):o&&o.ipAddress?(t.localAddress=o.ipAddress,t.localPort=Number(o.portNumber)):"string"===typeof e.googLocalAddress&&(o=e.googLocalAddress.split(":"),t.localAddress=o[0],t.localPort=Number(o[1]));var i=n[e.remoteCandidateId];i&&i.ip?(t.remoteAddress=i.ip,t.remotePort=Number(i.port)):i&&i.ipAddress?(t.remoteAddress=i.ipAddress,t.remotePort=Number(i.portNumber)):"string"===typeof e.googRemoteAddress&&(i=e.googRemoteAddress.split(":"),t.remoteAddress=i[0],t.remotePort=Number(i[1])),t.remoteFamily="IPv4",t._debug("connect local: %s:%s remote: %s:%s",t.localAddress,t.localPort,t.remoteAddress,t.remotePort)}if(e.forEach(function(t){"remotecandidate"!==t.type&&"remote-candidate"!==t.type||(n[t.id]=t),"localcandidate"!==t.type&&"local-candidate"!==t.type||(r[t.id]=t),"candidatepair"!==t.type&&"candidate-pair"!==t.type||(o[t.id]=t)}),e.forEach(function(t){"transport"===t.type&&i(o[t.selectedCandidatePairId]),("googCandidatePair"===t.type&&"true"===t.googActiveConnection||("candidatepair"===t.type||"candidate-pair"===t.type)&&t.selected)&&i(t)}),t._chunk){try{t.send(t._chunk)}catch(s){return t._onError(s)}t._chunk=null,t._debug('sent chunk from "write before connect"');var a=t._cb;t._cb=null,a(null)}"number"!==typeof t._channel.bufferedAmountLowThreshold&&(t._interval=setInterval(function(){t._onInterval()},150),t._interval.unref&&t._interval.unref()),t._debug("connect"),t.emit("connect")}))},u.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){this.destroyed||(this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))},u.prototype._onIceCandidate=function(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||(this._iceComplete=!0,this.emit("_iceComplete")))},u.prototype._onChannelMessage=function(t){if(!this.destroyed){var n=t.data;n instanceof ArrayBuffer&&(n=new e(n)),this.push(n)}},u.prototype._onChannelBufferedAmountLow=function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var t=this._cb;this._cb=null,t(null)}},u.prototype._onChannelOpen=function(){this.connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())},u.prototype._onChannelClose=function(){this.destroyed||(this._debug("on channel close"),this._destroy())},u.prototype._onAddStream=function(t){this.destroyed||(this._debug("on add stream"),this.emit("stream",t.stream))},u.prototype._onTrack=function(t){if(!this.destroyed){this._debug("on track");var e=t.streams[0].id;-1===this._previousStreams.indexOf(e)&&(this._previousStreams.push(e),this.emit("stream",t.streams[0]))}},u.prototype._onError=function(t){this.destroyed||(this._debug("error %s",t.message||t),this._destroy(t))},u.prototype._debug=function(){var t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],r.apply(null,t)},u.prototype._transformConstraints=function(t){if(0===Object.keys(t).length)return t;if((t.mandatory||t.optional)&&!this._isChromium){var e=Object.assign({},t.optional,t.mandatory);return void 0!==e.OfferToReceiveVideo&&(e.offerToReceiveVideo=e.OfferToReceiveVideo,delete e.OfferToReceiveVideo),void 0!==e.OfferToReceiveAudio&&(e.offerToReceiveAudio=e.OfferToReceiveAudio,delete e.OfferToReceiveAudio),e}return t.mandatory||t.optional||!this._isChromium?t:(void 0!==t.offerToReceiveVideo&&(t.OfferToReceiveVideo=t.offerToReceiveVideo,delete t.offerToReceiveVideo),void 0!==t.offerToReceiveAudio&&(t.OfferToReceiveAudio=t.offerToReceiveAudio,delete t.offerToReceiveAudio),{mandatory:t})}}).call(this,n(4).Buffer)},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof r&&"env"in r&&(t=Object({NODE_ENV:"production",PUBLIC_URL:"/caracara"}).DEBUG),t}(e=t.exports=n(184)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=o,e.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(o())}).call(this,n(5))},function(t,e,n){var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"===typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"===typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"===typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(185),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(u=t,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){t.exports=function(){if("undefined"===typeof window)return null;var t={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}},function(t,e,n){"use strict";(function(e,r){var o=n(39).Buffer,i=e.crypto||e.msCrypto;i&&i.getRandomValues?t.exports=function(t,n){if(t>65536)throw new Error("requested too many random bytes");var a=new e.Uint8Array(t);t>0&&i.getRandomValues(a);var s=o.from(a.buffer);if("function"===typeof n)return r.nextTick(function(){n(null,s)});return s}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(13),n(5))},,function(t,e,n){"use strict";var r=n(39).Buffer,o=n(190);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,o,i=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=i,o=s,e.copy(n,o),s+=a.data.length,a=a.next;return i},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(192),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(13))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o=1,i={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){l(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(t){delete i[t]}function l(t){if(a)setTimeout(l,0,t);else{var e=i[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(13),n(5))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(13))},function(t,e,n){"use strict";t.exports=i;var r=n(100),o=n(40);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}o.inherits=n(8),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var o in r)n.call(r,o)&&(t[o]=r[o])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){!function(e){"use strict";var n=0,r=Math.pow(36,4),o=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},i=function(){return o((Math.random()*r<<0).toString(36),4)},a=function(){return n=n<r?n:0,++n-1},s=function(){var t=(new Date).getTime().toString(36),e=s.fingerprint(),n=i()+i();return"c"+t+o(a().toString(36),4)+e+n};s.slug=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),r=i().slice(-2);return t=a().toString(36).slice(-4),e.slice(-2)+t+n+r},s.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return s.globalCount=function(){return t},t},s.fingerprint=function(){return o((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},e.register?e.register("cuid",s):t.exports=s}(this.applitude||this)},function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!==typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){r[t]=e[t]});return r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),o=t[t.length-1];return"function"===typeof r&&r!==o&&Object.keys(o).forEach(function(t){r[t]=o[t]}),r}}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!==typeof r&&"env"in r&&(t=Object({NODE_ENV:"production",PUBLIC_URL:"/caracara"}).DEBUG),t}(e=t.exports=n(199)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=o,e.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(o())}).call(this,n(5))},function(t,e,n){var r;function o(t){function n(){if(n.enabled){var t=n,o=+new Date,i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!==typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"===typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"===typeof e.init&&e.init(n),n}(e=t.exports=o.debug=o.default=o).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"===typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(t=n[o].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(200),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(u=t,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(65),o=function(){};t.exports=function t(e,n,i){if("function"===typeof n)return t(e,null,n);n||(n={}),i=r(i||o);var a=e._writableState,s=e._readableState,u=n.readable||!1!==n.readable&&e.readable,c=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||f()},f=function(){c=!1,u||i.call(e)},h=function(){u=!1,c||i.call(e)},d=function(t){i.call(e,t?new Error("exited with error code: "+t):null)},p=function(t){i.call(e,t)},g=function(){return(!u||s&&s.ended)&&(!c||a&&a.ended)?void 0:i.call(e,new Error("premature close"))},y=function(){e.req.on("finish",f)};return function(t){return t.setHeader&&"function"===typeof t.abort}(e)?(e.on("complete",f),e.on("abort",g),e.req?y():e.on("request",y)):c&&!a&&(e.on("end",l),e.on("close",l)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(e)&&e.on("exit",d),e.on("end",h),e.on("finish",f),!1!==n.error&&e.on("error",p),e.on("close",g),function(){e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",y),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("exit",d),e.removeListener("end",h),e.removeListener("error",p),e.removeListener("close",g)}}},,function(module,exports,__webpack_require__){var factory;factory=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/automerge.js")}({"./backend/index.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=n("./node_modules/immutable/dist/immutable.js"),s=a.Map,u=a.List,c=a.fromJS,l=n("./src/common.js"),f=l.isObject,h=l.lessOrEqual,d=n("./backend/op_set.js"),p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.diffs={},this.children={}}return o(t,[{key:"unpackValue",value:function(t,e,n){f(n)?(e.value=n.objectId,e.link=!0,this.children[t].push(n.objectId)):e.value=n}},{key:"unpackConflicts",value:function(t,e,n){if(n){e.conflicts=[];var o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=r(c,2),f=l[0],h=l[1],d={actor:f};this.unpackValue(t,d,h),e.conflicts.push(d)}}catch(p){i=!0,a=p}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}}},{key:"instantiateMap",value:function(t,e){var n=this.diffs[e];e!==d.ROOT_ID&&n.push({obj:e,type:"map",action:"create"});var r=d.getObjectConflicts(t,e,this),o=!0,i=!1,a=void 0;try{for(var s,u=d.getObjectFields(t,e)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l={obj:e,type:"map",action:"set",key:c};this.unpackValue(e,l,d.getObjectField(t,e,c,this)),this.unpackConflicts(e,l,r.get(c)),n.push(l)}}catch(f){i=!0,a=f}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}},{key:"instantiateList",value:function(t,e,n){var o=this.diffs[e];o.push({obj:e,type:n,action:"create"});var i=d.listIterator(t,e,"conflicts",this),a=d.listIterator(t,e,"values",this),s=!0,u=!1,c=void 0;try{for(var l,f=d.listIterator(t,e,"elems",this)[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value,p=r(h,2),g={obj:e,type:n,action:"insert",index:p[0],elemId:p[1]};this.unpackValue(e,g,a.next().value),this.unpackConflicts(e,g,i.next().value),o.push(g)}}catch(y){u=!0,c=y}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}}},{key:"instantiateObject",value:function(t,e){if(this.diffs[e])return{objectId:e};var n=e===d.ROOT_ID,r=t.getIn(["byObject",e,"_init","action"]);if(this.diffs[e]=[],this.children[e]=[],n||"makeMap"===r)this.instantiateMap(t,e);else if("makeList"===r)this.instantiateList(t,e,"list");else{if("makeText"!==r)throw new RangeError("Unknown object type: "+r);this.instantiateList(t,e,"text")}return{objectId:e}}},{key:"makePatch",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var a,s=this.children[t][Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;this.makePatch(u,e)}}catch(c){r=!0,o=c}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}e.push.apply(e,i(this.diffs[t]))}}]),t}();function g(t,e){var n=t.getIn(["opSet","undoPos"])>0,r=!t.getIn(["opSet","redoStack"]).isEmpty();return{clock:t.getIn(["opSet","clock"]).toJS(),deps:t.getIn(["opSet","deps"]).toJS(),canUndo:n,canRedo:r,diffs:e}}function y(t,e,n){var o=[],a=t.get("opSet"),s=!0,u=!1,l=void 0;try{for(var f,h=c(e)[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var p=f.value;p=p.remove("requestType");var y=d.addChange(a,p,n),v=r(y,2),m=v[0],_=v[1];o.push.apply(o,i(_)),a=m}}catch(b){u=!0,l=b}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return[t=t.set("opSet",a),g(t,o)]}function v(t,e){return y(t,e,!1)}t.exports={init:function(){return s({opSet:d.init()})},applyChanges:v,applyLocalChange:function(t,e){if("string"!==typeof e.actor||"number"!==typeof e.seq)throw new TypeError("Change request requries `actor` and `seq` properties");if(e.seq<=t.getIn(["opSet","clock",e.actor],0))throw new RangeError("Change request has already been applied");var n=void 0;if("change"===e.requestType){var o=y(t,[e],!0),i=r(o,2);t=i[0],n=i[1]}else if("undo"===e.requestType){var a=function(t,e){var n=t.getIn(["opSet","undoPos"]),o=t.getIn(["opSet","undoStack",n-1]);if(n<1||!o)throw new RangeError("Cannot undo: there is nothing to be undone");var i=e.actor,a=e.seq,l=e.deps,f=e.message,h=s({actor:i,seq:a,deps:c(l),message:f,ops:o}),p=t.get("opSet"),y=u().withMutations(function(t){var e=!0,n=!1,r=void 0;try{for(var i,a=o[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;if(!["set","del","link"].includes(u.get("action")))throw new RangeError("Unexpected operation type in undo history: "+u);var c=d.getFieldOps(p,u.get("obj"),u.get("key"));if(c.isEmpty())t.push(s({action:"del",obj:u.get("obj"),key:u.get("key")}));else{var l=!0,f=!1,h=void 0;try{for(var g,y=c[Symbol.iterator]();!(l=(g=y.next()).done);l=!0){var v=g.value;t.push(v.remove("actor").remove("seq"))}}catch(m){f=!0,h=m}finally{try{!l&&y.return&&y.return()}finally{if(f)throw h}}}}}catch(m){n=!0,r=m}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}});p=p.set("undoPos",n-1).update("redoStack",function(t){return t.push(y)});var v=d.addChange(p,h,!1),m=r(v,2),_=m[0],b=m[1];return[t=t.set("opSet",_),g(t,b)]}(t,e),l=r(a,2);t=l[0],n=l[1]}else{if("redo"!==e.requestType)throw new RangeError("Unknown requestType: "+e.requestType);var f=function(t,e){var n=t.getIn(["opSet","redoStack"]).last();if(!n)throw new RangeError("Cannot redo: the last change was not an undo");var o=e.actor,i=e.seq,a=e.deps,u=e.message,l=s({actor:o,seq:i,deps:c(a),message:u,ops:n}),f=t.get("opSet").update("undoPos",function(t){return t+1}).update("redoStack",function(t){return t.pop()}),h=d.addChange(f,l,!1),p=r(h,2),y=p[0],v=p[1];return[t=t.set("opSet",y),g(t,v)]}(t,e),h=r(f,2);t=h[0],n=h[1]}return n.actor=e.actor,n.seq=e.seq,[t,n]},getPatch:function(t){var e=[],n=t.get("opSet"),r=new p(n);return r.instantiateObject(n,d.ROOT_ID),r.makePatch(d.ROOT_ID,e),g(t,e)},getChanges:function(t,e){var n=t.getIn(["opSet","clock"]),r=e.getIn(["opSet","clock"]);if(!h(n,r))throw new RangeError("Cannot diff two states that have diverged");return d.getMissingChanges(e.get("opSet"),n).toJS()},getChangesForActor:function(t,e){return d.getChangesForActor(t.get("opSet"),e).toJS()},getMissingChanges:function(t,e){return d.getMissingChanges(t.get("opSet"),e).toJS()},getMissingDeps:function(t){return d.getMissingDeps(t.get("opSet"))},merge:function(t,e){var n=d.getMissingChanges(e.get("opSet"),t.getIn(["opSet","clock"]));return v(t,n)}}},"./backend/op_set.js":function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=n("./node_modules/immutable/dist/immutable.js"),s=a.Map,u=a.List,c=a.Set,l=n("./backend/skip_list.js").SkipList,f="00000000-0000-0000-0000-000000000000";function h(t,e){var n=e.get("actor"),r=e.get("seq"),o=!0;return e.get("deps").set(n,r-1).forEach(function(e,n){t.getIn(["clock",n],0)<e&&(o=!1)}),o}function d(t,e){return e.reduce(function(e,n,r){if(n<=0)return e;var o=t.getIn(["states",r,n-1,"allDeps"]);return e.mergeWith(function(t,e){return Math.max(t,e)},o).set(r,n)},s())}function p(t,e){for(var n=[];e!==f;){var r=t.getIn(["byObject",e,"_inbound"],c()).first();if(!r)return null;e=r.get("obj");var o=t.getIn(["byObject",e,"_init","action"]);if("makeList"===o||"makeText"===o){var i=t.getIn(["byObject",e,"_elemIds"]).indexOf(r.get("key"));if(i<0)return null;n.unshift(i)}else n.unshift(r.get("key"))}return n}function g(t,e){var n=e.get("obj");if(t.hasIn(["byObject",n]))throw new Error("Duplicate creation of object "+n);var r={action:"create",obj:n},o=s({_init:e,_inbound:c()});return"makeMap"===e.get("action")?r.type="map":(r.type="makeText"===e.get("action")?"text":"list",o=o.set("_elemIds",new l)),[t=t.setIn(["byObject",n],o),[r]]}function y(t,e){var n=e.get("obj"),r=e.get("elem"),o=e.get("actor")+":"+r;if(!t.get("byObject").has(n))throw new Error("Modification of unknown object "+n);if(t.hasIn(["byObject",n,"_insertion",o]))throw new Error("Duplicate list element ID "+o);return[t=t.updateIn(["byObject",n,"_following",e.get("key")],u(),function(t){return t.push(e)}).updateIn(["byObject",n,"_maxElem"],0,function(t){return Math.max(r,t)}).setIn(["byObject",n,"_insertion",o],e),[]]}function v(t){var e=[],n=!0,r=!1,o=void 0;try{for(var i,a=t.shift()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u={actor:s.get("actor"),value:s.get("value")};"link"===s.get("action")&&(u.link=!0),e.push(u)}}catch(c){r=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e}function m(t,e,n,r,o,i){var a="makeText"===t.getIn(["byObject",e,"_init","action"])?"text":"list",s=i?i.first():null,u=t.getIn(["byObject",e,"_elemIds"]),c=s?s.get("value"):null,l={action:o,type:a,obj:e,index:n,path:p(t,e)};if(s&&"link"===s.get("action")&&(l.link=!0,c={obj:s.get("value")}),"insert"===o)u=u.insertIndex(n,s.get("key"),c),l.elemId=r,l.value=s.get("value");else if("set"===o)u=u.setValue(s.get("key"),c),l.value=s.get("value");else{if("remove"!==o)throw new Error("Unknown action type: "+o);u=u.removeIndex(n)}return i&&i.size>1&&(l.conflicts=v(i)),[t=t.setIn(["byObject",e,"_elemIds"],u),[l]]}function _(t,e,n){var r=e.get("obj"),o=t.getIn(["byObject",r,"_init","action"]);if(!t.get("byObject").has(r))throw new Error("Modification of unknown object "+r);if(t.has("undoLocal")&&n){var i=t.getIn(["byObject",r,e.get("key")],u()).map(function(t){return t.filter(function(t,e){return["action","obj","key","value"].includes(e)})});i.isEmpty()&&(i=u.of(s({action:"del",obj:r,key:e.get("key")}))),t=t.update("undoLocal",function(t){return t.concat(i)})}var a=t.getIn(["byObject",r,e.get("key")],u()).groupBy(function(n){return!!function(t,e,n){var r=[e.get("actor"),e.get("seq")],o=r[0],i=r[1],a=[n.get("actor"),n.get("seq")],s=a[0],u=a[1];if(!o||!s||!i||!u)return!1;var c=t.getIn(["states",o,i-1,"allDeps"]),l=t.getIn(["states",s,u-1,"allDeps"]);return c.get(s,0)<u&&l.get(o,0)<i}(t,n,e)}),l=a.get(!1,u()),f=a.get(!0,u()),h=function(e){t=t.updateIn(["byObject",e.get("value"),"_inbound"],function(t){return t.remove(e)})},d=!0,g=!1,y=void 0;try{for(var _,b=l.filter(function(t){return"link"===t.get("action")})[Symbol.iterator]();!(d=(_=b.next()).done);d=!0){h(_.value)}}catch(A){g=!0,y=A}finally{try{!d&&b.return&&b.return()}finally{if(g)throw y}}return"link"===e.get("action")&&(t=t.updateIn(["byObject",e.get("value"),"_inbound"],c(),function(t){return t.add(e)})),"del"!==e.get("action")&&(f=f.push(e)),f=f.sortBy(function(t){return t.get("actor")}).reverse(),t=t.setIn(["byObject",r,e.get("key")],f),"makeList"===o||"makeText"===o?function(t,e,n){var r=w(t,e,n),o=t.getIn(["byObject",e,"_elemIds"]),i=o.indexOf(n);if(i>=0)return r.isEmpty()?m(t,e,i,n,"remove",null):m(t,e,i,n,"set",r);if(r.isEmpty())return[t,[]];for(var a=n;i=-1,(a=I(t,e,a))&&!((i=o.indexOf(a))>=0););return m(t,e,i+1,n,"insert",r)}(t,r,e.get("key")):function(t,e,n){var r=w(t,e,n),o={action:"",type:"map",obj:e,key:n,path:p(t,e)};return r.isEmpty()?o.action="remove":(o.action="set",o.value=r.first().get("value"),"link"===r.first().get("action")&&(o.link=!0),r.size>1&&(o.conflicts=v(r))),[t,[o]]}(t,r,e.get("key"))}function b(t,e){var n=e.get("actor"),r=e.get("seq"),a=t.getIn(["states",n],u());if(r<=a.size){if(!a.get(r-1).get("change").equals(e))throw new Error("Inconsistent reuse of sequence number "+r+" by "+n);return[t,[]]}var l,f=d(t,e.get("deps").set(n,r-1)),h=function(t,e){var n=[],r=c(),a=!0,s=!1,u=void 0;try{for(var l,f=e[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var h=l.value,d=void 0,p=h.get("action");if("makeMap"===p||"makeList"===p||"makeText"===p){r=r.add(h.get("obj"));var v=g(t,h),m=o(v,2);t=m[0],d=m[1]}else if("ins"===p){var b=y(t,h),A=o(b,2);t=A[0],d=A[1]}else{if("set"!==p&&"del"!==p&&"link"!==p)throw new RangeError("Unknown operation type "+p);var w=_(t,h,!r.contains(h.get("obj"))),k=o(w,2);t=k[0],d=k[1]}n.push.apply(n,i(d))}}catch(E){s=!0,u=E}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}return[t,n]}(t=t.setIn(["states",n],a.push(s({change:e,allDeps:f}))),e.get("ops").map(function(t){return t.merge({actor:n,seq:r})})),p=o(h,2);t=p[0],l=p[1];var v=t.get("deps").filter(function(t,e){return t>f.get(e,0)}).set(n,r);return[t=t.set("deps",v).setIn(["clock",n],r).update("history",function(t){return t.push(e)}),l]}function A(t){for(var e=u(),n=void 0,r=[];;){var a=!0,s=!1,c=void 0;try{for(var l,f=t.get("queue")[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=l.value;if(h(t,d)){var p=b(t,d),g=o(p,2);t=g[0],n=g[1],r.push.apply(r,i(n))}else e=e.push(d)}}catch(y){s=!0,c=y}finally{try{!a&&f.return&&f.return()}finally{if(s)throw c}}if(e.count()===t.get("queue").count())return[t,r];t=t.set("queue",e),e=u()}}function w(t,e,n){return t.getIn(["byObject",e,n],u())}function k(t,e,n){if("_head"!==n){var r=t.getIn(["byObject",e,"_insertion",n]);if(!r)throw new TypeError("Missing index entry for list element "+n);return r.get("key")}}function E(t,e){return t.get("elem")<e.get("elem")?-1:t.get("elem")>e.get("elem")?1:t.get("actor")<e.get("actor")?-1:t.get("actor")>e.get("actor")?1:0}function S(t,e,n,r){var o=/^(.*):(\d+)$/.exec(r||""),i=o?s({actor:o[1],elem:parseInt(o[2])}):null;return t.getIn(["byObject",e,"_following",n],u()).filter(function(t){return"ins"===t.get("action")}).filter(function(t){return!i||E(t,i)<0}).sort(E).reverse().map(function(t){return t.get("actor")+":"+t.get("elem")})}function x(t,e,n){var r=S(t,e,n);if(!r.isEmpty())return r.first();for(var o=void 0;;){if(!(o=k(t,e,n)))return;var i=S(t,e,o,n);if(!i.isEmpty())return i.first();n=o}}function I(t,e,n){var r=k(t,e,n),o=S(t,e,r);if(o.first()===n)return"_head"===r?null:r;var i=void 0,a=!0,s=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;if(f===n)break;i=f}}catch(h){s=!0,u=h}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}for(;;){if((o=S(t,e,i)).isEmpty())return i;i=o.last()}}function C(t,e,n){if("object"!==("undefined"===typeof e?"undefined":r(e))||null===e)return e;switch(e.get("action")){case"set":return e.get("value");case"link":return n.instantiateObject(t,e.get("value"))}}function O(t){return"string"===typeof t&&""!==t&&!t.startsWith("_")}t.exports={init:function(){return s().set("states",s()).set("history",u()).set("byObject",s().set(f,s())).set("clock",s()).set("deps",s()).set("local",u()).set("undoPos",0).set("undoStack",u()).set("redoStack",u()).set("queue",u())},addChange:function(t,e,n){if(t=t.update("queue",function(t){return t.push(e)}),n){var r,i=A(t=t.set("undoLocal",u())),a=o(i,2);return t=a[0],r=a[1],[t=function(t){var e=t.get("undoPos");return t.update("undoStack",function(n){return n.slice(0,e).push(t.get("undoLocal"))}).set("undoPos",e+1).set("redoStack",u()).remove("undoLocal")}(t),r]}return A(t)},getMissingChanges:function(t,e){var n=d(t,e);return t.get("states").map(function(t,e){return t.skip(n.get(e,0))}).valueSeq().flatten(1).map(function(t){return t.get("change")})},getChangesForActor:function(t,e,n){return n=n||0,t.get("states").filter(function(t,n){return n===e}).map(function(t,e){return t.skip(n)}).valueSeq().flatten(1).map(function(t){return t.get("change")})},getMissingDeps:function(t){var e={},n=!0,r=!1,o=void 0;try{for(var i,a=t.get("queue")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.get("deps").set(s.get("actor"),s.get("seq")-1).forEach(function(n,r){t.getIn(["clock",r],0)<n&&(e[r]=Math.max(n,e[r]||0))})}}catch(u){r=!0,o=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e},getObjectFields:function(t,e){return t.getIn(["byObject",e]).keySeq().filter(function(n){return function(t,e,n){return O(n)&&!w(t,e,n).isEmpty()}(t,e,n)}).toSet()},getObjectField:function(t,e,n,r){if(O(n)){var o=w(t,e,n);return o.isEmpty()?void 0:C(t,o.first(),r)}},getObjectConflicts:function(t,e,n){return t.getIn(["byObject",e]).filter(function(n,r){return O(r)&&w(t,e,r).size>1}).mapEntries(function(e){var r=o(e,2);return[r[0],r[1].shift().toMap().mapEntries(function(e){var r=o(e,2),i=(r[0],r[1]);return[i.get("actor"),C(t,i,n)]})]})},getFieldOps:w,listElemByIndex:function(t,e,n,r){var o=t.getIn(["byObject",e,"_elemIds"]).keyOf(n);if(o){var i=w(t,e,o);if(!i.isEmpty())return C(t,i.first(),r)}},listLength:function(t,e){return t.getIn(["byObject",e,"_elemIds"]).length},listIterator:function(t,e,n,r){var i="_head",a=-1,s={next:function(){for(;i;){if(!(i=x(t,e,i)))return{done:!0};var s=w(t,e,i);if(!s.isEmpty()){var u=C(t,s.first(),r);switch(a+=1,n){case"keys":return{done:!1,value:a};case"values":return{done:!1,value:u};case"entries":return{done:!1,value:[a,u]};case"elems":return{done:!1,value:[a,i]};case"conflicts":var c=null;return s.size>1&&(c=s.shift().toMap().mapEntries(function(e){var n=o(e,2),i=(n[0],n[1]);return[i.get("actor"),C(t,i,r)]})),{done:!1,value:c}}}}}};return s[Symbol.iterator]=function(){return s},s},ROOT_ID:f}},"./backend/skip_list.js":function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n("./node_modules/immutable/dist/immutable.js").Map;var a=function(){function t(e,n,r,i,a,s,u){o(this,t),this.key=e,this.value=n,this.level=r,this.prevKey=Object.freeze(i),this.nextKey=Object.freeze(a),this.prevCount=Object.freeze(s),this.nextCount=Object.freeze(u),Object.freeze(this)}return r(t,[{key:"setValue",value:function(e,n){return new t(this.key,n,this.level,this.prevKey,this.nextKey,this.prevCount,this.nextCount)}},{key:"insertAfter",value:function(e,n,r,o){if(n>this.level&&null!==this.key)throw new RangeError("Cannot increase the level of a non-head node");for(var i=Math.max(this.level,n),a=this.nextKey.slice(),s=this.nextCount.slice(),u=r;u<i;u++)u<n?(a[u]=e,s[u]=o):s[u]+=1;return new t(this.key,this.value,i,this.prevKey,a,this.prevCount,s)}},{key:"insertBefore",value:function(e,n,r,o){if(n>this.level)throw new RangeError("Cannot increase node level");for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=r;s<this.level;s++)s<n?(i[s]=e,a[s]=o):a[s]+=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}},{key:"removeAfter",value:function(e,n,r,o){for(var i=this.nextKey.slice(),a=this.nextCount.slice(),s=e;s<this.level;s++)s<n?(i[s]=r[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,this.prevKey,i,this.prevCount,a)}},{key:"removeBefore",value:function(e,n,r,o){for(var i=this.prevKey.slice(),a=this.prevCount.slice(),s=e;s<this.level;s++)s<n?(i[s]=r[s],a[s]=o[s]):a[s]-=1;return new t(this.key,this.value,this.level,i,this.nextKey,a,this.nextCount)}}]),t}(),s=function(){function t(e){o(this,t);var n=new a(null,null,1,[],[null],[],[null]),r=e?e():{next:function(){for(var t=Math.floor(4294967296*Math.random()),e=1;t<1<<32-2*e&&e<16;)e+=1;return{value:e,done:!1}}};return u(0,i().set(null,n),r)}return r(t,[{key:"predecessors",value:function(t,e){for(var n=[t],r=[1],o=1;o<e;o++){for(var i=n[o-1],a=r[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.prevCount[o-1],i=s.prevKey[o-1]}n[o]=i,r[o]=a}return{preKeys:n,preCounts:r}}},{key:"successors",value:function(t,e){for(var n=[t],r=[1],o=1;o<e;o++){for(var i=n[o-1],a=r[o-1];i;){var s=this._nodes.get(i);if(s.level>o)break;if(s.level<o)throw new RangeError("Node "+i+" below expected level "+(o-1));a+=s.nextCount[o-1],i=s.nextKey[o-1]}n[o]=i,r[o]=a}return{sucKeys:n,sucCounts:r}}},{key:"insertAfter",value:function(t,e,n){if("string"!==typeof e||""===e)throw new RangeError("Key must be a nonempty string");if(!this._nodes.has(t))throw new RangeError("The referenced predecessor key does not exist");if(this._nodes.has(e))throw new RangeError("Cannot insert a key that already exists");var r=this._randomSource.next().value,o=Math.max(r,this.headNode.level),i=this._nodes.get(t).nextKey[0]||null,s=this.predecessors(t,o),c=s.preKeys,l=s.preCounts,f=this.successors(i,o),h=f.sucKeys,d=f.sucCounts;return u(this.length+1,this._nodes.withMutations(function(t){for(var i=0,s=0,u=function(n){var a=Math.min(n,r);n!==o&&c[n]===c[i]||(t.update(c[i],function(t){return t.insertAfter(e,a,i,l[i])}),i=n),!h[s]||n!==o&&h[n]===h[s]||(t.update(h[s],function(t){return t.insertBefore(e,a,s,d[s])}),s=n)},f=1;f<=o;f++)u(f);t.set(e,new a(e,n,r,c.slice(0,r),h.slice(0,r),l.slice(0,r),d.slice(0,r)))}),this._randomSource)}},{key:"insertIndex",value:function(t,e,n){if("number"!==typeof t||t<0)throw new RangeError("Index must be a non-negative integer");return 0===t?this.insertAfter(null,e,n):this.insertAfter(this.keyOf(t-1),e,n)}},{key:"removeKey",value:function(t){if("string"!==typeof t||!this._nodes.has(t))throw new RangeError("The given key cannot be removed because it does not exist");for(var e=this._nodes.get(t),n=this.headNode.level,r=this.predecessors(e.prevKey[0],n),o=r.preKeys,i=r.preCounts,a=this.successors(e.nextKey[0],n),s=a.sucKeys,c=a.sucCounts,l=new Array(n),f=0;f<n;f++)l[f]=i[f]+c[f]-1;return u(this.length-1,this._nodes.withMutations(function(r){r.remove(t);for(var i=0,a=0,u=function(t){var u=Math.min(t,e.level);t!==n&&o[t]===o[i]||(r.update(o[i],function(t){return t.removeAfter(i,u,s,l)}),i=t),!s[a]||t!==n&&s[t]===s[a]||(r.update(s[a],function(t){return t.removeBefore(a,u,o,l)}),a=t)},c=1;c<=n;c++)u(c)}),this._randomSource)}},{key:"removeIndex",value:function(t){return this.removeKey(this.keyOf(t))}},{key:"indexOf",value:function(t){if("string"!==typeof t||""===t||!this._nodes.has(t))return-1;for(var e=this._nodes.get(t),n=0;e&&e.key;)n+=e.prevCount[e.level-1],e=this._nodes.get(e.prevKey[e.level-1]);return n-1}},{key:"keyOf",value:function(t){if("number"!==typeof t)return null;if(t<0&&(t+=this.length),t<0||t>=this.length)return null;for(var e=this._nodes.get(null),n=e.level-1,r=0;;){if(r===t+1)return e.key;r+e.nextCount[n]>t+1?n-=1:(r+=e.nextCount[n],e=this._nodes.get(e.nextKey[n]))}}},{key:"getValue",value:function(t){if("string"!==typeof t||""===t)throw new RangeError("Key must be a nonempty string");var e=this._nodes.get(t);return e&&e.value}},{key:"setValue",value:function(t,e){if("string"!==typeof t||""===t)throw new RangeError("Key must be a nonempty string");var n=this._nodes.get(t);if(!n)throw new RangeError("The referenced key does not exist");return n=n.setValue(t,e),u(this.length,this._nodes.set(t,n),this._randomSource)}},{key:"iterator",value:function(t){var e=this,n=this._nodes,r=n.get(null).nextKey[0];return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({next:function(){if(!r)return{value:void 0,done:!0};var e=n.get(r),o=void 0;switch(t){case"keys":o={value:r,done:!1};break;case"values":o={value:e.value,done:!1};break;case"entries":o={value:[r,e.value],done:!1}}return r=e.nextKey[0],o}},Symbol.iterator,function(){return e.iterator(t)})}},{key:Symbol.iterator,value:function(){return this.iterator("values")}},{key:"headNode",get:function(){return this._nodes.get(null)}}]),t}();function u(t,e,n){var r=Object.create(s.prototype);return r.length=t,r._nodes=e,r._randomSource=n,Object.freeze(r)}t.exports={SkipList:s}},"./frontend/apply_patch.js":function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n("./src/common.js"),i=o.ROOT_ID,a=o.isObject,s=n("./frontend/constants.js"),u=s.OBJECT_ID,c=s.CONFLICTS,l=s.ELEM_IDS,f=s.MAX_ELEM,h=n("./frontend/text.js").Text;function d(t){var e=/^(.*):(\d+)$/.exec(t||"");if(!e)throw new RangeError("Not a valid elemId: "+t);return[parseInt(e[2]),e[1]]}function p(t,e){var n={},r=t[c][e]||{},o=[t[e]].concat(Object.values(r)),i=!0,s=!1,l=void 0;try{for(var f,h=o[Symbol.iterator]();!(i=(f=h.next()).done);i=!0){var d=f.value;a(d)&&(n[d[u]]=!0)}}catch(p){s=!0,l=p}finally{try{!i&&h.return&&h.return()}finally{if(s)throw l}}return n}function g(t,e,n,r){var o=!0,i=!1,a=void 0;try{for(var s,u=Object.keys(e)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;n[c]||delete r[c]}}catch(y){i=!0,a=y}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}var l=!0,f=!1,h=void 0;try{for(var d,p=Object.keys(n)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var g=d.value;if(r[g]&&r[g]!==t)throw new RangeError("Object "+g+" has multiple parents");r[g]||(r[g]=t)}}catch(y){f=!0,h=y}finally{try{!l&&p.return&&p.return()}finally{if(f)throw h}}}function y(t,e){if(t&&t[u]!==e)throw new RangeError("cloneMapObject ID mismatch: "+t[u]+" !== "+e);var n=Object.assign({},t),r=Object.assign({},t?t[c]:void 0);return Object.defineProperty(n,c,{value:r}),Object.defineProperty(n,u,{value:e}),n}function v(t,e,n,r){n[t.obj]||(n[t.obj]=y(e[t.obj],t.obj));var o=n[t.obj],i=o[c],a={},s={};if("create"===t.action);else if("set"===t.action){if(a=p(o,t.key),o[t.key]=t.link?n[t.value]||e[t.value]:t.value,t.conflicts){i[t.key]={};var u=!0,l=!1,f=void 0;try{for(var h,d=t.conflicts[Symbol.iterator]();!(u=(h=d.next()).done);u=!0){var v=h.value,m=v.link?n[v.value]||e[v.value]:v.value;i[t.key][v.actor]=m}}catch(_){l=!0,f=_}finally{try{!u&&d.return&&d.return()}finally{if(l)throw f}}Object.freeze(i[t.key])}else delete i[t.key];s=p(o,t.key)}else{if("remove"!==t.action)throw new RangeError("Unknown action type: "+t.action);a=p(o,t.key),delete o[t.key],delete i[t.key]}g(t.obj,a,s,r)}function m(t,e,n){n[t]||(n[t]=y(e[t],t));var r=n[t],o=!0,i=!1,s=void 0;try{for(var l,f=Object.keys(r)[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var h=l.value,d=r[h];a(d)&&n[d[u]]&&(r[h]=n[d[u]]);var p=r[c][h]||{},g=null,v=!0,m=!1,_=void 0;try{for(var b,A=Object.keys(p)[Symbol.iterator]();!(v=(b=A.next()).done);v=!0){var w=b.value;d=p[w],a(d)&&n[d[u]]&&(g||(g=Object.assign({},p),r[c][h]=g),g[w]=n[d[u]])}}catch(k){m=!0,_=k}finally{try{!v&&A.return&&A.return()}finally{if(m)throw _}}g&&Object.freeze(g)}}catch(k){i=!0,s=k}finally{try{!o&&f.return&&f.return()}finally{if(i)throw s}}}function _(t,e){if(t&&t[u]!==e)throw new RangeError("cloneListObject ID mismatch: "+t[u]+" !== "+e);var n=t?t.slice():[],r=t&&t[c]?t[c].slice():[],o=t&&t[l]?t[l].slice():[],i=t&&t[f]?t[f]:0;return Object.defineProperty(n,u,{value:e}),Object.defineProperty(n,c,{value:r}),Object.defineProperty(n,l,{value:o}),Object.defineProperty(n,f,{value:i,writable:!0}),n}function b(t,e,n,r){n[t.obj]||(n[t.obj]=_(e[t.obj],t.obj));var o=n[t.obj],i=o[c],a=o[l],s=null,u=null;if(["insert","set"].includes(t.action)&&(s=t.link?n[t.value]||e[t.value]:t.value,t.conflicts)){u={};var h=!0,y=!1,v=void 0;try{for(var m,b=t.conflicts[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var A=m.value;u[A.actor]=A.link?n[A.value]||e[A.value]:A.value}}catch(E){y=!0,v=E}finally{try{!h&&b.return&&b.return()}finally{if(y)throw v}}Object.freeze(u)}var w={},k={};if("create"===t.action);else if("insert"===t.action)o[f]=Math.max(o[f],d(t.elemId)[0]),o.splice(t.index,0,s),i.splice(t.index,0,u),a.splice(t.index,0,t.elemId),k=p(o,t.index);else if("set"===t.action)w=p(o,t.index),o[t.index]=s,i[t.index]=u,k=p(o,t.index);else{if("remove"!==t.action)throw new RangeError("Unknown action type: "+t.action);w=p(o,t.index),o.splice(t.index,1),i.splice(t.index,1),a.splice(t.index,1)}g(t.obj,w,k,r)}function A(t,e,n){n[t]||(n[t]=_(e[t],t));for(var r=n[t],o=0;o<r.length;o++){var i=r[o];a(i)&&n[i[u]]&&(r[o]=n[i[u]]);var s=r[c][o]||{},l=null,f=!0,h=!1,d=void 0;try{for(var p,g=Object.keys(s)[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;i=s[y],a(i)&&n[i[u]]&&(l||(l=Object.assign({},s),r[c][o]=l),l[y]=n[i[u]])}}catch(v){h=!0,d=v}finally{try{!f&&g.return&&g.return()}finally{if(h)throw d}}l&&Object.freeze(l)}}function w(t,e,n,o,i){var a=t[e].obj;if(!i[a])if(o[a]){var s=o[a].elems.slice(),u=o[a][f];i[a]=new h(a,s,u)}else i[a]=new h(a);for(var c=i[a].elems,l=i[a][f],p=-1,g=void 0,y=void 0;e<=n;){var v=t[e];if("create"===v.action);else if("insert"===v.action)p<0&&(p=v.index,g=0,y=[]),l=Math.max(l,d(v.elemId)[0]),y.push({elemId:v.elemId,value:v.value,conflicts:v.conflicts}),e!==n&&"insert"===t[e+1].action&&t[e+1].index===v.index+1||(c.splice.apply(c,[p,g].concat(r(y))),p=-1);else if("set"===v.action)c[v.index]={elemId:c[v.index].elemId,value:v.value,conflicts:v.conflicts};else{if("remove"!==v.action)throw new RangeError("Unknown action type: "+v.action);p<0&&(p=v.index,g=0,y=[]),g+=1,e!==n&&["insert","remove"].includes(t[e+1].action)&&t[e+1].index===v.index||(c.splice(p,g),p=-1)}e+=1}i[a]=new h(a,c,l)}t.exports={applyDiffs:function(t,e,n,r){for(var o=0,i=0;i<t.length;i++){var a=t[i];if("map"===a.type)v(a,e,n,r),o=i+1;else if("list"===a.type)b(a,e,n,r),o=i+1;else{if("text"!==a.type)throw new TypeError("Unknown object type: "+a.type);i!==t.length-1&&t[i+1].obj===a.obj||(w(t,o,i,e,n),o=i+1)}}},updateParentObjects:function(t,e,n){for(var r=e;Object.keys(r).length>0;){var o={},i=!0,a=!1,s=void 0;try{for(var u,c=Object.keys(r)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=n[u.value];l&&(o[l]=!0)}}catch(v){a=!0,s=v}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}r=o;var f=!0,h=!1,d=void 0;try{for(var p,g=Object.keys(o)[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var y=p.value;Array.isArray(e[y]||t[y])?A(y,t,e):m(y,t,e)}}catch(v){h=!0,d=v}finally{try{!f&&g.return&&g.return()}finally{if(h)throw d}}}},cloneRootObject:function(t){if(t[u]!==i)throw new RangeError("Not the root object: "+t[u]);return y(t,i)}}},"./frontend/constants.js":function(t,e,n){"use strict";var r=Symbol("_options"),o=Symbol("_cache"),i=Symbol("_inbound"),a=Symbol("_state"),s=Symbol("_change"),u=Symbol("_elemIds"),c=Symbol("_maxElem");t.exports={OPTIONS:r,CACHE:o,INBOUND:i,STATE:a,OBJECT_ID:"_objectId",CONFLICTS:"_conflicts",CHANGE:s,ELEM_IDS:u,MAX_ELEM:c}},"./frontend/context.js":function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n("./frontend/constants.js"),a=i.CACHE,s=i.INBOUND,u=i.OBJECT_ID,c=i.CONFLICTS,l=i.MAX_ELEM,f=n("./frontend/apply_patch.js").applyDiffs,h=n("./frontend/text.js"),d=h.Text,p=h.getElemId,g=n("./src/common.js").isObject,y=n("./src/uuid.js"),v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actorId=n,this.cache=e[a],this.updated={},this.inbound=Object.assign({},e[s]),this.ops=[],this.diffs=[]}return o(t,[{key:"addOp",value:function(t){this.ops.push(t)}},{key:"apply",value:function(t){this.diffs.push(t),f([t],this.cache,this.updated,this.inbound)}},{key:"getObject",value:function(t){var e=this.updated[t]||this.cache[t];if(!e)throw new RangeError("Target object does not exist: "+t);return e}},{key:"getObjectField",value:function(t,e){var n=this.getObject(t);return g(n[e])?this.instantiateObject(n[e][u]):n[e]}},{key:"createNestedObjects",value:function(t){if("string"===typeof t[u])return t[u];var e=y();if(t instanceof d){if(t.length>0)throw new RangeError("Assigning a non-empty Text object is not supported");this.apply({action:"create",type:"text",obj:e}),this.addOp({action:"makeText",obj:e})}else if(Array.isArray(t))this.apply({action:"create",type:"list",obj:e}),this.addOp({action:"makeList",obj:e}),this.splice(e,0,0,t);else{this.apply({action:"create",type:"map",obj:e}),this.addOp({action:"makeMap",obj:e});var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.setMapKey(e,s,t[s])}}catch(c){r=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}return e}},{key:"setMapKey",value:function(t,e,n){if("string"!==typeof e)throw new RangeError("The key of a map entry must be a string, not "+("undefined"===typeof e?"undefined":r(e)));if(""===e)throw new RangeError("The key of a map entry must not be an empty string");if(e.startsWith("_"))throw new RangeError("Map entries starting with underscore are not allowed: "+e);var o=this.getObject(t);if(!["object","boolean","number","string"].includes("undefined"===typeof n?"undefined":r(n)))throw new TypeError("Unsupported type of value: "+("undefined"===typeof n?"undefined":r(n)));if(g(n)){var i=this.createNestedObjects(n);this.apply({action:"set",type:"map",obj:t,key:e,value:i,link:!0}),this.addOp({action:"link",obj:t,key:e,value:i})}else(o[e]!==n||o[c][e])&&(this.apply({action:"set",type:"map",obj:t,key:e,value:n}),this.addOp({action:"set",obj:t,key:e,value:n}))}},{key:"deleteMapKey",value:function(t,e){void 0!==this.getObject(t)[e]&&(this.apply({action:"remove",type:"map",obj:t,key:e}),this.addOp({action:"del",obj:t,key:e}))}},{key:"insertListItem",value:function(t,e,n){var o=this.getObject(t);if(e<0||e>o.length)throw new RangeError("List index "+e+" is out of bounds for list of length "+o.length);if(!["object","boolean","number","string"].includes("undefined"===typeof n?"undefined":r(n)))throw new TypeError("Unsupported type of value: "+("undefined"===typeof n?"undefined":r(n)));var i=o[l]+1,a=o instanceof d?"text":"list",s=0===e?"_head":p(o,e-1),u=this.actorId+":"+i;if(this.addOp({action:"ins",obj:t,key:s,elem:i}),g(n)){var c=this.createNestedObjects(n);this.apply({action:"insert",type:a,obj:t,index:e,value:c,link:!0,elemId:u}),this.addOp({action:"link",obj:t,key:u,value:c})}else this.apply({action:"insert",type:a,obj:t,index:e,value:n,elemId:u}),this.addOp({action:"set",obj:t,key:u,value:n});this.getObject(t)[l]=i}},{key:"setListIndex",value:function(t,e,n){var o=this.getObject(t);if(e!==o.length){if(e<0||e>o.length)throw new RangeError("List index "+e+" is out of bounds for list of length "+o.length);if(!["object","boolean","number","string"].includes("undefined"===typeof n?"undefined":r(n)))throw new TypeError("Unsupported type of value: "+("undefined"===typeof n?"undefined":r(n)));var i=p(o,e),a=o instanceof d?"text":"list";if(g(n)){var s=this.createNestedObjects(n);this.apply({action:"set",type:a,obj:t,index:e,value:s,link:!0}),this.addOp({action:"link",obj:t,key:i,value:s})}else(o[e]!==n||o[c][e])&&(this.apply({action:"set",type:a,obj:t,index:e,value:n}),this.addOp({action:"set",obj:t,key:i,value:n}))}else this.insertListItem(t,e,n)}},{key:"splice",value:function(t,e,n,r){var o=this.getObject(t),i=o instanceof d?"text":"list";if(n>0){if(e<0||e>o.length-n)throw new RangeError(n+" deletions starting at index "+e+" are out of bounds for list of length "+o.length);for(var a=0;a<n;a++)this.addOp({action:"del",obj:t,key:p(o,e)}),this.apply({action:"remove",type:i,obj:t,index:e}),0===a&&(o=this.getObject(t))}for(var s=0;s<r.length;s++)this.insertListItem(t,e+s,r[s])}}]),t}();t.exports={Context:v}},"./frontend/index.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n("./frontend/constants.js"),a=i.OPTIONS,s=i.CACHE,u=i.INBOUND,c=i.STATE,l=i.OBJECT_ID,f=i.CONFLICTS,h=i.CHANGE,d=i.ELEM_IDS,p=n("./src/common.js"),g=p.ROOT_ID,y=p.isObject,v=n("./src/uuid.js"),m=n("./frontend/apply_patch.js"),_=m.applyDiffs,b=m.updateParentObjects,A=m.cloneRootObject,w=n("./frontend/proxies.js").rootObjectProxy,k=n("./frontend/context.js").Context,E=n("./frontend/text.js").Text;function S(t,e,n,r){var o=e[g];o||(o=A(t[s][g]),e[g]=o),Object.defineProperty(o,"_actorId",{value:T(t)}),Object.defineProperty(o,a,{value:t[a]}),Object.defineProperty(o,s,{value:e}),Object.defineProperty(o,u,{value:n}),Object.defineProperty(o,c,{value:r});var i=!0,l=!1,h=void 0;try{for(var d,p=Object.keys(t[s])[Symbol.iterator]();!(i=(d=p.next()).done);i=!0){var y=d.value;e[y]?(Object.freeze(e[y]),Object.freeze(e[y][f])):e[y]=t[s][y]}}catch(v){l=!0,h=v}finally{try{!i&&p.return&&p.return()}finally{if(l)throw h}}return Object.freeze(e),Object.freeze(n),o}function x(t,e,n,i){var s=T(t);if(!s)throw new Error("Actor ID must be initialized with setActorId() before making a change");var u=Object.assign({},t[c]);u.seq+=1;var l=Object.assign({},u.deps);delete l[s];var f={requestType:e,actor:s,seq:u.seq,deps:l};if(void 0!==i&&(f.message=i),n&&(f.ops=function(t){for(var e={},n=[],r=t.length-1;r>=0;r--){var i=t[r],a=i.obj,s=i.key,u=i.action;["set","del","link"].includes(u)?e[a]?e[a][s]||(e[a][s]=!0,n.push(i)):(e[a]=o({},s,!0),n.push(i)):n.push(i)}return n.reverse()}(n.ops)),t[a].backend){var h=t[a].backend.applyLocalChange(u.backendState,f),d=r(h,2),p=d[0],g=d[1];return u.backendState=p,u.requests=[],[I(t,g,u,!0),f]}var y=Object.assign({},f);return y.before=t,n&&(y.diffs=n.diffs),u.requests=u.requests.slice(),u.requests.push(y),[S(t,n.updated,n.inbound,u),f]}function I(t,e,n,r){var o=T(t),i=Object.assign({},t[u]),a={};if(_(e.diffs,t[s],a,i),b(t[s],a,i),r){var c=e.clock?e.clock[o]:void 0;c&&c>n.seq&&(n.seq=c),n.deps=e.deps,n.canUndo=e.canUndo,n.canRedo=e.canRedo}return S(t,a,i,n)}function C(t,e){var n=[],r=!0,o=!1,i=void 0;try{t:for(var a,s=t.diffs[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u=Object.assign({},u);var c=!0,l=!1,f=void 0;try{for(var h,d=e.diffs[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;if(u.obj===p.obj&&"list"===u.type&&["insert","set","remove"].includes(u.action)&&("insert"===p.action&&p.index<=u.index&&(u.index+=1),"remove"===p.action&&p.index<u.index&&(u.index-=1),"remove"===p.action&&p.index===u.index&&("set"===u.action&&(u.action="insert"),"remove"===u.action)))continue t}}catch(g){l=!0,f=g}finally{try{!c&&d.return&&d.return()}finally{if(l)throw f}}n.push(u)}}catch(g){o=!0,i=g}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}t.diffs=n}function O(t){return t[c].requests.some(function(t){return["undo","redo"].includes(t.requestType)})}function T(t){return t[c].actorId||t[a].actorId}t.exports={init:function(t){if("string"===typeof t)t={actorId:t};else if("undefined"===typeof t)t={};else if(!y(t))throw new TypeError("Unsupported value for init() options: "+t);void 0!==t.actorId||t.deferActorId||(t.actorId=v());var e={},n=o({},g,e),r={seq:0,requests:[],deps:{},canUndo:!1,canRedo:!1};return t.backend&&(r.backendState=t.backend.init()),Object.defineProperty(e,"_actorId",{value:t.actorId}),Object.defineProperty(e,l,{value:g}),Object.defineProperty(e,a,{value:Object.freeze(t)}),Object.defineProperty(e,f,{value:Object.freeze({})}),Object.defineProperty(e,s,{value:Object.freeze(n)}),Object.defineProperty(e,u,{value:Object.freeze({})}),Object.defineProperty(e,c,{value:Object.freeze(r)}),Object.freeze(e)},change:function(t,e,n){if(t[l]!==g)throw new TypeError("The first argument to Automerge.change must be the document root");if(t[h])throw new TypeError("Calls to Automerge.change cannot be nested");if("function"===typeof e&&void 0===n){var r=[n,e];e=r[0],n=r[1]}if(void 0!==e&&"string"!==typeof e)throw new TypeError("Change message must be a string");var o=T(t);if(!o)throw new Error("Actor ID must be initialized with setActorId() before making a change");var i=new k(t,o);return n(w(i)),0===Object.keys(i.updated).length?[t,null]:(b(t[s],i.updated,i.inbound),x(t,"change",i,e))},emptyChange:function(t,e){if(void 0!==e&&"string"!==typeof e)throw new TypeError("Change message must be a string");var n=T(t);if(!n)throw new Error("Actor ID must be initialized with setActorId() before making a change");return x(t,"change",new k(t,n),e)},applyPatch:function(t,e){var n=Object.assign({},t[c]),r=void 0;if(n.requests.length>0)if(r=n.requests[0].before,e.actor===T(t)&&void 0!==e.seq){if(n.requests[0].seq!==e.seq)throw new RangeError("Mismatched sequence number: patch "+e.seq+" does not match next request "+n.requests[0].seq);n.requests=n.requests.slice(1).map(function(t){return Object.assign({},t)})}else n.requests=n.requests.slice().map(function(t){return Object.assign({},t)});else r=t,n.requests=[];if(t[a].backend){if(!e.state)throw new RangeError("When an immediate backend is used, a patch must contain the new backend state");return n.backendState=e.state,n.requests=[],I(t,e,n,!0)}var o=I(r,e,n,!0),i=!0,s=!1,u=void 0;try{for(var l,f=n.requests[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var h=l.value;h.before=o,C(h,e),o=I(h.before,h,n,!1)}}catch(d){s=!0,u=d}finally{try{!i&&f.return&&f.return()}finally{if(s)throw u}}return o},canUndo:function(t){return!!t[c].canUndo&&!O(t)},undo:function(t,e){if(void 0!==e&&"string"!==typeof e)throw new TypeError("Change message must be a string");if(!t[c].canUndo)throw new Error("Cannot undo: there is nothing to be undone");if(O(t))throw new Error("Can only have one undo in flight at any one time");return x(t,"undo",null,e)},canRedo:function(t){return!!t[c].canRedo&&!O(t)},redo:function(t,e){if(void 0!==e&&"string"!==typeof e)throw new TypeError("Change message must be a string");if(!t[c].canRedo)throw new Error("Cannot redo: there is no prior undo");if(O(t))throw new Error("Can only have one redo in flight at any one time");return x(t,"redo",null,e)},getObjectId:function(t){return t[l]},getActorId:T,setActorId:function(t,e){var n=Object.assign({},t[c],{actorId:e});return S(t,{},t[u],n)},getConflicts:function(t){return t[f]},getBackendState:function(t){return t[c].backendState},getElementIds:function(t){return t[d]},Text:E}},"./frontend/proxies.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=n("./src/common.js").ROOT_ID,i=n("./frontend/constants.js").CHANGE,a=n("./frontend/text.js").Text;function s(t){if("string"===typeof t&&/^[0-9]+$/.test(t)&&(t=parseInt(t)),"number"!==typeof t)throw new TypeError("A list index must be a number, but you passed "+JSON.stringify(t));if(t<0||isNaN(t)||t===1/0||t===-1/0)throw new RangeError("A list index must be positive, but you passed "+t);return t}var u={get:function(t,e){var n=t.context,r=t.objectId;return"_inspect"===e?JSON.parse(JSON.stringify(l(n,r))):"_type"===e?"map":"_objectId"===e?r:e===i?n:"_get"===e?n._get:n.getObjectField(r,e)},set:function(t,e,n){var r=t.context,o=t.objectId;return r.setMapKey(o,e,n),!0},deleteProperty:function(t,e){var n=t.context,r=t.objectId;return n.deleteMapKey(r,e),!0},has:function(t,e){var n=t.context,r=t.objectId;return["_type","_objectId",i,"_get"].includes(e)||e in n.getObject(r)},getOwnPropertyDescriptor:function(t,e){var n=t.context,r=t.objectId;if(e in n.getObject(r))return{configurable:!0,enumerable:!0}},ownKeys:function(t){var e=t.context,n=t.objectId;return Object.keys(e.getObject(n))}},c={get:function(t,e){var n=r(t,2),o=n[0],a=n[1];return e===Symbol.iterator?o.getObject(a)[Symbol.iterator]:"_inspect"===e?JSON.parse(JSON.stringify(f(o,a))):"_type"===e?"list":"_objectId"===e?a:e===i?o:"length"===e?o.getObject(a).length:"string"===typeof e&&/^[0-9]+$/.test(e)?o.getObjectField(a,s(e)):function(t,e){for(var n={deleteAt:function(n,r){return t.splice(e,s(n),r||1,[]),this},fill:function(n,r,o){for(var i=t.getObject(e),a=s(r||0);a<s(o||i.length);a++)t.setListIndex(e,a,n);return this},insertAt:function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.splice(e,s(n),0,o),this},pop:function(){var n=t.getObject(e);if(0!=n.length){var r=t.getObjectField(e,n.length-1);return t.splice(e,n.length-1,1,[]),r}},push:function(){for(var n=t.getObject(e),r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.splice(e,n.length,0,o),t.getObject(e).length},shift:function(){if(0!=t.getObject(e).length){var n=t.getObjectField(e,0);return t.splice(e,0,1,[]),n}},splice:function(n,r){var o=t.getObject(e);n=s(n),void 0===r&&(r=o.length-n);for(var i=[],a=0;a<r;a++)i.push(t.getObjectField(e,n+a));for(var u=arguments.length,c=Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];return t.splice(e,n,r,c),i},unshift:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.splice(e,0,0,r),t.getObject(e).length}},r=function(r){var o=t.getObject(e);n[r]=function(){return o[r]()}},o=["entries","keys","values"],i=0;i<o.length;i++)r(o[i]);for(var a=function(r){n[r]=function(){for(var n,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.getObject(e);return(n=s[r]).call.apply(n,[s].concat(i))}},u=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],c=0;c<u.length;c++)a(u[c]);return n}(o,a)[e]},set:function(t,e,n){var o=r(t,2),i=o[0],a=o[1];return i.setListIndex(a,s(e),n),!0},deleteProperty:function(t,e){var n=r(t,2),o=n[0],i=n[1];return o.splice(i,s(e),1,[]),!0},has:function(t,e){var n=r(t,2),o=n[0],a=n[1];return"string"===typeof e&&/^[0-9]+$/.test(e)?s(e)<o.getObject(a).length:["length","_type","_objectId",i].includes(e)},getOwnPropertyDescriptor:function(t,e){if("length"===e)return{};if("_objectId"===e)return{configurable:!0,enumerable:!1};var n=r(t,2),o=n[0],i=n[1],a=o.getObject(i);if("string"===typeof e&&/^[0-9]+$/.test(e)&&s(e)<a.length)return{configurable:!0,enumerable:!0}},ownKeys:function(t){var e=r(t,2),n=e[0],o=e[1],i=n.getObject(o),a=["length","_objectId"];return a.push.apply(a,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Object.keys(i))),a}};function l(t,e){return new Proxy({context:t,objectId:e},u)}function f(t,e){return new Proxy([t,e],c)}function h(t){var e=this.getObject(t);return Array.isArray(e)||e instanceof a?f(this,t):l(this,t)}t.exports={rootObjectProxy:function(t){return t.instantiateObject=h,t._get=function(e){return h.call(t,e)},l(t,o)}}},"./frontend/text.js":function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();for(var o=n("./frontend/constants.js"),i=o.OBJECT_ID,a=o.ELEM_IDS,s=o.MAX_ELEM,u=function(){function t(e,n,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(e,n,r)}return r(t,[{key:"get",value:function(t){return this.elems[t].value}},{key:"getElemId",value:function(t){return this.elems[t].elemId}},{key:Symbol.iterator,value:function(){var t=this.elems,e=-1;return{next:function(){return(e+=1)<t.length?{done:!1,value:t[e].value}:{done:!0}}}}},{key:"length",get:function(){return this.elems.length}}]),t}(),c=function(t){u.prototype[t]=function(){for(var e,n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this)),r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=n[t]).call.apply(e,[n].concat(o))}},l=["concat","every","filter","find","findIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toLocaleString","toString"],f=0;f<l.length;f++){c(l[f])}function h(t,e,n){var r=Object.create(u.prototype);return r[i]=t,r.elems=e||[],r[s]=n||0,r}t.exports={Text:u,getElemId:function(t,e){return t instanceof u?t.getElemId(e):t[a][e]}}},"./node_modules/immutable/dist/immutable.js":function(t,e,n){t.exports=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:W(t)}function r(t){return s(t)?t:V(t)}function o(t){return u(t)?t:Y(t)}function i(t){return a(t)&&!c(t)?t:J(t)}function a(t){return!(!t||!t[f])}function s(t){return!(!t||!t[h])}function u(t){return!(!t||!t[d])}function c(t){return s(t)||u(t)}function l(t){return!(!t||!t[p])}e(r,n),e(o,n),e(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",g=5,y=1<<g,v=y-1,m={},_={value:!1},b={value:!1};function A(t){return t.value=!1,t}function w(t){t&&(t.value=!0)}function k(){}function E(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function S(t){return void 0===t.size&&(t.size=t.__iterate(I)),t.size}function x(t,e){if("number"!==typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?S(t)+e:e}function I(){return!0}function C(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function O(t,e){return B(t,e,0)}function T(t,e){return B(t,e,e)}function B(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var j=0,M=1,N=2,D="function"===typeof Symbol&&Symbol.iterator,L="@@iterator",R=D||L;function P(t){this.next=t}function F(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function U(){return{value:void 0,done:!0}}function z(t){return!!K(t)}function q(t){return t&&"function"===typeof t.next}function Q(t){var e=K(t);return e&&e.call(t)}function K(t){var e=t&&(D&&t[D]||t[L]);if("function"===typeof e)return e}function H(t){return t&&"number"===typeof t.length}function W(t){return null===t||void 0===t?it():a(t)?t.toSeq():function(t){var e=ut(t)||"object"===typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function V(t){return null===t||void 0===t?it().toKeyedSeq():a(t)?s(t)?t.toSeq():t.fromEntrySeq():at(t)}function Y(t){return null===t||void 0===t?it():a(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function J(t){return(null===t||void 0===t?it():a(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=j,P.VALUES=M,P.ENTRIES=N,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[R]=function(){return this},e(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(t,e){return ct(this,t,e,!0)},W.prototype.__iterator=function(t,e){return lt(this,t,e,!0)},e(V,W),V.prototype.toKeyedSeq=function(){return this},e(Y,W),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(t,e){return ct(this,t,e,!1)},Y.prototype.__iterator=function(t,e){return lt(this,t,e,!1)},e(J,W),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},W.isSeq=ot,W.Keyed=V,W.Set=J,W.Indexed=Y;var G,$,X,Z="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function nt(t){this._iterable=t,this.size=t.length||t.size}function rt(t){this._iterator=t,this._iteratorCache=[]}function ot(t){return!(!t||!t[Z])}function it(){return G||(G=new tt([]))}function at(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():q(t)?new rt(t).fromEntrySeq():z(t)?new nt(t).fromEntrySeq():"object"===typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=ut(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function ut(t){return H(t)?new tt(t):q(t)?new rt(t):z(t)?new nt(t):void 0}function ct(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===e(s[1],r?s[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function lt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new P(function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:F(e,r?t[0]:a-1,t[1])})}return t.__iteratorUncached(e,n)}function ft(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,Y(n).map(function(r,o){return t(e,r,o,n)})):dt(n)?e.call(o,r,V(n).map(function(r,o){return t(e,r,o,n)})):n}(e,t,"",{"":t}):ht(t)}function ht(t){return Array.isArray(t)?Y(t).map(ht).toList():dt(t)?V(t).map(ht).toMap():t}function dt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function pt(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!==typeof t.equals||"function"!==typeof e.equals||!t.equals(e))}function gt(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||u(t)!==u(e)||l(t)!==l(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!c(t);if(l(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&pt(o[1],t)&&(n||pt(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var f=!0,h=e.__iterate(function(e,r){if(n?!t.has(e):o?!pt(e,t.get(r,m)):!pt(t.get(r,m),e))return f=!1,!1});return f&&t.size===h}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if($)return $;$=this}}function vt(t,e){if(!t)throw new Error(e)}function mt(t,e,n){if(!(this instanceof mt))return new mt(t,e,n);if(vt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(X)return X;X=this}}function _t(){throw TypeError("Abstract")}function bt(){}function At(){}function wt(){}W.prototype[Z]=!0,e(tt,Y),tt.prototype.get=function(t,e){return this.has(t)?this._array[x(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},tt.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new P(function(){return o>r?{value:void 0,done:!0}:F(t,o,n[e?r-o++:o++])})},e(et,V),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},et.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new P(function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:F(t,a,n[a])})},et.prototype[p]=!0,e(nt,Y),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=Q(n),o=0;if(q(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,o++,this););return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=Q(n);if(!q(r))return new P(U);var o=0;return new P(function(){var e=r.next();return e.done?e:F(t,o++,e.value)})},e(rt,Y),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new P(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return F(t,o,r[o++])})},e(yt,Y),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return pt(this._value,t)},yt.prototype.slice=function(t,e){var n=this.size;return C(t,e,n)?this:new yt(this._value,T(e,n)-O(t,n))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return pt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return pt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},yt.prototype.__iterator=function(t,e){var n=this,r=0;return new P(function(){return r<n.size?F(t,r++,n._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?pt(this._value,t._value):gt(t)},e(mt,Y),mt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},mt.prototype.get=function(t,e){return this.has(t)?this._start+x(this,t)*this._step:e},mt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},mt.prototype.slice=function(t,e){return C(t,e,this.size)?this:(t=O(t,this.size),(e=T(e,this.size))<=t?new mt(0,0):new mt(this.get(t,this._end),this.get(e,this._end),this._step))},mt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},mt.prototype.lastIndexOf=function(t){return this.indexOf(t)},mt.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},mt.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new P(function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:F(t,i++,a)})},mt.prototype.equals=function(t){return t instanceof mt?this._start===t._start&&this._end===t._end&&this._step===t._step:gt(this,t)},e(_t,n),e(bt,_t),e(At,_t),e(wt,_t),_t.Keyed=bt,_t.Indexed=At,_t.Set=wt;var kt="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Et(t){return t>>>1&1073741824|3221225471&t}function St(t){if(!1===t||null===t||void 0===t)return 0;if("function"===typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){if(t!==t||t===1/0)return 0;var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return Et(n)}if("string"===e)return t.length>Mt?function(t){var e=Lt[t];return void 0===e&&(e=xt(t),Dt===Nt&&(Dt=0,Lt={}),Dt++,Lt[t]=e),e}(t):xt(t);if("function"===typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Tt&&void 0!==(e=It.get(t)))return e;if(void 0!==(e=t[jt]))return e;if(!Ot){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[jt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Bt,1073741824&Bt&&(Bt=0),Tt)It.set(t,e);else{if(void 0!==Ct&&!1===Ct(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ot)Object.defineProperty(t,jt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[jt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[jt]=e}}return e}(t);if("function"===typeof t.toString)return xt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function xt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Et(e)}var It,Ct=Object.isExtensible,Ot=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Tt="function"===typeof WeakMap;Tt&&(It=new WeakMap);var Bt=0,jt="__immutablehash__";"function"===typeof Symbol&&(jt=Symbol(jt));var Mt=16,Nt=255,Dt=0,Lt={};function Rt(t){vt(t!==1/0,"Cannot perform this action with an infinite size.")}function Pt(t){return null===t||void 0===t?Xt():Ft(t)&&!l(t)?t:Xt().withMutations(function(e){var n=r(t);Rt(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Ft(t){return!(!t||!t[zt])}e(Pt,bt),Pt.of=function(){var e=t.call(arguments,0);return Xt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},Pt.prototype.toString=function(){return this.__toString("Map {","}")},Pt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Pt.prototype.set=function(t,e){return Zt(this,t,e)},Pt.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Pt.prototype.remove=function(t){return Zt(this,t,m)},Pt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Pt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Pt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===m,a=n.next();if(a.done){var s=i?r:e,u=o(s);return u===s?e:u}vt(i||e&&e.set,"invalid keyPath");var c=a.value,l=i?m:e.get(c,m),f=t(l,n,r,o);return f===l?e:f===m?e.remove(c):(i?Xt():e).set(c,f)}(this,nn(t),e,n);return r===m?void 0:r},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xt()},Pt.prototype.merge=function(){return re(this,void 0,arguments)},Pt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return re(this,e,n)},Pt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"===typeof t.merge?t.merge.apply(t,n):n[n.length-1]})},Pt.prototype.mergeDeep=function(){return re(this,oe,arguments)},Pt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return re(this,ie(e),n)},Pt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Xt(),function(t){return"function"===typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]})},Pt.prototype.sort=function(t){return Oe(He(this,t))},Pt.prototype.sortBy=function(t,e){return Oe(He(this,e,t))},Pt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Pt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new k)},Pt.prototype.asImmutable=function(){return this.__ensureOwner()},Pt.prototype.wasAltered=function(){return this.__altered},Pt.prototype.__iterator=function(t,e){return new Yt(this,t,e)},Pt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},Pt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?$t(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Pt.isMap=Ft;var Ut,zt="@@__IMMUTABLE_MAP__@@",qt=Pt.prototype;function Qt(t,e){this.ownerID=t,this.entries=e}function Kt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Ht(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function Wt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Yt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Gt(t._root)}function Jt(t,e){return F(t,e[0],e[1])}function Gt(t,e){return{node:t,index:0,__prev:e}}function $t(t,e,n,r){var o=Object.create(qt);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Xt(){return Ut||(Ut=$t(0))}function Zt(t,e,n){var r,o;if(t._root){var i=A(_),a=A(b);if(r=te(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===m?-1:1:0)}else{if(n===m)return t;o=1,r=new Qt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?$t(o,r):Xt()}function te(t,e,n,r,o,i,a,s){return t?t.update(e,n,r,o,i,a,s):i===m?t:(w(s),w(a),new Vt(e,r,[o,i]))}function ee(t){return t.constructor===Vt||t.constructor===Wt}function ne(t,e,n,r,o){if(t.keyHash===r)return new Wt(e,r,[t.entry,o]);var i,a=(0===n?t.keyHash:t.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v,u=a===s?[ne(t,e,n+g,r,o)]:(i=new Vt(e,r,o),a<s?[t,i]:[i,t]);return new Kt(e,1<<a|1<<s,u)}function re(t,e,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=r(s);a(s)||(u=u.map(function(t){return ft(t)})),o.push(u)}return ae(t,e,o)}function oe(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):pt(t,e)?t:e}function ie(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return pt(e,o)?e:o}}function ae(t,e,n){return 0===(n=n.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,m,function(t){return t===m?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ue(t,e,n,r){var o=r?t:E(t);return o[e]=n,o}qt[zt]=!0,qt.delete=qt.remove,qt.removeIn=qt.deleteIn,Qt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(pt(n,o[i][0]))return o[i][1];return r},Qt.prototype.update=function(t,e,n,r,o,i,a){for(var s=o===m,u=this.entries,c=0,l=u.length;c<l&&!pt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),!s||1!==u.length){if(!f&&!s&&u.length>=ce)return function(t,e,n,r){t||(t=new k);for(var o=new Vt(t,St(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,u,r,o);var h=t&&t===this.ownerID,d=h?u:E(u);return f?s?c===l-1?d.pop():d[c]=d.pop():d[c]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new Qt(t,d)}},Kt.prototype.get=function(t,e,n,r){void 0===e&&(e=St(n));var o=1<<((0===t?e:e>>>t)&v),i=this.bitmap;return 0===(i&o)?r:this.nodes[se(i&o-1)].get(t+g,e,n,r)},Kt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=St(r));var s=(0===e?n:n>>>e)&v,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&o===m)return this;var f=se(c&u-1),h=this.nodes,d=l?h[f]:void 0,p=te(d,t,e+g,n,r,o,i,a);if(p===d)return this;if(!l&&p&&h.length>=le)return function(t,e,n,r,o){for(var i=0,a=new Array(y),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new Ht(t,i+1,a)}(t,h,c,s,p);if(l&&!p&&2===h.length&&ee(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&ee(p))return p;var _=t&&t===this.ownerID,b=l?p?c:c^u:c|u,A=l?p?ue(h,f,p,_):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(h,f,_):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(h,f,p,_);return _?(this.bitmap=b,this.nodes=A,this):new Kt(t,b,A)},Ht.prototype.get=function(t,e,n,r){void 0===e&&(e=St(n));var o=(0===t?e:e>>>t)&v,i=this.nodes[o];return i?i.get(t+g,e,n,r):r},Ht.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=St(r));var s=(0===e?n:n>>>e)&v,u=o===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=te(l,t,e+g,n,r,o,i,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<fe)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var l=e[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new Kt(t,o,a)}(t,c,h,s)}else h++;var d=t&&t===this.ownerID,p=ue(c,s,f,d);return d?(this.count=h,this.nodes=p,this):new Ht(t,h,p)},Wt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(pt(n,o[i][0]))return o[i][1];return r},Wt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=St(r));var s=o===m;if(n!==this.keyHash)return s?this:(w(a),w(i),ne(this,t,e,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!pt(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(w(a),(s||!f)&&w(i),s&&2===l)return new Vt(t,this.keyHash,u[1^c]);var h=t&&t===this.ownerID,d=h?u:E(u);return f?s?c===l-1?d.pop():d[c]=d.pop():d[c]=[r,o]:d.push([r,o]),h?(this.entries=d,this):new Wt(t,this.keyHash,d)},Vt.prototype.get=function(t,e,n,r){return pt(n,this.entry[0])?this.entry[1]:r},Vt.prototype.update=function(t,e,n,r,o,i,a){var s=o===m,u=pt(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(w(a),s?void w(i):u?t&&t===this.ownerID?(this.entry[1]=o,this):new Vt(t,this.keyHash,[r,o]):(w(i),ne(this,t,e,St(r),[r,o])))},Qt.prototype.iterate=Wt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Kt.prototype.iterate=Ht.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Vt.prototype.iterate=function(t,e){return t(this.entry)},e(Yt,P),Yt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Jt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return Jt(t,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Jt(t,i.entry);e=this._stack=Gt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ce=y/4,le=y/2,fe=y/4;function he(t){var e=we();if(null===t||void 0===t)return e;if(de(t))return t;var n=o(t),r=n.size;return 0===r?e:(Rt(r),r>0&&r<y?Ae(0,r,g,null,new ye(n.toArray())):e.withMutations(function(t){t.setSize(r),n.forEach(function(e,n){return t.set(n,e)})}))}function de(t){return!(!t||!t[pe])}e(he,At),he.of=function(){return this(arguments)},he.prototype.toString=function(){return this.__toString("List [","]")},he.prototype.get=function(t,e){if((t=x(this,t))>=0&&t<this.size){var n=Se(this,t+=this._origin);return n&&n.array[t&v]}return e},he.prototype.set=function(t,e){return function(t,e,n){if((e=x(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?xe(t,e).set(0,n):xe(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=A(b);return e>=Ce(t._capacity)?r=ke(r,t.__ownerID,0,e,n,i):o=ke(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Ae(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},he.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},he.prototype.insert=function(t,e){return this.splice(t,0,e)},he.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):we()},he.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){xe(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},he.prototype.pop=function(){return xe(this,0,-1)},he.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){xe(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},he.prototype.shift=function(){return xe(this,1)},he.prototype.merge=function(){return Ie(this,void 0,arguments)},he.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Ie(this,e,n)},he.prototype.mergeDeep=function(){return Ie(this,oe,arguments)},he.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Ie(this,ie(e),n)},he.prototype.setSize=function(t){return xe(this,0,t)},he.prototype.slice=function(t,e){var n=this.size;return C(t,e,n)?this:xe(this,O(t,n),T(e,n))},he.prototype.__iterator=function(t,e){var n=0,r=be(this,e);return new P(function(){var e=r();return e===_e?{value:void 0,done:!0}:F(t,n++,e)})},he.prototype.__iterate=function(t,e){for(var n,r=0,o=be(this,e);(n=o())!==_e&&!1!==t(n,r++,this););return r},he.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ae(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},he.isList=de;var pe="@@__IMMUTABLE_LIST__@@",ge=he.prototype;function ye(t,e){this.array=t,this.ownerID=e}ge[pe]=!0,ge.delete=ge.remove,ge.setIn=qt.setIn,ge.deleteIn=ge.removeIn=qt.removeIn,ge.update=qt.update,ge.updateIn=qt.updateIn,ge.mergeIn=qt.mergeIn,ge.mergeDeepIn=qt.mergeDeepIn,ge.withMutations=qt.withMutations,ge.asMutable=qt.asMutable,ge.asImmutable=qt.asImmutable,ge.wasAltered=qt.wasAltered,ye.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&v;if(r>=this.array.length)return new ye([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-g,n))===a&&i)return this}if(i&&!o)return this;var s=Ee(this,t);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},ye.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&v;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-g,n))===i&&o===this.array.length-1)return this}var a=Ee(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var ve,me,_e={};function be(t,e){var n=t._origin,r=t._capacity,o=Ce(r),i=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===o?i&&i.array:t&&t.array,u=a>n?0:n-a,c=r-a;return c>y&&(c=y),function(){if(u===c)return _e;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,o,i){var s,u=t&&t.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);return l>y&&(l=y),function(){for(;;){if(s){var t=s();if(t!==_e)return t;s=null}if(c===l)return _e;var n=e?--l:c++;s=a(u&&u[n],o-g,i+(n<<o))}}}(t,s,u)}}function Ae(t,e,n,r,o,i,a){var s=Object.create(ge);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function we(){return ve||(ve=Ae(0,0,g))}function ke(t,e,n,r,o,i){var a,s=r>>>n&v,u=t&&s<t.array.length;if(!u&&void 0===o)return t;if(n>0){var c=t&&t.array[s],l=ke(c,e,n-g,r,o,i);return l===c?t:((a=Ee(t,e)).array[s]=l,a)}return u&&t.array[s]===o?t:(w(i),a=Ee(t,e),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function Ee(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function Se(t,e){if(e>=Ce(t._capacity))return t._tail;if(e<1<<t._level+g){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&v],r-=g;return n}}function xe(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new k,o=t._origin,i=t._capacity,a=o+e,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return t;if(a>=s)return t.clear();for(var u=t._level,c=t._root,l=0;a+l<0;)c=new ye(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=g);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=Ce(i),h=Ce(s);h>=1<<u+g;)c=new ye(c&&c.array.length?[c]:[],r),u+=g;var d=t._tail,p=h<f?Se(t,s-1):h>f?new ye([],r):d;if(d&&h>f&&a<i&&d.array.length){for(var y=c=Ee(c,r),m=u;m>g;m-=g){var _=f>>>m&v;y=y.array[_]=Ee(y.array[_],r)}y.array[f>>>g&v]=d}if(s<i&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=g,c=null,p=p&&p.removeBefore(r,0,a);else if(a>o||h<f){for(l=0;c;){var b=a>>>u&v;if(b!==h>>>u&v)break;b&&(l+=(1<<u)*b),u-=g,c=c.array[b]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&h<f&&(c=c.removeAfter(r,u,h-l)),l&&(a-=l,s-=l)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Ae(a,s,u,c,p)}function Ie(t,e,n){for(var r=[],i=0,s=0;s<n.length;s++){var u=n[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map(function(t){return ft(t)})),r.push(c)}return i>t.size&&(t=t.setSize(i)),ae(t,e,r)}function Ce(t){return t<y?0:t-1>>>g<<g}function Oe(t){return null===t||void 0===t?je():Te(t)?t:je().withMutations(function(e){var n=r(t);Rt(n.size),n.forEach(function(t,n){return e.set(n,t)})})}function Te(t){return Ft(t)&&l(t)}function Be(t,e,n,r){var o=Object.create(Oe.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function je(){return me||(me=Be(Xt(),we()))}function Me(t,e,n){var r,o,i=t._map,a=t._list,s=i.get(e),u=void 0!==s;if(n===m){if(!u)return t;a.size>=y&&a.size>=2*i.size?(o=a.filter(function(t,e){return void 0!==t&&s!==e}),r=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return t;r=i,o=a.set(s,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):Be(r,o)}function Ne(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function De(t){this._iter=t,this.size=t.size}function Le(t){this._iter=t,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Pe(t){var e=Ze(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tn,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===N){var r=t.__iterator(e,n);return new P(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===M?j:M,n)},e}function Fe(t,e,n){var r=Ze(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,m);return i===m?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(N,o);return new P(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return F(r,s,e.call(n,a[1],s,t),o)})},r}function Ue(t,e){var n=Ze(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Pe(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=tn,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function ze(t,e,n,r){var o=Ze(t);return r&&(o.has=function(r){var o=t.get(r,m);return o!==m&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,m);return i!==m&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return t.__iterate(function(t,i,u){if(e.call(n,t,i,u))return s++,o(t,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=t.__iterator(N,i),s=0;return new P(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return F(o,r?c:s++,l,i)}})},o}function qe(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n===1/0?n=o:n|=0),C(e,n,o))return t;var i=O(e,o),a=T(n,o);if(i!==i||a!==a)return qe(t.toSeq().cacheResult(),e,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=Ze(t);return c.size=0===s?s:t.size&&s||void 0,!r&&ot(t)&&s>=0&&(c.get=function(e,n){return(e=x(this,e))>=0&&e<s?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=a++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(e,n){if(0!==s&&n)return this.cacheResult().__iterator(e,n);var o=0!==s&&t.__iterator(e,n),a=0,u=0;return new P(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var t=o.next();return r||e===M?t:F(e,u-1,e===j?void 0:t.value[1],t)})},c}function Qe(t,e,n,r){var o=Ze(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return t.__iterate(function(t,i,c){if(!s||!(s=e.call(n,t,i,c)))return u++,o(t,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(N,i),u=!0,c=0;return new P(function(){var t,i,l;do{if((t=s.next()).done)return r||o===M?t:F(o,c++,o===j?void 0:t.value[1],t);var f=t.value;i=f[0],l=f[1],u&&(u=e.call(n,l,i,a))}while(u);return o===N?t:F(o,i,l,t)})},o}function Ke(t,e,n){var r=Ze(t);return r.__iterateUncached=function(r,o){var i=0,s=!1;return function t(u,c){var l=this;u.__iterate(function(o,u){return(!e||c<e)&&a(o)?t(o,c+1):!1===r(o,n?u:i++,l)&&(s=!0),!s},o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),s=[],u=0;return new P(function(){for(;i;){var t=i.next();if(!1===t.done){var c=t.value;if(r===N&&(c=c[1]),e&&!(s.length<e)||!a(c))return n?t:F(r,u++,c,t);s.push(i),i=c.__iterator(r,o)}else i=s.pop()}return{value:void 0,done:!0}})},r}function He(t,e,n){e||(e=en);var r=s(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?V(i):u(t)?Y(i):J(i)}function We(t,e,n){if(e||(e=en),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Ve(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Ve(e,t,n)?n:t})}function Ve(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function Ye(t,e,r){var o=Ze(t);return o.size=new tt(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(M,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=n(t),Q(o?t.reverse():t)}),a=0,s=!1;return new P(function(){var n;return s||(n=i.map(function(t){return t.next()}),s=n.some(function(t){return t.done})),s?{value:void 0,done:!0}:F(t,a++,e.apply(null,n.map(function(t){return t.value})))})},o}function Je(t,e){return ot(t)?e:t.constructor(e)}function Ge(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function $e(t){return Rt(t.size),S(t)}function Xe(t){return s(t)?r:u(t)?o:i}function Ze(t){return Object.create((s(t)?V:u(t)?Y:J).prototype)}function tn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function en(t,e){return t>e?1:t<e?-1:0}function nn(t){var e=Q(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=Q(n(t))}return e}function rn(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){vt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(n){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Pt(i)},o=r.prototype=Object.create(on);return o.constructor=r,r}e(Oe,Pt),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Oe.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):je()},Oe.prototype.set=function(t,e){return Me(this,t,e)},Oe.prototype.remove=function(t){return Me(this,t,m)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Oe.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Oe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Be(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Oe.isOrderedMap=Te,Oe.prototype[p]=!0,Oe.prototype.delete=Oe.prototype.remove,e(Ne,V),Ne.prototype.get=function(t,e){return this._iter.get(t,e)},Ne.prototype.has=function(t){return this._iter.has(t)},Ne.prototype.valueSeq=function(){return this._iter.valueSeq()},Ne.prototype.reverse=function(){var t=this,e=Ue(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ne.prototype.map=function(t,e){var n=this,r=Fe(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Ne.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?$e(this):0,function(o){return t(o,e?--n:n++,r)}),e)},Ne.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(M,e),r=e?$e(this):0;return new P(function(){var o=n.next();return o.done?o:F(t,e?--r:r++,o.value,o)})},Ne.prototype[p]=!0,e(De,Y),De.prototype.includes=function(t){return this._iter.includes(t)},De.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},De.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e),r=0;return new P(function(){var e=n.next();return e.done?e:F(t,r++,e.value,e)})},e(Le,J),Le.prototype.has=function(t){return this._iter.includes(t)},Le.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},Le.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e);return new P(function(){var e=n.next();return e.done?e:F(t,e.value,e.value,e)})},e(Re,V),Re.prototype.entrySeq=function(){return this._iter.toSeq()},Re.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){Ge(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},Re.prototype.__iterator=function(t,e){var n=this._iter.__iterator(M,e);return new P(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Ge(r);var o=a(r);return F(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},De.prototype.cacheResult=Ne.prototype.cacheResult=Le.prototype.cacheResult=Re.prototype.cacheResult=tn,e(rn,bt),rn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},rn.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},rn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=an(this,Xt()))},rn.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+sn(this));if(this._map&&!this._map.has(t)){var n=this._defaultValues[t];if(e===n)return this}var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:an(this,r)},rn.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:an(this,e)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterator(t,e)},rn.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map(function(t,e){return n.get(e)}).__iterate(t,e)},rn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?an(this,e,t):(this.__ownerID=t,this._map=e,this)};var on=rn.prototype;function an(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function sn(t){return t._name||t.constructor.name||"Record"}function un(t){return null===t||void 0===t?gn():cn(t)&&!l(t)?t:gn().withMutations(function(e){var n=i(t);Rt(n.size),n.forEach(function(t){return e.add(t)})})}function cn(t){return!(!t||!t[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=qt.removeIn,on.merge=qt.merge,on.mergeWith=qt.mergeWith,on.mergeIn=qt.mergeIn,on.mergeDeep=qt.mergeDeep,on.mergeDeepWith=qt.mergeDeepWith,on.mergeDeepIn=qt.mergeDeepIn,on.setIn=qt.setIn,on.update=qt.update,on.updateIn=qt.updateIn,on.withMutations=qt.withMutations,on.asMutable=qt.asMutable,on.asImmutable=qt.asImmutable,e(un,wt),un.of=function(){return this(arguments)},un.fromKeys=function(t){return this(r(t).keySeq())},un.prototype.toString=function(){return this.__toString("Set {","}")},un.prototype.has=function(t){return this._map.has(t)},un.prototype.add=function(t){return dn(this,this._map.set(t,!0))},un.prototype.remove=function(t){return dn(this,this._map.remove(t))},un.prototype.clear=function(){return dn(this,this._map.clear())},un.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},un.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(t){return t.includes(n)})||t.remove(n)})})},un.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return i(t)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(t){return t.includes(n)})&&t.remove(n)})})},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(t){return yn(He(this,t))},un.prototype.sortBy=function(t,e){return yn(He(this,e,t))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},un.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},un.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},un.isSet=cn;var ln,fn="@@__IMMUTABLE_SET__@@",hn=un.prototype;function dn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function gn(){return ln||(ln=pn(Xt()))}function yn(t){return null===t||void 0===t?An():vn(t)?t:An().withMutations(function(e){var n=i(t);Rt(n.size),n.forEach(function(t){return e.add(t)})})}function vn(t){return cn(t)&&l(t)}hn[fn]=!0,hn.delete=hn.remove,hn.mergeDeep=hn.merge,hn.mergeDeepWith=hn.mergeWith,hn.withMutations=qt.withMutations,hn.asMutable=qt.asMutable,hn.asImmutable=qt.asImmutable,hn.__empty=gn,hn.__make=pn,e(yn,un),yn.of=function(){return this(arguments)},yn.fromKeys=function(t){return this(r(t).keySeq())},yn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yn.isOrderedSet=vn;var mn,_n=yn.prototype;function bn(t,e){var n=Object.create(_n);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function An(){return mn||(mn=bn(je()))}function wn(t){return null===t||void 0===t?Cn():kn(t)?t:Cn().unshiftAll(t)}function kn(t){return!(!t||!t[Sn])}_n[p]=!0,_n.__empty=An,_n.__make=bn,e(wn,At),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(t,e){var n=this._head;for(t=x(this,t);n&&t--;)n=n.next;return n?n.value:e},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):In(t,e)},wn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Rt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(e,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(t){return this.pushAll(t)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Cn()},wn.prototype.slice=function(t,e){if(C(t,e,this.size))return this;var n=O(t,this.size),r=T(e,this.size);if(r!==this.size)return At.prototype.slice.call(this,t,e);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):In(o,i)},wn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?In(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},wn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new P(function(){if(r){var e=r.value;return r=r.next,F(t,n++,e)}return{value:void 0,done:!0}})},wn.isStack=kn;var En,Sn="@@__IMMUTABLE_STACK__@@",xn=wn.prototype;function In(t,e,n,r){var o=Object.create(xn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Cn(){return En||(En=In(0))}function On(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}xn[Sn]=!0,xn.withMutations=qt.withMutations,xn.asMutable=qt.asMutable,xn.asImmutable=qt.asImmutable,xn.wasAltered=qt.wasAltered,n.Iterator=P,On(n,{toArray:function(){Rt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new De(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"===typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"===typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Ne(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:function(){Rt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Oe(this.toKeyedSeq())},toOrderedSet:function(){return yn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Le(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(s(this)?this.valueSeq():this)},toList:function(){return he(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Je(this,function(t,e){var n=s(t),o=[t].concat(e).map(function(t){return a(t)?n&&(t=r(t)):t=n?at(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&s(i)||u(t)&&u(i))return i}var c=new tt(o);return n?c=c.toKeyedSeq():u(t)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}(this,e))},includes:function(t){return this.some(function(e){return pt(e,t)})},entries:function(){return this.__iterator(N)},every:function(t,e){Rt(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Je(this,ze(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Rt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Rt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(j)},map:function(t,e){return Je(this,Fe(this,t,e))},reduce:function(t,e,n){var r,o;return Rt(this.size),arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Je(this,Ue(this,!0))},slice:function(t,e){return Je(this,qe(this,t,e,!0))},some:function(t,e){return!this.every(Nn(t),e)},sort:function(t){return Je(this,He(this,t))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return S(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Pt().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}(this,t,e)},equals:function(t){return gt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Mn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Nn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate(function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1}),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(I)},flatMap:function(t,e){return Je(this,function(t,e,n){var r=Xe(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Je(this,Ke(this,t,!0))},fromEntrySeq:function(){return new Re(this)},get:function(t,e){return this.find(function(e,n){return pt(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=nn(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,m):m)===m)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=s(t),o=(l(t)?Oe():Pt()).asMutable();t.__iterate(function(i,a){o.update(e.call(n,i,a,t),function(t){return(t=t||[]).push(r?[a,i]:i),t})});var i=Xe(t);return o.map(function(e){return Je(t,i(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"===typeof t.includes?t:n(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:n(t)).isSubset(this)},keyOf:function(t){return this.findKey(function(e){return pt(e,t)})},keySeq:function(){return this.toSeq().map(jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return We(this,t)},maxBy:function(t,e){return We(this,e,t)},min:function(t){return We(this,t?Dn(t):Pn)},minBy:function(t,e){return We(this,e?Dn(e):Pn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Je(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Je(this,Qe(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Nn(t),e)},sortBy:function(t,e){return Je(this,He(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Je(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Je(this,function(t,e,n){var r=Ze(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate(function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(N,o),s=!0;return new P(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(n,c,u,i)?r===N?t:F(r,u,c,t):(s=!1,{value:void 0,done:!0})})},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Nn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=l(t),n=s(t),r=e?1:0;return function(t,e){return e=kt(e,3432918353),e=kt(e<<15|e>>>-15,461845907),e=kt(e<<13|e>>>-13,5),e=kt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Et((e=kt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Fn(St(t),St(e))|0}:function(t,e){r=r+Fn(St(t),St(e))|0}:e?function(t){r=31*r+St(t)|0}:function(t){r=r+St(t)|0}),r)}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[R]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=Ln,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,On(r,{flip:function(){return Je(this,Pe(this))},mapEntries:function(t,e){var n=this,r=0;return Je(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Je(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var Bn=r.prototype;function jn(t,e){return e}function Mn(t,e){return[e,t]}function Nn(t){return function(){return!t.apply(this,arguments)}}function Dn(t){return function(){return-t.apply(this,arguments)}}function Ln(t){return"string"===typeof t?JSON.stringify(t):String(t)}function Rn(){return E(arguments)}function Pn(t,e){return t<e?1:t>e?-1:0}function Fn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Bn[h]=!0,Bn[R]=Tn.entries,Bn.__toJS=Tn.toObject,Bn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Ln(t)},On(o,{toKeyedSeq:function(){return new Ne(this,!1)},filter:function(t,e){return Je(this,ze(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Je(this,Ue(this,!1))},slice:function(t,e){return Je(this,qe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=O(t,t<0?this.count():this.size);var r=this.slice(0,t);return Je(this,1===n?r:r.concat(E(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Je(this,Ke(this,t,!1))},get:function(t,e){return(t=x(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=x(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Je(this,function(t,e){var n=Ze(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(M,r),a=0;return new P(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?F(n,a++,e):F(n,a++,o.value,o)})},n}(this,t))},interleave:function(){var t=[this].concat(E(arguments)),e=Ye(this.toSeq(),Y.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Je(this,n)},keySeq:function(){return mt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Je(this,Qe(this,t,e,!1))},zip:function(){return Je(this,Ye(this,Rn,[this].concat(E(arguments))))},zipWith:function(t){var e=E(arguments);return e[0]=this,Je(this,Ye(this,t,e))}}),o.prototype[d]=!0,o.prototype[p]=!0,On(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Tn.includes,i.prototype.contains=i.prototype.includes,On(V,r.prototype),On(Y,o.prototype),On(J,i.prototype),On(bt,r.prototype),On(At,o.prototype),On(wt,i.prototype),{Iterable:n,Seq:W,Collection:_t,Map:Pt,OrderedMap:Oe,List:he,Stack:wn,Set:un,OrderedSet:yn,Record:rn,Range:mt,Repeat:yt,is:pt,fromJS:ft}}()},"./node_modules/transit-immutable-js/index.js":function(t,e,n){var r=n("./node_modules/transit-js/transit.js"),o=n("./node_modules/immutable/dist/immutable.js");function i(t,e,n){var r={iM:function(t){for(var e=o.Map().asMutable(),n=0;n<t.length;n+=2)e=e.set(t[n],t[n+1]);return e.asImmutable()},iOM:function(t){for(var e=o.OrderedMap().asMutable(),n=0;n<t.length;n+=2)e=e.set(t[n],t[n+1]);return e.asImmutable()},iL:function(t){return o.List(t)},iS:function(t){return o.Set(t)},iOS:function(t){return o.OrderedSet(t)},iR:function(t){var r=e[t.n];return r?new r(t.v):n(t.n,t.v)}};return t.forEach(function(t){r[t.tag]=t.read}),r}function a(t,e,n){function i(t){var e=0;n&&(t=t.filter(n));var r=new Array(2*t.size);return t.forEach(function(t,n){r[e++]=n,r[e++]=t}),r}var a=r.map([o.Map,r.makeWriteHandler({tag:function(){return"iM"},rep:i}),o.OrderedMap,r.makeWriteHandler({tag:function(){return"iOM"},rep:i}),o.List,r.makeWriteHandler({tag:function(){return"iL"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),o.Set,r.makeWriteHandler({tag:function(){return"iS"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),o.OrderedSet,r.makeWriteHandler({tag:function(){return"iOS"},rep:function(t){return n&&(t=t.filter(n)),t.toArray()}}),Function,r.makeWriteHandler({tag:function(){return"_"},rep:function(){return null}}),"default",r.makeWriteHandler({tag:function(){return"iM"},rep:function(t){if(!("toMap"in t)){var e="Error serializing unrecognized object "+t.toString();throw new Error(e)}return i(t.toMap())}})]);return Object.keys(e).forEach(function(t){a.set(e[t],function(t){return r.makeWriteHandler({tag:function(){return"iR"},rep:function(e){return{n:t,v:e.toObject()}}})}(t))}),t.forEach(function(t){a.set(t.class,r.makeWriteHandler({tag:function(){return t.tag},rep:t.write}))}),a}function s(t,e){var n=JSON.stringify(t);throw new Error(e.replace("%j",n))}function u(t){throw new Error("Tried to deserialize Record type named `"+t+"`, but no type with that name was passed to withRecords()")}function c(t){var e=t.records||{},n=t.filter||!1,r=t.missingRecordHandler||u,o=t.extras||[];return{read:i(o,e,r),write:a(o,e,n),withExtraHandlers:function(t){return function(t){Array.isArray(t)||s(t,"Expected array of handlers, got %j"),t.forEach(function(t){"string"!==typeof t.tag&&s(t,"Expected %j to have property 'tag' which is a string"),"function"!==typeof t.class&&s(t,"Expected %j to have property 'class' which is a constructor function"),"function"!==typeof t.write&&s(t,"Expected %j to have property 'write' which is a function"),"function"!==typeof t.read&&s(t,"Expected %j to have property 'write' which is a function")})}(t),c({extras:o.concat(t),records:e,filter:n,missingRecordHandler:r})},withFilter:function(t){return c({extras:o,records:e,filter:t,missingRecordHandler:r})},withRecords:function(t,e){var r=function(t){var e={};return t.forEach(function(t){var n,r=new t({}),o=(n=r)._name||n.constructor.name||"Record";if(!o||"Record"===o)throw new Error("Cannot (de)serialize Record() without a name");if(e[o])throw new Error("There's already a constructor for a Record named "+o);e[o]=t}),e}(t);return c({extras:o,records:r,filter:n,missingRecordHandler:e})}}}t.exports=function t(e){var n=function(t){return r.reader("json",{mapBuilder:{init:function(){return{}},add:function(t,e,n){return t[e]=n,t},finalize:function(t){return t}},handlers:t})}(e.read),o=function(t){return r.writer("json",{handlers:t})}(e.write);return{toJSON:function(t){return o.write(t)},fromJSON:function(t){return n.read(t)},withExtraHandlers:function(n){return t(e.withExtraHandlers(n))},withFilter:function(n){return t(e.withFilter(n))},withRecords:function(n,r){return t(e.withRecords(n,r))}}}(c({})),t.exports.handlers=c({})},"./node_modules/transit-js/transit.js":function node_modulesTransitJsTransitJs(module,exports,__webpack_require__){(function(global){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,r){if(e){for(n=$jscomp.global,t=t.split("."),r=0;r<t.length-1;r++){var o=t[r];o in n||(n[o]={}),n=n[o]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}},"es6-impl","es3"),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,e){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var n=0,r={next:function(){if(n<t.length){var o=n++;return{value:e(o,t[o]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.entries",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return[t,e]})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3"),$jscomp.polyfill("Array.prototype.values",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return e})}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(t){return void 0!==t},goog.exportPath_=function(t,e,n){t=t.split("."),n=n||goog.global,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)!t.length&&goog.isDef(e)?n[r]=e:n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}},goog.define=function(t,e){var n=e;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,t)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[t]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,t)&&(n=goog.global.CLOSURE_DEFINES[t])),goog.exportPath_(t,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var n=t;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(t,e)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t];if(!goog.implicitNamespaces_[t])return null!=(t=goog.getObjectByName(t))?t:null}return null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){for(var n,r=t.split("."),o=e||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(o[n]))return null;o=o[n]}return o},goog.globalize=function(t,e){var n,r=e||goog.global;for(n in t)r[n]=t[n]},goog.addDependency=function(t,e,n,r){if(goog.DEPENDENCIES_ENABLED){var o;t=t.replace(/\\/g,"/");var i=goog.dependencies_;r&&"boolean"!==typeof r||(r=r?{module:"goog"}:{});for(var a=0;o=e[a];a++)i.nameToPath[o]=t,i.loadFlags[t]=r;for(r=0;e=n[r];r++)t in i.requires||(i.requires[t]={}),i.requires[t][e]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(t);if(!e)throw t="goog.require could not find: "+t,goog.logToConsole_(t),Error(t);goog.writeScripts_(e)}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("SCRIPT"),e=t.length-1;0<=e;--e){var n=t[e].src,r=-1==(r=n.lastIndexOf("?"))?n.length:r;if("base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(t,e){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(t,e)&&(goog.dependencies_.written[t]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.oldIeWaiting_=!1,goog.importProcessedScript_=function(t,e,n){goog.importScript_("",'goog.retrieveAndExec_("'+t+'", '+e+", "+n+");")},goog.queuedModules_=[],goog.wrapModule_=function(t,e){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+t+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+t+"\n"},goog.loadQueuedModules_=function(){var t=goog.queuedModules_.length;if(0<t){var e=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<t;n++)goog.maybeProcessDeferredPath_(e[n])}goog.oldIeWaiting_=!1},goog.maybeProcessDeferredDep_=function(t){goog.isDeferredModule_(t)&&goog.allDepsAreAvailable_(t)&&(t=goog.getPathFromDeps_(t),goog.maybeProcessDeferredPath_(goog.basePath+t))},goog.isDeferredModule_=function(t){var e=(t=goog.getPathFromDeps_(t))&&goog.dependencies_.loadFlags[t]||{},n=e.lang||"es3";return!(!t||"goog"!=e.module&&!goog.needsTranspile_(n))&&goog.basePath+t in goog.dependencies_.deferred},goog.allDepsAreAvailable_=function(t){if((t=goog.getPathFromDeps_(t))&&t in goog.dependencies_.requires)for(var e in goog.dependencies_.requires[t])if(!goog.isProvided_(e)&&!goog.isDeferredModule_(e))return!1;return!0},goog.maybeProcessDeferredPath_=function(t){if(t in goog.dependencies_.deferred){var e=goog.dependencies_.deferred[t];delete goog.dependencies_.deferred[t],goog.globalEval(e)}},goog.loadModuleFromUrl=function(t){goog.retrieveAndExec_(t,!0,!1)},goog.writeScriptSrcNode_=function(t){goog.global.document.write('<script type="text/javascript" src="'+t+'"><\/script>')},goog.appendScriptSrcNode_=function(t){var e=goog.global.document,n=e.createElement("script");n.type="text/javascript",n.src=t,n.defer=!1,n.async=!1,e.head.appendChild(n)},goog.writeScriptTag_=function(t,e){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}if(void 0===e)if(goog.IS_OLD_IE_){goog.oldIeWaiting_=!0;var r=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";n.write('<script type="text/javascript" src="'+t+'"'+r+"><\/script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(t):goog.writeScriptSrcNode_(t);else n.write('<script type="text/javascript">'+goog.protectScriptTag_(e)+"<\/script>");return!0}return!1},goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.needsTranspile_=function(t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(goog.requiresTranspilation_||(goog.requiresTranspilation_=goog.createRequiresTranspilation_()),t in goog.requiresTranspilation_)return goog.requiresTranspilation_[t];throw Error("Unknown language mode: "+t)},goog.requiresTranspilation_=null,goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(t,e){return"complete"==t.readyState&&goog.lastNonModuleScriptIndex_==e&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(t){var e=[],n={},r=goog.dependencies_;!function t(o){if(!(o in r.written||o in r.visited)){if(r.visited[o]=!0,o in r.requires)for(var i in r.requires[o])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);t(r.nameToPath[i])}o in n||(n[o]=!0,e.push(o))}}(t);for(var o=0;o<e.length;o++)t=e[o],goog.dependencies_.written[t]=!0;var i=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,o=0;o<e.length;o++){if(!(t=e[o]))throw goog.moduleLoaderState_=i,Error("Undefined script input");var a=r.loadFlags[t]||{},s=goog.needsTranspile_(a.lang||"es3");"goog"==a.module||s?goog.importProcessedScript_(goog.basePath+t,"goog"==a.module,s):goog.importScript_(goog.basePath+t)}goog.moduleLoaderState_=i},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(t))var n=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),n=goog.loadModuleFromSource_.call(void 0,t)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[r]=n}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(n){return null}},goog.retrieveAndExec_=function(t,e,n){if(!COMPILED){var r=t;t=goog.normalizePath_(t);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,i=goog.loadFileSync_(t);if(null==i)throw Error('Load of "'+t+'" failed');n&&(i=goog.transpile_.call(goog.global,i,t)),i=e?goog.wrapModule_(t,i):i+"\n//# sourceURL="+t,goog.IS_OLD_IE_&&goog.oldIeWaiting_?(goog.dependencies_.deferred[r]=i,goog.queuedModules_.push(r)):o(t,i)}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(eval(f+"\n//# sourceURL="+e),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),d(a,b)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){if("object"==(n=goog.typeOf(t))||"array"==n){if(t.clone)return t.clone();var e,n="array"==n?[]:{};for(e in t)n[e]=goog.cloneObject(t[e]);return n}return t},goog.bindNative_=function(t,e,n){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,n){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var n in e)t[n]=e[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(r){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,n=e.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(e.createTextNode(t)),e.body.appendChild(n),e.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var n=function(t){return goog.cssNameMapping_[t]||t},r=function(t){t=t.split("-");for(var e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e.join("-")};r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(t){return t},r=e?t+"-"+r(e):r(t);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(r):r},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e){return e&&(t=t.replace(/\{\$([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,n){goog.exportPath_(t,e,n)},goog.exportProperty=function(t,e,n){t[e]=n},goog.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return e.prototype[n].apply(t,o)}},goog.base=function(t,e,n){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return r.superClass_.constructor.apply(t,o)}for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var a=t.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[e]===r)i=!0;else if(i)return a.prototype[e].apply(t,o);if(t[e]===r)return t.constructor.prototype[e].apply(t,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var n=e.constructor,r=e.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,t),t&&goog.inherits(n,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),null!=r&&(r instanceof Function?r(n):goog.defineClass.applyProperties_(n,r)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var n=!goog.defineClass.isUnsealable_(e);return function e(){var r=t.apply(this,arguments)||this;return r[goog.UID_PROPERTY_]=r[goog.UID_PROPERTY_],this.constructor===e&&n&&Object.seal instanceof Function&&Object.seal(r),r}},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.createRequiresTranspilation_=function(){function a(t,e){d?c[t]=!0:e()?c[t]=!1:d=c[t]=!0}function b(a){try{return!!eval(a)}catch(g){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var t=e.match(/Edge\/(\d+)(\.\d)*/i);return!(t&&15>Number(t[1]))&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),c},goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xa0"},goog.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.endsWith=function(t,e){var n=t.length-e.length;return 0<=n&&t.indexOf(e,n)==n},goog.string.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.subs=function(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&"~">=t||"\x80"<=t&&"\ufffd">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(t,e){var n=String(t).toLowerCase(),r=String(e).toLowerCase();return n<r?-1:n==r?0:1},goog.string.numberAwareCompare_=function(t,e,n){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var r=t.toLowerCase().match(n),o=e.toLowerCase().match(n),i=Math.min(r.length,o.length),a=0;a<i;a++){n=r[a];var s=o[a];if(n!=s)return t=parseInt(n,10),!isNaN(t)&&(e=parseInt(s,10),!isNaN(e)&&t-e)?t-e:n<s?-1:1}return r.length!=o.length?r.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=t.indexOf("e")&&(t=t.replace(goog.string.E_RE_,"&#101;"))}return t},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},r=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(t,e){var o=n[t];if(o)return o;if("#"==e.charAt(0)){var i=Number("0"+e.substr(1));isNaN(i)||(o=String.fromCharCode(i))}return o||(r.innerHTML=t+" ",o=r.firstChild.nodeValue.slice(0,-1)),n[t]=o})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var n=Number("0"+e.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var n=e.length,r=0;r<n;r++){var o=1==n?e:e.charAt(r);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,n){return n&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),n&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,n,r){if(n&&(t=goog.string.unescapeEntities(t)),r&&t.length>e){r>e&&(r=e);var o=t.length-r;t=t.substring(0,e-r)+"..."+t.substring(o)}else t.length>e&&(r=Math.floor(e/2),o=t.length-r,t=t.substring(0,r+e%2)+"..."+t.substring(o));return n&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],n=0;n<t.length;n++){var r=t.charAt(n),o=r.charCodeAt(0);e[n+1]=goog.string.specialEscapeChars_[r]||(31<o&&127>o?r:goog.string.escapeChar(r))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=goog.string.escapeChar(t.charAt(n));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var n=t;else 256>e?(n="\\x",(16>e||256<e)&&(n+="0")):(n="\\u",4096>e&&(n+="0")),n+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=n},goog.string.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.caseInsensitiveContains=function(t,e){return goog.string.contains(t.toLowerCase(),e.toLowerCase())},goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,n){var r=t;return 0<=e&&e<t.length&&0<n&&(r=t.substr(0,e)+t.substr(e+n,t.length-e-n)),r},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){var n=new RegExp(goog.string.regExpEscape(e),"g");return t.replace(n,"")},goog.string.replaceAll=function(t,e,n){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,n){return-1==(n=(t=goog.isDef(n)?t.toFixed(n):String(t)).indexOf("."))&&(n=t.length),goog.string.repeat("0",Math.max(0,e-n))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(t,e){for(var n=0,r=goog.string.trim(String(t)).split("."),o=goog.string.trim(String(e)).split("."),i=Math.max(r.length,o.length),a=0;0==n&&a<i;a++){var s=r[a]||"",u=o[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=0==s[1].length?0:parseInt(s[1],10);var c=0==u[1].length?0:parseInt(u[1],10);n=goog.string.compareElements_(n,c)||goog.string.compareElements_(0==s[2].length,0==u[2].length)||goog.string.compareElements_(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return n},goog.string.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.string.hashCode=function(t){for(var e=0,n=0;n<t.length;++n)e=31*e+t.charCodeAt(n)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){var n=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return t.replace(new RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(t,e,n){return e+n.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,n){t=t.split(e);for(var r=[];0<n&&t.length;)r.push(t.shift()),n--;return t.length&&r.push(t.join(e)),r},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var n=-1,r=0;r<e.length;r++)if(""!=e[r]){var o=t.lastIndexOf(e[r]);o>n&&(n=o)}return-1==n?t:t.slice(n+1)},goog.string.editDistance=function(t,e){var n=[],r=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)n[o]=o;for(o=0;o<t.length;o++){r[0]=o+1;for(var i=0;i<e.length;i++)r[i+1]=Math.min(r[i]+1,n[i+1]+1,n[i]+Number(t[o]!=e[i]));for(i=0;i<n.length;i++)n[i]=r[i]}return r[e.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){e.unshift(t),goog.debug.Error.call(this,goog.string.subs.apply(null,e)),e.shift(),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(t,e,n,r){var o="Assertion failed";if(n){o+=": "+n;var i=r}else t&&(o+=": "+t,i=e);t=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(t)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(t)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(t)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,n,r){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],n,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},goog.object.forEach=function(t,e,n){for(var r in t)e.call(n,t[r],r,t)},goog.object.filter=function(t,e,n){var r,o={};for(r in t)e.call(n,t[r],r,t)&&(o[r]=t[r]);return o},goog.object.map=function(t,e,n){var r,o={};for(r in t)o[r]=e.call(n,t[r],r,t);return o},goog.object.some=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return!0;return!1},goog.object.every=function(t,e,n){for(var r in t)if(!e.call(n,t[r],r,t))return!1;return!0},goog.object.getCount=function(t){var e,n=0;for(e in t)n++;return n},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n},goog.object.getKeys=function(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n},goog.object.getValueByKeys=function(t,e){for(var n=(r=goog.isArrayLike(e))?e:arguments,r=r?0:1;r<n.length&&(t=t[n[r]],goog.isDef(t));r++);return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var n in t)if(t[n]==e)return!0;return!1},goog.object.findKey=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},goog.object.findValue=function(t,e,n){return(e=goog.object.findKey(t,e,n))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var n;return(n=e in t)&&delete t[e],n},goog.object.add=function(t,e,n){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,n)},goog.object.get=function(t,e,n){return null!==t&&e in t?t[e]:n},goog.object.set=function(t,e,n){t[e]=n},goog.object.setIfUndefined=function(t,e,n){return e in t?t[e]:t[e]=n},goog.object.setWithReturnValueIfNotSet=function(t,e,n){return e in t?t[e]:(n=n(),t[e]=n)},goog.object.equals=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(n in e)if(!(n in t))return!1;return!0},goog.object.clone=function(t){var e,n={};for(e in t)n[e]=t[e];return n},goog.object.unsafeClone=function(t){if("object"==(n=goog.typeOf(t))||"array"==n){if(goog.isFunction(t.clone))return t.clone();var e,n="array"==n?[]:{};for(e in t)n[e]=goog.object.unsafeClone(t[e]);return n}return t},goog.object.transpose=function(t){var e,n={};for(e in t)n[t[e]]=e;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])t[n]=r[n];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)n=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var n={},r=0;r<e;r+=2)n[arguments[r]]=arguments[r+1];return n},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},r=0;r<e;r++)n[arguments[r]]=!0;return n},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,n){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var r={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||n);){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++)r[o[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(r)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(n){}return!1},goog.reflect.cache=function(t,e,n,r){return r=r?r(e):e,Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=n(e)},goog.math={},goog.math.Long=function(t,e){this.low_=0|t,this.high_=0|e},goog.math.Long.IntCache_={},goog.math.Long.valueCache_={},goog.math.Long.getCachedIntValue_=function(t){return goog.reflect.cache(goog.math.Long.IntCache_,t,function(t){return new goog.math.Long(t,0>t?-1:0)})},goog.math.Long.MAX_VALUE_FOR_RADIX_="  111111111111111111111111111111111111111111111111111111111111111 2021110011022210012102010021220101220221 13333333333333333333333333333333 1104332401304422434310311212 1540241003031030222122211 22341010611245052052300 777777777777777777777 67404283172107811827 9223372036854775807 1728002635214590697 41a792678515120367 10b269549075433c37 4340724c6c71dc7a7 160e2ad3246366807 7fffffffffffffff 33d3d8307b214008 16agh595df825fa7 ba643dci0ffeehh 5cbfjia3fh26ja7 2heiciiie82dh97 1adaibb21dckfa7 i6k448cf4192c2 acd772jnc9l0l7 64ie1focnn5g77 3igoecjbmca687 27c48l5b37oaop 1bk39f3ah3dmq7 q1se8f0m04isb hajppbc1fc207 bm03i95hia437 7vvvvvvvvvvvv 5hg4ck9jd4u37 3tdtk1v8j6tpp 2pijmikexrxp7 1y2p0ij32e8e7".split(" "),goog.math.Long.MIN_VALUE_FOR_RADIX_="  -1000000000000000000000000000000000000000000000000000000000000000 -2021110011022210012102010021220101220222 -20000000000000000000000000000000 -1104332401304422434310311213 -1540241003031030222122212 -22341010611245052052301 -1000000000000000000000 -67404283172107811828 -9223372036854775808 -1728002635214590698 -41a792678515120368 -10b269549075433c38 -4340724c6c71dc7a8 -160e2ad3246366808 -8000000000000000 -33d3d8307b214009 -16agh595df825fa8 -ba643dci0ffeehi -5cbfjia3fh26ja8 -2heiciiie82dh98 -1adaibb21dckfa8 -i6k448cf4192c3 -acd772jnc9l0l8 -64ie1focnn5g78 -3igoecjbmca688 -27c48l5b37oaoq -1bk39f3ah3dmq8 -q1se8f0m04isc -hajppbc1fc208 -bm03i95hia438 -8000000000000 -5hg4ck9jd4u38 -3tdtk1v8j6tpq -2pijmikexrxp8 -1y2p0ij32e8e8".split(" "),goog.math.Long.fromInt=function(t){var e=0|t;return goog.asserts.assert(t===e,"value should be a 32-bit integer"),-128<=e&&128>e?goog.math.Long.getCachedIntValue_(e):new goog.math.Long(e,0>e?-1:0)},goog.math.Long.fromNumber=function(t){return isNaN(t)?goog.math.Long.getZero():t<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMinValue():t+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.getMaxValue():0>t?goog.math.Long.fromNumber(-t).negate():new goog.math.Long(t%goog.math.Long.TWO_PWR_32_DBL_|0,t/goog.math.Long.TWO_PWR_32_DBL_|0)},goog.math.Long.fromBits=function(t,e){return new goog.math.Long(t,e)},goog.math.Long.fromString=function(t,e){if(0==t.length)throw Error("number format error: empty string");var n=e||10;if(2>n||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return goog.math.Long.fromString(t.substring(1),n).negate();if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character: '+t);for(var r=goog.math.Long.fromNumber(Math.pow(n,8)),o=goog.math.Long.getZero(),i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+a),n);8>a?(a=goog.math.Long.fromNumber(Math.pow(n,a)),o=o.multiply(a).add(goog.math.Long.fromNumber(s))):o=(o=o.multiply(r)).add(goog.math.Long.fromNumber(s))}return o},goog.math.Long.isStringInRange=function(t,e){var n=e||10;if(2>n||36<n)throw Error("radix out of range: "+n);return n="-"==t.charAt(0)?goog.math.Long.MIN_VALUE_FOR_RADIX_[n]:goog.math.Long.MAX_VALUE_FOR_RADIX_[n],t.length<n.length||t.length==n.length&&t<=n},goog.math.Long.TWO_PWR_16_DBL_=65536,goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_,goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_,goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2,goog.math.Long.getZero=function(){return goog.math.Long.getCachedIntValue_(0)},goog.math.Long.getOne=function(){return goog.math.Long.getCachedIntValue_(1)},goog.math.Long.getNegOne=function(){return goog.math.Long.getCachedIntValue_(-1)},goog.math.Long.getMaxValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MAX_VALUE,function(){return goog.math.Long.fromBits(-1,2147483647)})},goog.math.Long.getMinValue=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.MIN_VALUE,function(){return goog.math.Long.fromBits(0,-2147483648)})},goog.math.Long.getTwoPwr24=function(){return goog.reflect.cache(goog.math.Long.valueCache_,goog.math.Long.ValueCacheId_.TWO_PWR_24,function(){return goog.math.Long.fromInt(16777216)})},goog.math.Long.prototype.toInt=function(){return this.low_},goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},goog.math.Long.prototype.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.getMinValue())){var e=goog.math.Long.fromNumber(t),n=this.div(e);return e=n.multiply(e).subtract(this),n.toString(t)+e.toInt().toString(t)}return"-"+this.negate().toString(t)}n=goog.math.Long.fromNumber(Math.pow(t,6)),e=this;for(var r="";;){var o=e.div(n),i=(e.subtract(o.multiply(n)).toInt()>>>0).toString(t);if((e=o).isZero())return i+r;for(;6>i.length;)i="0"+i;r=""+i+r}},goog.math.Long.prototype.getHighBits=function(){return this.high_},goog.math.Long.prototype.getLowBits=function(){return this.low_},goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_},goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.getMinValue())?64:this.negate().getNumBitsAbs();for(var t=0!=this.high_?this.high_:this.low_,e=31;0<e&&0==(t&1<<e);e--);return 0!=this.high_?e+33:e+1},goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},goog.math.Long.prototype.isNegative=function(){return 0>this.high_},goog.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},goog.math.Long.prototype.equals=function(t){return this.high_==t.high_&&this.low_==t.low_},goog.math.Long.prototype.notEquals=function(t){return this.high_!=t.high_||this.low_!=t.low_},goog.math.Long.prototype.lessThan=function(t){return 0>this.compare(t)},goog.math.Long.prototype.lessThanOrEqual=function(t){return 0>=this.compare(t)},goog.math.Long.prototype.greaterThan=function(t){return 0<this.compare(t)},goog.math.Long.prototype.greaterThanOrEqual=function(t){return 0<=this.compare(t)},goog.math.Long.prototype.compare=function(t){if(this.equals(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.subtract(t).isNegative()?-1:1},goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.getMinValue())?goog.math.Long.getMinValue():this.not().add(goog.math.Long.getOne())},goog.math.Long.prototype.add=function(t){var e=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,o=t.high_>>>16,i=65535&t.high_,a=t.low_>>>16;return r=0+((a=0+((t=(65535&this.low_)+(65535&t.low_)+0)>>>16)+(r+a))>>>16),e=0+((r+=n+i)>>>16)+(e+o)&65535,goog.math.Long.fromBits((65535&a)<<16|65535&t,e<<16|65535&r)},goog.math.Long.prototype.subtract=function(t){return this.add(t.negate())},goog.math.Long.prototype.multiply=function(t){if(this.isZero()||t.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue()))return t.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(t.equals(goog.math.Long.getMinValue()))return this.isOdd()?goog.math.Long.getMinValue():goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(goog.math.Long.getTwoPwr24())&&t.lessThan(goog.math.Long.getTwoPwr24()))return goog.math.Long.fromNumber(this.toNumber()*t.toNumber());var e=this.high_>>>16,n=65535&this.high_,r=this.low_>>>16,o=65535&this.low_,i=t.high_>>>16,a=65535&t.high_,s=t.low_>>>16,u=0+o*(t=65535&t.low_),c=0+(u>>>16)+r*t,l=0+(c>>>16);l+=(c=(65535&c)+o*s)>>>16;var f=0+((l+=n*t)>>>16);return f=(f+=(l=(65535&l)+r*s)>>>16)+((l=(65535&l)+o*a)>>>16)+(e*t+n*s+r*a+o*i)&65535,goog.math.Long.fromBits((65535&c)<<16|65535&u,f<<16|65535&l)},goog.math.Long.prototype.div=function(t){if(t.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.getZero();if(this.equals(goog.math.Long.getMinValue())){if(t.equals(goog.math.Long.getOne())||t.equals(goog.math.Long.getNegOne()))return goog.math.Long.getMinValue();if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getOne();var e=this.shiftRight(1);if((e=e.div(t).shiftLeft(1)).equals(goog.math.Long.getZero()))return t.isNegative()?goog.math.Long.getOne():goog.math.Long.getNegOne();var n=this.subtract(t.multiply(e));return e.add(n.div(t))}if(t.equals(goog.math.Long.getMinValue()))return goog.math.Long.getZero();if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();var r=goog.math.Long.getZero();for(n=this;n.greaterThanOrEqual(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var o=48>=(o=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,o-48),i=goog.math.Long.fromNumber(e),a=i.multiply(t);a.isNegative()||a.greaterThan(n);)e-=o,a=(i=goog.math.Long.fromNumber(e)).multiply(t);i.isZero()&&(i=goog.math.Long.getOne()),r=r.add(i),n=n.subtract(a)}return r},goog.math.Long.prototype.modulo=function(t){return this.subtract(this.div(t).multiply(t))},goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,~this.high_)},goog.math.Long.prototype.and=function(t){return goog.math.Long.fromBits(this.low_&t.low_,this.high_&t.high_)},goog.math.Long.prototype.or=function(t){return goog.math.Long.fromBits(this.low_|t.low_,this.high_|t.high_)},goog.math.Long.prototype.xor=function(t){return goog.math.Long.fromBits(this.low_^t.low_,this.high_^t.high_)},goog.math.Long.prototype.shiftLeft=function(t){if(0==(t&=63))return this;var e=this.low_;return 32>t?goog.math.Long.fromBits(e<<t,this.high_<<t|e>>>32-t):goog.math.Long.fromBits(0,e<<t-32)},goog.math.Long.prototype.shiftRight=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>t):goog.math.Long.fromBits(e>>t-32,0<=e?0:-1)},goog.math.Long.prototype.shiftRightUnsigned=function(t){if(0==(t&=63))return this;var e=this.high_;return 32>t?goog.math.Long.fromBits(this.low_>>>t|e<<32-t,e>>>t):32==t?goog.math.Long.fromBits(e,0):goog.math.Long.fromBits(e>>>t-32,0)},goog.math.Long.ValueCacheId_={MAX_VALUE:1,MIN_VALUE:2,TWO_PWR_24:6};var com={cognitect:{}};com.cognitect.transit={},com.cognitect.transit.delimiters={},com.cognitect.transit.delimiters.ESC="~",com.cognitect.transit.delimiters.TAG="#",com.cognitect.transit.delimiters.SUB="^",com.cognitect.transit.delimiters.RES="`",com.cognitect.transit.delimiters.ESC_TAG="~#",com.cognitect.transit.caching={},com.cognitect.transit.caching.MIN_SIZE_CACHEABLE=3,com.cognitect.transit.caching.BASE_CHAR_IDX=48,com.cognitect.transit.caching.CACHE_CODE_DIGITS=44,com.cognitect.transit.caching.MAX_CACHE_ENTRIES=com.cognitect.transit.caching.CACHE_CODE_DIGITS*com.cognitect.transit.caching.CACHE_CODE_DIGITS,com.cognitect.transit.caching.MAX_CACHE_SIZE=4096,com.cognitect.transit.caching.isCacheable=function(t,e){if(t.length>com.cognitect.transit.caching.MIN_SIZE_CACHEABLE){if(e)return!0;var n=t.charAt(0),r=t.charAt(1);return n===com.cognitect.transit.delimiters.ESC&&(":"===r||"$"===r||"#"===r)}return!1},com.cognitect.transit.caching.idxToCode=function(t){var e=Math.floor(t/com.cognitect.transit.caching.CACHE_CODE_DIGITS);return t=String.fromCharCode(t%com.cognitect.transit.caching.CACHE_CODE_DIGITS+com.cognitect.transit.caching.BASE_CHAR_IDX),0===e?com.cognitect.transit.delimiters.SUB+t:com.cognitect.transit.delimiters.SUB+String.fromCharCode(e+com.cognitect.transit.caching.BASE_CHAR_IDX)+t},com.cognitect.transit.caching.WriteCache=function(){this.cacheSize=this.gen=this.idx=0,this.cache={}},com.cognitect.transit.caching.WriteCache.prototype.write=function(t,e){if(com.cognitect.transit.caching.isCacheable(t,e)){this.cacheSize===com.cognitect.transit.caching.MAX_CACHE_SIZE?(this.clear(),this.gen=0,this.cache={}):this.idx===com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&this.clear();var n=this.cache[t];return null==n?(this.cache[t]=[com.cognitect.transit.caching.idxToCode(this.idx),this.gen],this.idx++,t):n[1]!=this.gen?(n[1]=this.gen,n[0]=com.cognitect.transit.caching.idxToCode(this.idx),this.idx++,t):n[0]}return t},com.cognitect.transit.caching.WriteCache.prototype.clear=function(){this.idx=0,this.gen++},com.cognitect.transit.caching.writeCache=function(){return new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.caching.isCacheCode=function(t){return t.charAt(0)===com.cognitect.transit.delimiters.SUB&&" "!==t.charAt(1)},com.cognitect.transit.caching.codeToIdx=function(t){return 2===t.length?t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX:(t.charCodeAt(1)-com.cognitect.transit.caching.BASE_CHAR_IDX)*com.cognitect.transit.caching.CACHE_CODE_DIGITS+(t=t.charCodeAt(2)-com.cognitect.transit.caching.BASE_CHAR_IDX)},com.cognitect.transit.caching.ReadCache=function(){this.idx=0,this.cache=[]},com.cognitect.transit.caching.ReadCache.prototype.write=function(t,e){return this.idx==com.cognitect.transit.caching.MAX_CACHE_ENTRIES&&(this.idx=0),this.cache[this.idx]=t,this.idx++,t},com.cognitect.transit.caching.ReadCache.prototype.read=function(t,e){return this.cache[com.cognitect.transit.caching.codeToIdx(t)]},com.cognitect.transit.caching.ReadCache.prototype.clear=function(){this.idx=0},com.cognitect.transit.caching.readCache=function(){return new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.util={},com.cognitect.transit.util.objectKeys="undefined"!=typeof Object.keys?function(t){return Object.keys(t)}:function(t){return goog.object.getKeys(t)},com.cognitect.transit.util.isArray="undefined"!=typeof Array.isArray?function(t){return Array.isArray(t)}:function(t){return"array"===goog.typeOf(t)},com.cognitect.transit.util.chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",com.cognitect.transit.util.randInt=function(t){return Math.round(Math.random()*t)},com.cognitect.transit.util.randHex=function(){return com.cognitect.transit.util.randInt(15).toString(16)},com.cognitect.transit.util.randomUUID=function(){var t=(8|3&com.cognitect.transit.util.randInt(14)).toString(16);return com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-4"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+t+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+"-"+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()+com.cognitect.transit.util.randHex()},com.cognitect.transit.util.btoa=function(t){if("undefined"!=typeof btoa)return btoa(t);t=String(t);for(var e,n,r=0,o=com.cognitect.transit.util.chars,i="";t.charAt(0|r)||(o="=",r%1);i+=o.charAt(63&e>>8-r%1*8)){if(255<(n=t.charCodeAt(r+=.75)))throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return i},com.cognitect.transit.util.atob=function(t){if("undefined"!=typeof atob)return atob(t);if(1==(t=String(t).replace(/=+$/,"")).length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,n,r=0,o=0,i="";n=t.charAt(o++);~n&&(e=r%4?64*e+n:n,r++%4)?i+=String.fromCharCode(255&e>>(-2*r&6)):0)n=com.cognitect.transit.util.chars.indexOf(n);return i},com.cognitect.transit.util.Uint8ToBase64=function(t){for(var e,n=0,r=t.length,o="";n<r;)e=t.subarray(n,Math.min(n+32768,r)),o+=String.fromCharCode.apply(null,e),n+=32768;return com.cognitect.transit.util.btoa(o)},com.cognitect.transit.util.Base64ToUint8=function(t){for(var e=(t=com.cognitect.transit.util.atob(t)).length,n=new Uint8Array(e),r=0;r<e;r++){var o=t.charCodeAt(r);n[r]=o}return n},com.cognitect.transit.eq={},com.cognitect.transit.eq.hashCodeProperty="transit$hashCode$",com.cognitect.transit.eq.hashCodeCounter=1,com.cognitect.transit.eq.equals=function(t,e){if(null==t)return null==e;if(t===e)return!0;if("object"===typeof t){if(com.cognitect.transit.util.isArray(t)){if(com.cognitect.transit.util.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!com.cognitect.transit.eq.equals(t[n],e[n]))return!1;return!0}return!1}if(t.com$cognitect$transit$equals)return t.com$cognitect$transit$equals(e);if(null!=e&&"object"===typeof e){if(e.com$cognitect$transit$equals)return e.com$cognitect$transit$equals(t);n=0;var r,o=com.cognitect.transit.util.objectKeys(e).length;for(r in t)if(t.hasOwnProperty(r)&&(n++,!e.hasOwnProperty(r)||!com.cognitect.transit.eq.equals(t[r],e[r])))return!1;return n===o}}return!1},com.cognitect.transit.eq.hashCombine=function(t,e){return t^e+2654435769+(t<<6)+(t>>2)},com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=0,com.cognitect.transit.eq.STR_CACHE_MAX=256,com.cognitect.transit.eq.hashString=function(t){var e=com.cognitect.transit.eq.stringCodeCache[t];if(null!=e)return e;for(var n=e=0;n<t.length;++n)e=31*e+t.charCodeAt(n),e%=4294967296;return com.cognitect.transit.eq.stringCodeCacheSize++,com.cognitect.transit.eq.stringCodeCacheSize>=com.cognitect.transit.eq.STR_CACHE_MAX&&(com.cognitect.transit.eq.stringCodeCache={},com.cognitect.transit.eq.stringCodeCacheSize=1),com.cognitect.transit.eq.stringCodeCache[t]=e},com.cognitect.transit.eq.hashMapLike=function(t){var e=0;if(null!=t.forEach)t.forEach(function(t,n,r){e=(e+(com.cognitect.transit.eq.hashCode(n)^com.cognitect.transit.eq.hashCode(t)))%4503599627370496});else for(var n=com.cognitect.transit.util.objectKeys(t),r=0;r<n.length;r++){var o=n[r],i=t[o];e=(e+(com.cognitect.transit.eq.hashCode(o)^com.cognitect.transit.eq.hashCode(i)))%4503599627370496}return e},com.cognitect.transit.eq.hashArrayLike=function(t){var e=0;if(com.cognitect.transit.util.isArray(t))for(var n=0;n<t.length;n++)e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t[n]));else t.forEach&&t.forEach(function(t,n){e=com.cognitect.transit.eq.hashCombine(e,com.cognitect.transit.eq.hashCode(t))});return e},com.cognitect.transit.eq.hashCode=function(t){if(null==t)return 0;switch(typeof t){case"number":return t;case"boolean":return!0===t?1:0;case"string":return com.cognitect.transit.eq.hashString(t);case"function":var e=t[com.cognitect.transit.eq.hashCodeProperty];return e||(e=com.cognitect.transit.eq.hashCodeCounter,"undefined"!=typeof Object.defineProperty?Object.defineProperty(t,com.cognitect.transit.eq.hashCodeProperty,{value:e,enumerable:!1}):t[com.cognitect.transit.eq.hashCodeProperty]=e,com.cognitect.transit.eq.hashCodeCounter++),e;default:return t instanceof Date?t.valueOf():com.cognitect.transit.util.isArray(t)?com.cognitect.transit.eq.hashArrayLike(t):t.com$cognitect$transit$hashCode?t.com$cognitect$transit$hashCode():com.cognitect.transit.eq.hashMapLike(t)}},com.cognitect.transit.eq.extendToEQ=function(t,e){return t.com$cognitect$transit$hashCode=e.hashCode,t.com$cognitect$transit$equals=e.equals,t},com.cognitect.transit.types={},com.cognitect.transit.types.ITERATOR="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",com.cognitect.transit.types.TaggedValue=function(t,e){this.tag=t,this.rep=e,this.hashCode=-1},com.cognitect.transit.types.TaggedValue.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"},com.cognitect.transit.types.TaggedValue.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.TaggedValue.prototype.equiv=com.cognitect.transit.types.TaggedValue.prototype.equiv,com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&(this.tag===t.tag&&com.cognitect.transit.eq.equals(this.rep,t.rep))},com.cognitect.transit.types.TaggedValue.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCombine(com.cognitect.transit.eq.hashCode(this.tag),com.cognitect.transit.eq.hashCode(this.rep))),this.hashCode},com.cognitect.transit.types.taggedValue=function(t,e){return new com.cognitect.transit.types.TaggedValue(t,e)},com.cognitect.transit.types.isTaggedValue=function(t){return t instanceof com.cognitect.transit.types.TaggedValue},com.cognitect.transit.types.nullValue=function(){return null},com.cognitect.transit.types.boolValue=function(t){return"t"===t},com.cognitect.transit.types.MAX_INT=goog.math.Long.fromString("9007199254740991"),com.cognitect.transit.types.MIN_INT=goog.math.Long.fromString("-9007199254740991"),com.cognitect.transit.types.intValue=function(t){return"number"===typeof t||t instanceof goog.math.Long?t:(t=goog.math.Long.fromString(t,10)).greaterThan(com.cognitect.transit.types.MAX_INT)||t.lessThan(com.cognitect.transit.types.MIN_INT)?t:t.toNumber()},goog.math.Long.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},goog.math.Long.prototype.equiv=goog.math.Long.prototype.equiv,goog.math.Long.prototype.com$cognitect$transit$equals=function(t){return t instanceof goog.math.Long&&this.equals(t)},goog.math.Long.prototype.com$cognitect$transit$hashCode=function(){return this.toInt()},com.cognitect.transit.types.isInteger=function(t){return t instanceof goog.math.Long||"number"===typeof t&&!isNaN(t)&&1/0!==t&&parseFloat(t)===parseInt(t,10)},com.cognitect.transit.types.floatValue=function(t){return parseFloat(t)},com.cognitect.transit.types.bigInteger=function(t){return com.cognitect.transit.types.taggedValue("n",t)},com.cognitect.transit.types.isBigInteger=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"n"===t.tag},com.cognitect.transit.types.bigDecimalValue=function(t){return com.cognitect.transit.types.taggedValue("f",t)},com.cognitect.transit.types.isBigDecimal=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"f"===t.tag},com.cognitect.transit.types.charValue=function(t){return t},com.cognitect.transit.types.Keyword=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Keyword.prototype.toString=function(){return":"+this._name},com.cognitect.transit.types.Keyword.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Keyword.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Keyword.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Keyword.prototype.equiv=com.cognitect.transit.types.Keyword.prototype.equiv,com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Keyword&&this._name==t._name},com.cognitect.transit.types.Keyword.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.keyword=function(t){return new com.cognitect.transit.types.Keyword(t)},com.cognitect.transit.types.isKeyword=function(t){return t instanceof com.cognitect.transit.types.Keyword},com.cognitect.transit.types.Symbol=function(t){this._name=t,this.hashCode=-1},com.cognitect.transit.types.Symbol.prototype.namespace=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(0,t):null},com.cognitect.transit.types.Symbol.prototype.name=function(){var t=this._name.indexOf("/");return-1!=t?this._name.substring(t+1,this._name.length):this._name},com.cognitect.transit.types.Symbol.prototype.toString=function(){return this._name},com.cognitect.transit.types.Symbol.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.Symbol.prototype.equiv=com.cognitect.transit.types.Symbol.prototype.equiv,com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.Symbol&&this._name==t._name},com.cognitect.transit.types.Symbol.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this._name)),this.hashCode},com.cognitect.transit.types.symbol=function(t){return new com.cognitect.transit.types.Symbol(t)},com.cognitect.transit.types.isSymbol=function(t){return t instanceof com.cognitect.transit.types.Symbol},com.cognitect.transit.types.hexFor=function(t,e,n){var r="";n=n||e+1;for(var o=8*(7-e),i=goog.math.Long.fromInt(255).shiftLeft(o);e<n;e++,o-=8,i=i.shiftRightUnsigned(8)){var a=t.and(i).shiftRightUnsigned(o).toString(16);1==a.length&&(a="0"+a),r+=a}return r},com.cognitect.transit.types.UUID=function(t,e){this.high=t,this.low=e,this.hashCode=-1},com.cognitect.transit.types.UUID.prototype.getLeastSignificantBits=function(){return this.low},com.cognitect.transit.types.UUID.prototype.getMostSignificantBits=function(){return this.high},com.cognitect.transit.types.UUID.prototype.toString=function(){var t=this.high,e=this.low,n=com.cognitect.transit.types.hexFor(t,0,4)+"-";return n+=com.cognitect.transit.types.hexFor(t,4,6)+"-",n+=com.cognitect.transit.types.hexFor(t,6,8)+"-",(n+=com.cognitect.transit.types.hexFor(e,0,2)+"-")+com.cognitect.transit.types.hexFor(e,2,8)},com.cognitect.transit.types.UUID.prototype.equiv=function(t){return com.cognitect.transit.eq.equals(this,t)},com.cognitect.transit.types.UUID.prototype.equiv=com.cognitect.transit.types.UUID.prototype.equiv,com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.UUID&&this.high.equals(t.high)&&this.low.equals(t.low)},com.cognitect.transit.types.UUID.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashCode(this.toString())),this.hashCode},com.cognitect.transit.types.UUIDfromString=function(t){var e,n;t=t.replace(/-/g,"");var r=e=0;for(n=24;8>r;r+=2,n-=8)e|=parseInt(t.substring(r,r+2),16)<<n;var o=0;for(r=8,n=24;16>r;r+=2,n-=8)o|=parseInt(t.substring(r,r+2),16)<<n;var i=goog.math.Long.fromBits(o,e);for(e=0,r=16,n=24;24>r;r+=2,n-=8)e|=parseInt(t.substring(r,r+2),16)<<n;for(o=0,n=r=24;32>r;r+=2,n-=8)o|=parseInt(t.substring(r,r+2),16)<<n;return t=goog.math.Long.fromBits(o,e),new com.cognitect.transit.types.UUID(i,t)},com.cognitect.transit.types.uuid=function(t){return com.cognitect.transit.types.UUIDfromString(t)},com.cognitect.transit.types.isUUID=function(t){return t instanceof com.cognitect.transit.types.UUID},com.cognitect.transit.types.date=function(t){return t="number"===typeof t?t:parseInt(t,10),new Date(t)},com.cognitect.transit.types.verboseDate=function(t){return new Date(t)},Date.prototype.com$cognitect$transit$equals=function(t){return t instanceof Date&&this.valueOf()===t.valueOf()},Date.prototype.com$cognitect$transit$hashCode=function(){return this.valueOf()},com.cognitect.transit.types.binary=function(t,e){return e&&!1===e.preferBuffers||"undefined"==typeof goog.global.Buffer?"undefined"!=typeof Uint8Array?com.cognitect.transit.util.Base64ToUint8(t):com.cognitect.transit.types.taggedValue("b",t):new goog.global.Buffer(t,"base64")},com.cognitect.transit.types.isBinary=function(t){return"undefined"!=typeof goog.global.Buffer&&t instanceof goog.global.Buffer||("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t instanceof com.cognitect.transit.types.TaggedValue&&"b"===t.tag)},com.cognitect.transit.types.uri=function(t){return com.cognitect.transit.types.taggedValue("r",t)},com.cognitect.transit.types.isURI=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"r"===t.tag},com.cognitect.transit.types.KEYS=0,com.cognitect.transit.types.VALUES=1,com.cognitect.transit.types.ENTRIES=2,com.cognitect.transit.types.TransitArrayMapIterator=function(t,e){this.entries=t,this.type=e||com.cognitect.transit.types.KEYS,this.idx=0},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=function(){if(this.idx<this.entries.length){var t={value:this.type===com.cognitect.transit.types.KEYS?this.entries[this.idx]:this.type===com.cognitect.transit.types.VALUES?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};return this.idx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitArrayMapIterator.prototype.next=com.cognitect.transit.types.TransitArrayMapIterator.prototype.next,com.cognitect.transit.types.TransitArrayMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.TransitMapIterator=function(t,e){this.map=t,this.type=e||com.cognitect.transit.types.KEYS,this.keys=this.map.getKeys(),this.idx=0,this.bucket=null,this.bucketIdx=0},com.cognitect.transit.types.TransitMapIterator.prototype.next=function(){if(this.idx<this.map.size){null!=this.bucket&&this.bucketIdx<this.bucket.length||(this.bucket=this.map.map[this.keys[this.idx]],this.bucketIdx=0);var t={value:this.type===com.cognitect.transit.types.KEYS?this.bucket[this.bucketIdx]:this.type===com.cognitect.transit.types.VALUES?this.bucket[this.bucketIdx+1]:[this.bucket[this.bucketIdx],this.bucket[this.bucketIdx+1]],done:!1};return this.idx++,this.bucketIdx+=2,t}return{value:null,done:!0}},com.cognitect.transit.types.TransitMapIterator.prototype.next=com.cognitect.transit.types.TransitMapIterator.prototype.next,com.cognitect.transit.types.TransitMapIterator.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this},com.cognitect.transit.types.mapEquals=function(t,e){if(t instanceof com.cognitect.transit.types.TransitMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(var n in t.map)for(var r=t.map[n],o=0;o<r.length;o+=2)if(!com.cognitect.transit.eq.equals(r[o+1],e.get(r[o])))return!1;return!0}if(t instanceof com.cognitect.transit.types.TransitArrayMap&&com.cognitect.transit.types.isMap(e)){if(t.size!==e.size)return!1;for(n=t._entries,o=0;o<n.length;o+=2)if(!com.cognitect.transit.eq.equals(n[o+1],e.get(n[o])))return!1;return!0}if(null!=e&&"object"===typeof e&&(n=(o=com.cognitect.transit.util.objectKeys(e)).length,t.size===n)){for(r=0;r<n;r++){var i=o[r];if(!t.has(i)||!com.cognitect.transit.eq.equals(e[i],t.get(i)))return!1}return!0}return!1},com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD=8,com.cognitect.transit.types.ARRAY_MAP_THRESHOLD=32,com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD=32,com.cognitect.transit.types.print=function(t){return null==t?"null":goog.isArray(t)?"["+t.toString()+"]":goog.isString(t)?'"'+t+'"':t.toString()},com.cognitect.transit.types.printMap=function(t){var e=0,n="TransitMap {";return t.forEach(function(r,o){n+=com.cognitect.transit.types.print(o)+" => "+com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"},com.cognitect.transit.types.printSet=function(t){var e=0,n="TransitSet {";return t.forEach(function(r){n+=com.cognitect.transit.types.print(r),e<t.size-1&&(n+=", "),e++}),n+"}"},com.cognitect.transit.types.TransitArrayMap=function(t){this._entries=t,this.backingMap=null,this.hashCode=-1,this.size=t.length/2,this.accesses=0},com.cognitect.transit.types.TransitArrayMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitArrayMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitArrayMap.prototype.convert=function(){if(this.backingMap)throw Error("Invalid operation, already converted");return!(this.size<com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD)&&(this.accesses++,this.accesses>com.cognitect.transit.types.ARRAY_MAP_ACCESS_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=[],!0))},com.cognitect.transit.types.TransitArrayMap.prototype.clear=function(){this.hashCode=-1,this.backingMap?this.backingMap.clear():this._entries=[],this.size=0},com.cognitect.transit.types.TransitArrayMap.prototype.clear=com.cognitect.transit.types.TransitArrayMap.prototype.clear,com.cognitect.transit.types.TransitArrayMap.prototype.keys=function(){return this.backingMap?this.backingMap.keys():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitArrayMap.prototype.keys=com.cognitect.transit.types.TransitArrayMap.prototype.keys,com.cognitect.transit.types.TransitArrayMap.prototype.keySet=function(){if(this.backingMap)return this.backingMap.keySet();for(var t=[],e=0,n=0;n<this._entries.length;e++,n+=2)t[e]=this._entries[n];return t},com.cognitect.transit.types.TransitArrayMap.prototype.keySet=com.cognitect.transit.types.TransitArrayMap.prototype.keySet,com.cognitect.transit.types.TransitArrayMap.prototype.entries=function(){return this.backingMap?this.backingMap.entries():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitArrayMap.prototype.entries=com.cognitect.transit.types.TransitArrayMap.prototype.entries,com.cognitect.transit.types.TransitArrayMap.prototype.values=function(){return this.backingMap?this.backingMap.values():new com.cognitect.transit.types.TransitArrayMapIterator(this._entries,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitArrayMap.prototype.values=com.cognitect.transit.types.TransitArrayMap.prototype.values,com.cognitect.transit.types.TransitArrayMap.prototype.forEach=function(t){if(this.backingMap)this.backingMap.forEach(t);else for(var e=0;e<this._entries.length;e+=2)t(this._entries[e+1],this._entries[e])},com.cognitect.transit.types.TransitArrayMap.prototype.forEach=com.cognitect.transit.types.TransitArrayMap.prototype.forEach,com.cognitect.transit.types.TransitArrayMap.prototype.get=function(t,e){if(this.backingMap)return this.backingMap.get(t);if(this.convert())return this.get(t);for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t))return this._entries[n+1];return e},com.cognitect.transit.types.TransitArrayMap.prototype.get=com.cognitect.transit.types.TransitArrayMap.prototype.get,com.cognitect.transit.types.TransitArrayMap.prototype.has=function(t){if(this.backingMap)return this.backingMap.has(t);if(this.convert())return this.has(t);for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return!0;return!1},com.cognitect.transit.types.TransitArrayMap.prototype.has=com.cognitect.transit.types.TransitArrayMap.prototype.has,com.cognitect.transit.types.TransitArrayMap.prototype.set=function(t,e){if(this.hashCode=-1,this.backingMap)this.backingMap.set(t,e),this.size=this.backingMap.size;else{for(var n=0;n<this._entries.length;n+=2)if(com.cognitect.transit.eq.equals(this._entries[n],t))return void(this._entries[n+1]=e);this._entries.push(t),this._entries.push(e),this.size++,this.size>com.cognitect.transit.types.ARRAY_MAP_THRESHOLD&&(this.backingMap=com.cognitect.transit.types.map(this._entries,!1,!0),this._entries=null)}},com.cognitect.transit.types.TransitArrayMap.prototype.set=com.cognitect.transit.types.TransitArrayMap.prototype.set,com.cognitect.transit.types.TransitArrayMap.prototype.delete=function(t){if(this.hashCode=-1,this.backingMap)return t=this.backingMap.delete(t),this.size=this.backingMap.size,t;for(var e=0;e<this._entries.length;e+=2)if(com.cognitect.transit.eq.equals(this._entries[e],t))return t=this._entries[e+1],this._entries.splice(e,2),this.size--,t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t},com.cognitect.transit.types.TransitArrayMap.prototype.clone=com.cognitect.transit.types.TransitArrayMap.prototype.clone,com.cognitect.transit.types.TransitArrayMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$hashCode=function(){return this.backingMap?this.backingMap.com$cognitect$transit$hashCode():(-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode)},com.cognitect.transit.types.TransitArrayMap.prototype.com$cognitect$transit$equals=function(t){return this.backingMap?com.cognitect.transit.types.mapEquals(this.backingMap,t):com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.TransitMap=function(t,e,n){this.map=e||{},this._keys=t||[],this.size=n||0,this.hashCode=-1},com.cognitect.transit.types.TransitMap.prototype.toString=function(){return com.cognitect.transit.types.printMap(this)},com.cognitect.transit.types.TransitMap.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitMap.prototype.clear=function(){this.hashCode=-1,this.map={},this._keys=[],this.size=0},com.cognitect.transit.types.TransitMap.prototype.clear=com.cognitect.transit.types.TransitMap.prototype.clear,com.cognitect.transit.types.TransitMap.prototype.getKeys=function(){return null!=this._keys?this._keys:com.cognitect.transit.util.objectKeys(this.map)},com.cognitect.transit.types.TransitMap.prototype.delete=function(t){this.hashCode=-1,this._keys=null;for(var e=com.cognitect.transit.eq.hashCode(t),n=this.map[e],r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(t,n[r]))return t=n[r+1],n.splice(r,2),0===n.length&&delete this.map[e],this.size--,t},com.cognitect.transit.types.TransitMap.prototype.entries=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.ENTRIES)},com.cognitect.transit.types.TransitMap.prototype.entries=com.cognitect.transit.types.TransitMap.prototype.entries,com.cognitect.transit.types.TransitMap.prototype.forEach=function(t){for(var e=this.getKeys(),n=0;n<e.length;n++)for(var r=this.map[e[n]],o=0;o<r.length;o+=2)t(r[o+1],r[o],this)},com.cognitect.transit.types.TransitMap.prototype.forEach=com.cognitect.transit.types.TransitMap.prototype.forEach,com.cognitect.transit.types.TransitMap.prototype.get=function(t,e){var n=com.cognitect.transit.eq.hashCode(t);if(null==(n=this.map[n]))return e;for(var r=0;r<n.length;r+=2)if(com.cognitect.transit.eq.equals(t,n[r]))return n[r+1]},com.cognitect.transit.types.TransitMap.prototype.get=com.cognitect.transit.types.TransitMap.prototype.get,com.cognitect.transit.types.TransitMap.prototype.has=function(t){var e=com.cognitect.transit.eq.hashCode(t);if(null!=(e=this.map[e]))for(var n=0;n<e.length;n+=2)if(com.cognitect.transit.eq.equals(t,e[n]))return!0;return!1},com.cognitect.transit.types.TransitMap.prototype.has=com.cognitect.transit.types.TransitMap.prototype.has,com.cognitect.transit.types.TransitMap.prototype.keys=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.KEYS)},com.cognitect.transit.types.TransitMap.prototype.keys=com.cognitect.transit.types.TransitMap.prototype.keys,com.cognitect.transit.types.TransitMap.prototype.keySet=function(){for(var t=this.getKeys(),e=[],n=0;n<t.length;n++)for(var r=this.map[t[n]],o=0;o<r.length;o+=2)e.push(r[o]);return e},com.cognitect.transit.types.TransitMap.prototype.keySet=com.cognitect.transit.types.TransitMap.prototype.keySet,com.cognitect.transit.types.TransitMap.prototype.set=function(t,e){this.hashCode=-1;var n=com.cognitect.transit.eq.hashCode(t),r=this.map[n];if(null==r)this._keys&&this._keys.push(n),this.map[n]=[t,e],this.size++;else{n=!0;for(var o=0;o<r.length;o+=2)if(com.cognitect.transit.eq.equals(e,r[o])){n=!1,r[o]=e;break}n&&(r.push(t),r.push(e),this.size++)}},com.cognitect.transit.types.TransitMap.prototype.set=com.cognitect.transit.types.TransitMap.prototype.set,com.cognitect.transit.types.TransitMap.prototype.values=function(){return new com.cognitect.transit.types.TransitMapIterator(this,com.cognitect.transit.types.VALUES)},com.cognitect.transit.types.TransitMap.prototype.values=com.cognitect.transit.types.TransitMap.prototype.values,com.cognitect.transit.types.TransitMap.prototype.clone=function(){var t=com.cognitect.transit.types.map();return this.forEach(function(e,n){t.set(n,e)}),t},com.cognitect.transit.types.TransitMap.prototype.clone=com.cognitect.transit.types.TransitMap.prototype.clone,com.cognitect.transit.types.TransitMap.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.entries()},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$hashCode=function(){return-1===this.hashCode&&(this.hashCode=com.cognitect.transit.eq.hashMapLike(this)),this.hashCode},com.cognitect.transit.types.TransitMap.prototype.com$cognitect$transit$equals=function(t){return com.cognitect.transit.types.mapEquals(this,t)},com.cognitect.transit.types.map=function(t,e,n){if(t=t||[],e=!1!==e||e,(!0!==n||!n)&&t.length<=2*com.cognitect.transit.types.ARRAY_MAP_THRESHOLD){if(e){var r=t;for(t=[],e=0;e<r.length;e+=2){var o=!1;for(n=0;n<t.length;n+=2)if(com.cognitect.transit.eq.equals(t[n],r[e])){t[n+1]=r[e+1],o=!0;break}o||(t.push(r[e]),t.push(r[e+1]))}}return new com.cognitect.transit.types.TransitArrayMap(t)}r={},o=[];var i=0;for(e=0;e<t.length;e+=2){var a=r[n=com.cognitect.transit.eq.hashCode(t[e])];if(null==a)o.push(n),r[n]=[t[e],t[e+1]],i++;else{var s=!0;for(n=0;n<a.length;n+=2)if(com.cognitect.transit.eq.equals(a[n],t[e])){a[n+1]=t[e+1],s=!1;break}s&&(a.push(t[e]),a.push(t[e+1]),i++)}}return new com.cognitect.transit.types.TransitMap(o,r,i)},com.cognitect.transit.types.isArrayMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap},com.cognitect.transit.types.isMap=function(t){return t instanceof com.cognitect.transit.types.TransitArrayMap||t instanceof com.cognitect.transit.types.TransitMap},com.cognitect.transit.types.TransitSet=function(t){this.map=t,this.size=t.size},com.cognitect.transit.types.TransitSet.prototype.toString=function(){return com.cognitect.transit.types.printSet(this)},com.cognitect.transit.types.TransitSet.prototype.inspect=function(){return this.toString()},com.cognitect.transit.types.TransitSet.prototype.add=function(t){this.map.set(t,t),this.size=this.map.size},com.cognitect.transit.types.TransitSet.prototype.add=com.cognitect.transit.types.TransitSet.prototype.add,com.cognitect.transit.types.TransitSet.prototype.clear=function(){this.map=new com.cognitect.transit.types.TransitMap,this.size=0},com.cognitect.transit.types.TransitSet.prototype.clear=com.cognitect.transit.types.TransitSet.prototype.clear,com.cognitect.transit.types.TransitSet.prototype.delete=function(t){return t=this.map.delete(t),this.size=this.map.size,t},com.cognitect.transit.types.TransitSet.prototype.entries=function(){return this.map.entries()},com.cognitect.transit.types.TransitSet.prototype.entries=com.cognitect.transit.types.TransitSet.prototype.entries,com.cognitect.transit.types.TransitSet.prototype.forEach=function(t,e){var n=this;this.map.forEach(function(e,r,o){t(r,n)})},com.cognitect.transit.types.TransitSet.prototype.forEach=com.cognitect.transit.types.TransitSet.prototype.forEach,com.cognitect.transit.types.TransitSet.prototype.has=function(t){return this.map.has(t)},com.cognitect.transit.types.TransitSet.prototype.has=com.cognitect.transit.types.TransitSet.prototype.has,com.cognitect.transit.types.TransitSet.prototype.keys=function(){return this.map.keys()},com.cognitect.transit.types.TransitSet.prototype.keys=com.cognitect.transit.types.TransitSet.prototype.keys,com.cognitect.transit.types.TransitSet.prototype.keySet=function(){return this.map.keySet()},com.cognitect.transit.types.TransitSet.prototype.keySet=com.cognitect.transit.types.TransitSet.prototype.keySet,com.cognitect.transit.types.TransitSet.prototype.values=function(){return this.map.values()},com.cognitect.transit.types.TransitSet.prototype.values=com.cognitect.transit.types.TransitSet.prototype.values,com.cognitect.transit.types.TransitSet.prototype.clone=function(){var t=com.cognitect.transit.types.set();return this.forEach(function(e){t.add(e)}),t},com.cognitect.transit.types.TransitSet.prototype.clone=com.cognitect.transit.types.TransitSet.prototype.clone,com.cognitect.transit.types.TransitSet.prototype[com.cognitect.transit.types.ITERATOR]=function(){return this.values()},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$equals=function(t){return t instanceof com.cognitect.transit.types.TransitSet&&(this.size===t.size?com.cognitect.transit.eq.equals(this.map,t.map):void 0)},com.cognitect.transit.types.TransitSet.prototype.com$cognitect$transit$hashCode=function(t){return com.cognitect.transit.eq.hashCode(this.map)},com.cognitect.transit.types.set=function(t){t=t||[];for(var e={},n=[],r=0,o=0;o<t.length;o++){var i=e[a=com.cognitect.transit.eq.hashCode(t[o])];if(null==i)n.push(a),e[a]=[t[o],t[o]],r++;else{for(var a=!0,s=0;s<i.length;s+=2)if(com.cognitect.transit.eq.equals(i[s],t[o])){a=!1;break}a&&(i.push(t[o]),i.push(t[o]),r++)}}return new com.cognitect.transit.types.TransitSet(new com.cognitect.transit.types.TransitMap(n,e,r))},com.cognitect.transit.types.isSet=function(t){return t instanceof com.cognitect.transit.types.TransitSet},com.cognitect.transit.types.quoted=function(t){return com.cognitect.transit.types.taggedValue("'",t)},com.cognitect.transit.types.isQuoted=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"'"===t.tag},com.cognitect.transit.types.list=function(t){return com.cognitect.transit.types.taggedValue("list",t)},com.cognitect.transit.types.isList=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"list"===t.tag},com.cognitect.transit.types.link=function(t){return com.cognitect.transit.types.taggedValue("link",t)},com.cognitect.transit.types.isLink=function(t){return t instanceof com.cognitect.transit.types.TaggedValue&&"link"===t.tag},com.cognitect.transit.types.specialDouble=function(t){switch(t){case"-INF":return-1/0;case"INF":return 1/0;case"NaN":return NaN;default:throw Error("Invalid special double value "+t)}},com.cognitect.transit.handlers={},com.cognitect.transit.handlers.ctorGuid=0,com.cognitect.transit.handlers.ctorGuidProperty="transit$guid$"+com.cognitect.transit.util.randomUUID(),com.cognitect.transit.handlers.typeTag=function(t){if(null==t)return"null";if(t===String)return"string";if(t===Boolean)return"boolean";if(t===Number)return"number";if(t===Array)return"array";if(t===Object)return"map";var e=t[com.cognitect.transit.handlers.ctorGuidProperty];return null==e&&("undefined"!=typeof Object.defineProperty?(e=++com.cognitect.transit.handlers.ctorGuid,Object.defineProperty(t,com.cognitect.transit.handlers.ctorGuidProperty,{value:e,enumerable:!1})):t[com.cognitect.transit.handlers.ctorGuidProperty]=e=++com.cognitect.transit.handlers.ctorGuid),e},com.cognitect.transit.handlers.constructor=function(t){return null==t?null:t.constructor},com.cognitect.transit.handlers.padZeros=function(t,e){for(var n=t.toString(),r=n.length;r<e;r++)n="0"+n;return n},com.cognitect.transit.handlers.stringableKeys=function(t){t=com.cognitect.transit.util.objectKeys(t);for(var e=0;e<t.length;e++);return!0},com.cognitect.transit.handlers.NilHandler=function(){},com.cognitect.transit.handlers.NilHandler.prototype.tag=function(t){return"_"},com.cognitect.transit.handlers.NilHandler.prototype.rep=function(t){return null},com.cognitect.transit.handlers.NilHandler.prototype.stringRep=function(t){return"null"},com.cognitect.transit.handlers.StringHandler=function(){},com.cognitect.transit.handlers.StringHandler.prototype.tag=function(t){return"s"},com.cognitect.transit.handlers.StringHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.StringHandler.prototype.stringRep=function(t){return t},com.cognitect.transit.handlers.NumberHandler=function(){},com.cognitect.transit.handlers.NumberHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.NumberHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.NumberHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler=function(){},com.cognitect.transit.handlers.IntegerHandler.prototype.tag=function(t){return"i"},com.cognitect.transit.handlers.IntegerHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.IntegerHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.BooleanHandler=function(){},com.cognitect.transit.handlers.BooleanHandler.prototype.tag=function(t){return"?"},com.cognitect.transit.handlers.BooleanHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.BooleanHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.ArrayHandler=function(){},com.cognitect.transit.handlers.ArrayHandler.prototype.tag=function(t){return"array"},com.cognitect.transit.handlers.ArrayHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.ArrayHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.MapHandler=function(){},com.cognitect.transit.handlers.MapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.MapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.MapHandler.prototype.stringRep=function(t){return null},com.cognitect.transit.handlers.VerboseDateHandler=function(){},com.cognitect.transit.handlers.VerboseDateHandler.prototype.tag=function(t){return"t"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.rep=function(t){return t.getUTCFullYear()+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCMonth()+1,2)+"-"+com.cognitect.transit.handlers.padZeros(t.getUTCDate(),2)+"T"+com.cognitect.transit.handlers.padZeros(t.getUTCHours(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCMinutes(),2)+":"+com.cognitect.transit.handlers.padZeros(t.getUTCSeconds(),2)+"."+com.cognitect.transit.handlers.padZeros(t.getUTCMilliseconds(),3)+"Z"},com.cognitect.transit.handlers.VerboseDateHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.DateHandler=function(){},com.cognitect.transit.handlers.DateHandler.prototype.tag=function(t){return"m"},com.cognitect.transit.handlers.DateHandler.prototype.rep=function(t){return t.valueOf()},com.cognitect.transit.handlers.DateHandler.prototype.stringRep=function(t){return t.valueOf().toString()},com.cognitect.transit.handlers.DateHandler.prototype.getVerboseHandler=function(t){return new com.cognitect.transit.handlers.VerboseDateHandler},com.cognitect.transit.handlers.UUIDHandler=function(){},com.cognitect.transit.handlers.UUIDHandler.prototype.tag=function(t){return"u"},com.cognitect.transit.handlers.UUIDHandler.prototype.rep=function(t){return t.toString()},com.cognitect.transit.handlers.UUIDHandler.prototype.stringRep=function(t){return t.toString()},com.cognitect.transit.handlers.KeywordHandler=function(){},com.cognitect.transit.handlers.KeywordHandler.prototype.tag=function(t){return":"},com.cognitect.transit.handlers.KeywordHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.KeywordHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.SymbolHandler=function(){},com.cognitect.transit.handlers.SymbolHandler.prototype.tag=function(t){return"$"},com.cognitect.transit.handlers.SymbolHandler.prototype.rep=function(t){return t._name},com.cognitect.transit.handlers.SymbolHandler.prototype.stringRep=function(t,e){return e.rep(t)},com.cognitect.transit.handlers.TaggedHandler=function(){},com.cognitect.transit.handlers.TaggedHandler.prototype.tag=function(t){return t.tag},com.cognitect.transit.handlers.TaggedHandler.prototype.rep=function(t){return t.rep},com.cognitect.transit.handlers.TaggedHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitSetHandler=function(){},com.cognitect.transit.handlers.TransitSetHandler.prototype.tag=function(t){return"set"},com.cognitect.transit.handlers.TransitSetHandler.prototype.rep=function(t){var e=[];return t.forEach(function(t,n){e.push(t)}),com.cognitect.transit.types.taggedValue("array",e)},com.cognitect.transit.handlers.TransitSetHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitArrayMapHandler=function(){},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitArrayMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.TransitMapHandler=function(){},com.cognitect.transit.handlers.TransitMapHandler.prototype.tag=function(t){return"map"},com.cognitect.transit.handlers.TransitMapHandler.prototype.rep=function(t){return t},com.cognitect.transit.handlers.TransitMapHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.BufferHandler=function(){},com.cognitect.transit.handlers.BufferHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.BufferHandler.prototype.rep=function(t){return t.toString("base64")},com.cognitect.transit.handlers.BufferHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.Uint8ArrayHandler=function(){},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.tag=function(t){return"b"},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.rep=function(t){return com.cognitect.transit.util.Uint8ToBase64(t)},com.cognitect.transit.handlers.Uint8ArrayHandler.prototype.stringRep=function(t,e){return null},com.cognitect.transit.handlers.defaultHandlers=function(t){return t.set(null,new com.cognitect.transit.handlers.NilHandler),t.set(String,new com.cognitect.transit.handlers.StringHandler),t.set(Number,new com.cognitect.transit.handlers.NumberHandler),t.set(goog.math.Long,new com.cognitect.transit.handlers.IntegerHandler),t.set(Boolean,new com.cognitect.transit.handlers.BooleanHandler),t.set(Array,new com.cognitect.transit.handlers.ArrayHandler),t.set(Object,new com.cognitect.transit.handlers.MapHandler),t.set(Date,new com.cognitect.transit.handlers.DateHandler),t.set(com.cognitect.transit.types.UUID,new com.cognitect.transit.handlers.UUIDHandler),t.set(com.cognitect.transit.types.Keyword,new com.cognitect.transit.handlers.KeywordHandler),t.set(com.cognitect.transit.types.Symbol,new com.cognitect.transit.handlers.SymbolHandler),t.set(com.cognitect.transit.types.TaggedValue,new com.cognitect.transit.handlers.TaggedHandler),t.set(com.cognitect.transit.types.TransitSet,new com.cognitect.transit.handlers.TransitSetHandler),t.set(com.cognitect.transit.types.TransitArrayMap,new com.cognitect.transit.handlers.TransitArrayMapHandler),t.set(com.cognitect.transit.types.TransitMap,new com.cognitect.transit.handlers.TransitMapHandler),"undefined"!=typeof goog.global.Buffer&&t.set(goog.global.Buffer,new com.cognitect.transit.handlers.BufferHandler),"undefined"!=typeof Uint8Array&&t.set(Uint8Array,new com.cognitect.transit.handlers.Uint8ArrayHandler),t},com.cognitect.transit.handlers.Handlers=function(){this.handlers={},com.cognitect.transit.handlers.defaultHandlers(this)},com.cognitect.transit.handlers.Handlers.prototype.get=function(t){return null!=(t="string"===typeof t?this.handlers[t]:this.handlers[com.cognitect.transit.handlers.typeTag(t)])?t:this.handlers.default},com.cognitect.transit.handlers.Handlers.prototype.get=com.cognitect.transit.handlers.Handlers.prototype.get,com.cognitect.transit.handlers.validTag=function(t){switch(t){case"null":case"string":case"boolean":case"number":case"array":case"map":return!1}return!0},com.cognitect.transit.handlers.Handlers.prototype.set=function(t,e){"string"===typeof t&&com.cognitect.transit.handlers.validTag(t)?this.handlers[t]=e:this.handlers[com.cognitect.transit.handlers.typeTag(t)]=e},com.cognitect.transit.impl={},com.cognitect.transit.impl.decoder={},com.cognitect.transit.impl.decoder.Tag=function(t){this.str=t},com.cognitect.transit.impl.decoder.tag=function(t){return new com.cognitect.transit.impl.decoder.Tag(t)},com.cognitect.transit.impl.decoder.isTag=function(t){return t&&t instanceof com.cognitect.transit.impl.decoder.Tag},com.cognitect.transit.impl.decoder.isGroundHandler=function(t){switch(t){case"_":case"s":case"?":case"i":case"d":case"b":case"'":case"array":case"map":return!0}return!1},com.cognitect.transit.impl.decoder.Decoder=function(t){for(var e in this.options=t||{},this.handlers={},this.defaults.handlers)this.handlers[e]=this.defaults.handlers[e];for(e in this.options.handlers){if(com.cognitect.transit.impl.decoder.isGroundHandler(e))throw Error('Cannot override handler for ground type "'+e+'"');this.handlers[e]=this.options.handlers[e]}this.preferStrings=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.preferStrings,this.preferBuffers=null!=this.options.preferBuffers?this.options.preferBuffers:this.defaults.preferBuffers,this.defaultHandler=this.options.defaultHandler||this.defaults.defaultHandler,this.mapBuilder=this.options.mapBuilder,this.arrayBuilder=this.options.arrayBuilder},com.cognitect.transit.impl.decoder.Decoder.prototype.defaults={handlers:{_:function(t,e){return com.cognitect.transit.types.nullValue()},"?":function(t,e){return com.cognitect.transit.types.boolValue(t)},b:function(t,e){return com.cognitect.transit.types.binary(t,e)},i:function(t,e){return com.cognitect.transit.types.intValue(t)},n:function(t,e){return com.cognitect.transit.types.bigInteger(t)},d:function(t,e){return com.cognitect.transit.types.floatValue(t)},f:function(t,e){return com.cognitect.transit.types.bigDecimalValue(t)},c:function(t,e){return com.cognitect.transit.types.charValue(t)},":":function(t,e){return com.cognitect.transit.types.keyword(t)},$:function(t,e){return com.cognitect.transit.types.symbol(t)},r:function(t,e){return com.cognitect.transit.types.uri(t)},z:function(t,e){return com.cognitect.transit.types.specialDouble(t)},"'":function(t,e){return t},m:function(t,e){return com.cognitect.transit.types.date(t)},t:function(t,e){return com.cognitect.transit.types.verboseDate(t)},u:function(t,e){return com.cognitect.transit.types.uuid(t)},set:function(t,e){return com.cognitect.transit.types.set(t)},list:function(t,e){return com.cognitect.transit.types.list(t)},link:function(t,e){return com.cognitect.transit.types.link(t)},cmap:function(t,e){return com.cognitect.transit.types.map(t,!1)}},defaultHandler:function(t,e){return com.cognitect.transit.types.taggedValue(t,e)},preferStrings:!0,preferBuffers:!0},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=function(t,e,n,r){if(null==t)return null;switch(typeof t){case"string":return this.decodeString(t,e,n,r);case"object":return com.cognitect.transit.util.isArray(t)?"^ "===t[0]?this.decodeArrayHash(t,e,n,r):this.decodeArray(t,e,n,r):this.decodeHash(t,e,n,r)}return t},com.cognitect.transit.impl.decoder.Decoder.prototype.decode=com.cognitect.transit.impl.decoder.Decoder.prototype.decode,com.cognitect.transit.impl.decoder.Decoder.prototype.decodeString=function(t,e,n,r){return com.cognitect.transit.caching.isCacheable(t,n)?(t=this.parseString(t,e,!1),e&&e.write(t,n),t):com.cognitect.transit.caching.isCacheCode(t)?e.read(t,n):this.parseString(t,e,n)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeHash=function(t,e,n,r){var o=(n=com.cognitect.transit.util.objectKeys(t))[0];if(r=1==n.length?this.decode(o,e,!1,!1):null,com.cognitect.transit.impl.decoder.isTag(r))return t=t[o],null!=(n=this.handlers[r.str])?n(this.decode(t,e,!1,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(t,e,!1,!1));if(this.mapBuilder){if(n.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD&&this.mapBuilder.fromArray){var i=[];for(o=0;o<n.length;o++)r=n[o],i.push(this.decode(r,e,!0,!1)),i.push(this.decode(t[r],e,!1,!1));return this.mapBuilder.fromArray(i,t)}for(i=this.mapBuilder.init(t),o=0;o<n.length;o++)r=n[o],i=this.mapBuilder.add(i,this.decode(r,e,!0,!1),this.decode(t[r],e,!1,!1),t);return this.mapBuilder.finalize(i,t)}for(i=[],o=0;o<n.length;o++)r=n[o],i.push(this.decode(r,e,!0,!1)),i.push(this.decode(t[r],e,!1,!1));return com.cognitect.transit.types.map(i,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArrayHash=function(t,e,n,r){if(this.mapBuilder){if(t.length<2*com.cognitect.transit.types.SMALL_ARRAY_MAP_THRESHOLD+1&&this.mapBuilder.fromArray){for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return this.mapBuilder.fromArray(r,t)}for(r=this.mapBuilder.init(t),n=1;n<t.length;n+=2)r=this.mapBuilder.add(r,this.decode(t[n],e,!0,!1),this.decode(t[n+1],e,!1,!1),t);return this.mapBuilder.finalize(r,t)}for(r=[],n=1;n<t.length;n+=2)r.push(this.decode(t[n],e,!0,!1)),r.push(this.decode(t[n+1],e,!1,!1));return com.cognitect.transit.types.map(r,!1)},com.cognitect.transit.impl.decoder.Decoder.prototype.decodeArray=function(t,e,n,r){if(r){var o=[];for(r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o}if(o=e&&e.idx,2===t.length&&"string"===typeof t[0]&&(r=this.decode(t[0],e,!1,!1),com.cognitect.transit.impl.decoder.isTag(r)))return o=t[1],null!=(t=this.handlers[r.str])?o=t(this.decode(o,e,n,!0),this):com.cognitect.transit.types.taggedValue(r.str,this.decode(o,e,n,!1));if(e&&o!=e.idx&&(e.idx=o),this.arrayBuilder){if(32>=t.length&&this.arrayBuilder.fromArray){for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return this.arrayBuilder.fromArray(o,t)}for(o=this.arrayBuilder.init(t),r=0;r<t.length;r++)o=this.arrayBuilder.add(o,this.decode(t[r],e,n,!1),t);return this.arrayBuilder.finalize(o,t)}for(o=[],r=0;r<t.length;r++)o.push(this.decode(t[r],e,n,!1));return o},com.cognitect.transit.impl.decoder.Decoder.prototype.parseString=function(t,e,n){return t.charAt(0)===com.cognitect.transit.delimiters.ESC?(e=t.charAt(1))===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?t.substring(1):e===com.cognitect.transit.delimiters.TAG?com.cognitect.transit.impl.decoder.tag(t.substring(2)):null==(n=this.handlers[e])?this.defaultHandler(e,t.substring(2)):n(t.substring(2),this):t},com.cognitect.transit.impl.decoder.decoder=function(t){return new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader={},com.cognitect.transit.impl.reader.JSONUnmarshaller=function(t){this.decoder=new com.cognitect.transit.impl.decoder.Decoder(t)},com.cognitect.transit.impl.reader.JSONUnmarshaller.prototype.unmarshal=function(t,e){return this.decoder.decode(JSON.parse(t),e)},com.cognitect.transit.impl.reader.Reader=function(t,e){this.unmarshaller=t,this.options=e||{},this.cache=this.options.cache?this.options.cache:new com.cognitect.transit.caching.ReadCache},com.cognitect.transit.impl.reader.Reader.prototype.read=function(t){return t=this.unmarshaller.unmarshal(t,this.cache),this.cache.clear(),t},com.cognitect.transit.impl.reader.Reader.prototype.read=com.cognitect.transit.impl.reader.Reader.prototype.read,com.cognitect.transit.impl.writer={},com.cognitect.transit.impl.writer.escape=function(t){if(0<t.length){var e=t.charAt(0);return e===com.cognitect.transit.delimiters.ESC||e===com.cognitect.transit.delimiters.SUB||e===com.cognitect.transit.delimiters.RES?com.cognitect.transit.delimiters.ESC+t:t}return t},com.cognitect.transit.impl.writer.JSONMarshaller=function(t){if(this.opts=t||{},this.preferStrings=null==this.opts.preferStrings||this.opts.preferStrings,this.objectBuilder=this.opts.objectBuilder||null,this.transform=this.opts.transform||null,this.handlers=new com.cognitect.transit.handlers.Handlers,t=this.opts.handlers){if(com.cognitect.transit.util.isArray(t)||!t.forEach)throw Error('transit writer "handlers" option must be a map');var e=this;t.forEach(function(t,n){if(void 0===n)throw Error("Cannot create handler for JavaScript undefined");e.handlers.set(n,t)})}this.handlerForForeign=this.opts.handlerForForeign,this.unpack=this.opts.unpack||function(t){return!(!com.cognitect.transit.types.isArrayMap(t)||null!==t.backingMap)&&t._entries},this.verbose=this.opts&&this.opts.verbose||!1},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.handler=function(t){var e=this.handlers.get(com.cognitect.transit.handlers.constructor(t));return null!=e?e:(t=t&&t.transitTag)?this.handlers.get(t):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.registerHandler=function(t,e){this.handlers.set(t,e)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitNil=function(t,e){return t?this.emitString(com.cognitect.transit.delimiters.ESC,"_","",t,e):null},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitString=function(t,e,n,r,o){return t=t+e+n,o?o.write(t,r):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBoolean=function(t,e,n){return e?this.emitString(com.cognitect.transit.delimiters.ESC,"?",t.toString()[0],e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitInteger=function(t,e,n){return 1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","INF",e,n):-1/0===t?this.emitString(com.cognitect.transit.delimiters.ESC,"z","-INF",e,n):isNaN(t)?this.emitString(com.cognitect.transit.delimiters.ESC,"z","NaN",e,n):e||"string"===typeof t||t instanceof goog.math.Long?this.emitString(com.cognitect.transit.delimiters.ESC,"i",t.toString(),e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitDouble=function(t,e,n){return e?this.emitString(t.ESC,"d",t,e,n):t},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitBinary=function(t,e,n){return this.emitString(com.cognitect.transit.delimiters.ESC,"b",t,e,n)},com.cognitect.transit.impl.writer.JSONMarshaller.prototype.emitQuoted=function(t,e,n){return t.verbose?((t={})[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n)]=com.cognitect.transit.impl.writer.marshal(this,e,!1,n),t):[this.emitString(com.cognitect.transit.delimiters.ESC_TAG,"'","",!0,n),com.cognitect.transit.impl.writer.marshal(this,e,!1,n)]},com.cognitect.transit.impl.writer.emitObjects=function(t,e,n){var r=[];if(com.cognitect.transit.util.isArray(e))for(var o=0;o<e.length;o++)r.push(com.cognitect.transit.impl.writer.marshal(t,e[o],!1,n));else e.forEach(function(e,o){r.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,n))});return r},com.cognitect.transit.impl.writer.emitArray=function(t,e,n,r){return com.cognitect.transit.impl.writer.emitObjects(t,e,r)},com.cognitect.transit.impl.writer.isStringableKey=function(t,e){if("string"!==typeof e){var n=t.handler(e);return n&&1===n.tag(e).length}return!0},com.cognitect.transit.impl.writer.stringableKeys=function(t,e){var n=t.unpack(e),r=!0;if(n){for(var o=0;o<n.length&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,n[o]));o+=2);return r}if(e.keys&&(o=null,(n=e.keys()).next)){for(o=n.next();!o.done&&(r=com.cognitect.transit.impl.writer.isStringableKey(t,o.value));)o=n.next();return r}if(e.forEach)return e.forEach(function(e,n){r=r&&com.cognitect.transit.impl.writer.isStringableKey(t,n)}),r;throw Error("Cannot walk keys of object type "+com.cognitect.transit.handlers.constructor(e).name)},com.cognitect.transit.impl.writer.isForeignObject=function(t){if(t.constructor.transit$isObject)return!0;var e="Object"==(e=(e=(e=t.constructor.toString()).substr(9)).substr(0,e.indexOf("(")));return"undefined"!=typeof Object.defineProperty?Object.defineProperty(t.constructor,"transit$isObject",{value:e,enumerable:!1}):t.constructor.transit$isObject=e,e},com.cognitect.transit.impl.writer.emitMap=function(t,e,n,r){var o=null,i=null,a=null;o=null;if(n=0,e.constructor===Object||null!=e.forEach||t.handlerForForeign&&com.cognitect.transit.impl.writer.isForeignObject(e)){if(t.verbose){if(null!=e.forEach)if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){var s={};e.forEach(function(e,n){s[com.cognitect.transit.impl.writer.marshal(t,n,!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e,!1,r)})}else{if(o=t.unpack(e),i=[],a=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){i.push(com.cognitect.transit.impl.writer.marshal(t,n,!1,!1)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});(s={})[a]=i}else for(o=com.cognitect.transit.util.objectKeys(e),s={};n<o.length;n++)s[com.cognitect.transit.impl.writer.marshal(t,o[n],!0,!1)]=com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r);return s}if(null!=e.forEach){if(com.cognitect.transit.impl.writer.stringableKeys(t,e)){if(o=t.unpack(e),s=["^ "],o)for(;n<o.length;n+=2)s.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){s.push(com.cognitect.transit.impl.writer.marshal(t,n,!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});return s}if(o=t.unpack(e),i=[],a=t.emitString(com.cognitect.transit.delimiters.ESC_TAG,"cmap","",!0,r),o)for(;n<o.length;n+=2)i.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,o[n+1],!1,r));else e.forEach(function(e,n){i.push(com.cognitect.transit.impl.writer.marshal(t,n,!1,r)),i.push(com.cognitect.transit.impl.writer.marshal(t,e,!1,r))});return[a,i]}for(s=["^ "],o=com.cognitect.transit.util.objectKeys(e);n<o.length;n++)s.push(com.cognitect.transit.impl.writer.marshal(t,o[n],!0,r)),s.push(com.cognitect.transit.impl.writer.marshal(t,e[o[n]],!1,r));return s}if(null!=t.objectBuilder)return t.objectBuilder(e,function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!0,r)},function(e){return com.cognitect.transit.impl.writer.marshal(t,e,!1,r)});throw n=com.cognitect.transit.handlers.constructor(e).name,(o=Error("Cannot write "+n)).data={obj:e,type:n},o},com.cognitect.transit.impl.writer.emitTaggedMap=function(t,e,n,r,o){return t.verbose?((r={})[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o)]=com.cognitect.transit.impl.writer.marshal(t,n,!1,o),r):[t.emitString(com.cognitect.transit.delimiters.ESC_TAG,e,"",!0,o),com.cognitect.transit.impl.writer.marshal(t,n,!1,o)]},com.cognitect.transit.impl.writer.emitEncoded=function(t,e,n,r,o,i,a){if(1===n.length){if("string"===typeof r)return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,a);if(i||t.preferStrings){if((r=t.verbose&&e.getVerboseHandler())?(n=r.tag(o),r=r.stringRep(o,r)):r=e.stringRep(o,e),null!==r)return t.emitString(com.cognitect.transit.delimiters.ESC,n,r,i,a);throw(t=Error('Tag "'+n+'" cannot be encoded as string')).data={tag:n,rep:r,obj:o},t}}return com.cognitect.transit.impl.writer.emitTaggedMap(t,n,r,i,a)},com.cognitect.transit.impl.writer.marshal=function(t,e,n,r){null!==t.transform&&(e=t.transform(e));var o=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null),i=o?o.tag(e):null,a=o?o.rep(e):null;if(null==o||null==i)throw t=com.cognitect.transit.handlers.constructor(e).name,(n=Error("Cannot write "+t)).data={obj:e,type:t},n;switch(i){case"_":return t.emitNil(n,r);case"s":return t.emitString("","",com.cognitect.transit.impl.writer.escape(a),n,r);case"?":return t.emitBoolean(a,n,r);case"i":return t.emitInteger(a,n,r);case"d":return t.emitDouble(a,n,r);case"b":return t.emitBinary(a,n,r);case"'":return t.emitQuoted(t,a,r);case"array":return com.cognitect.transit.impl.writer.emitArray(t,a,n,r);case"map":return com.cognitect.transit.impl.writer.emitMap(t,a,n,r);default:return com.cognitect.transit.impl.writer.emitEncoded(t,o,i,a,e,n,r)}},com.cognitect.transit.impl.writer.maybeQuoted=function(t,e){if(null!=(n=t.handler(e)||(t.handlerForForeign?t.handlerForForeign(e,t.handlers):null)))return 1===n.tag(e).length?com.cognitect.transit.types.quoted(e):e;var n=com.cognitect.transit.handlers.constructor(e).name,r=Error("Cannot write "+n);throw r.data={obj:e,type:n},r},com.cognitect.transit.impl.writer.marshalTop=function(t,e,n,r){return JSON.stringify(com.cognitect.transit.impl.writer.marshal(t,com.cognitect.transit.impl.writer.maybeQuoted(t,e),n,r))},com.cognitect.transit.impl.writer.Writer=function(t,e){this._marshaller=t,this.options=e||{},this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new com.cognitect.transit.caching.WriteCache},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=function(){return this._marshaller},com.cognitect.transit.impl.writer.Writer.prototype.marshaller=com.cognitect.transit.impl.writer.Writer.prototype.marshaller,com.cognitect.transit.impl.writer.Writer.prototype.write=function(t,e){var n=e||{},r=n.asMapKey||!1,o=!this._marshaller.verbose&&this.cache;return n=!1===n.marshalTop?com.cognitect.transit.impl.writer.marshal(this._marshaller,t,r,o):com.cognitect.transit.impl.writer.marshalTop(this._marshaller,t,r,o),null!=this.cache&&this.cache.clear(),n},com.cognitect.transit.impl.writer.Writer.prototype.write=com.cognitect.transit.impl.writer.Writer.prototype.write,com.cognitect.transit.impl.writer.Writer.prototype.register=function(t,e){this._marshaller.registerHandler(t,e)},com.cognitect.transit.impl.writer.Writer.prototype.register=com.cognitect.transit.impl.writer.Writer.prototype.register;var TRANSIT_DEV=!0,TRANSIT_NODE_TARGET=!0,TRANSIT_BROWSER_TARGET=!1,TRANSIT_BROWSER_AMD_TARGET=!1;com.cognitect.transit.reader=function(t,e){if("json"===t||"json-verbose"===t||null==t){var n=new com.cognitect.transit.impl.reader.JSONUnmarshaller(e);return new com.cognitect.transit.impl.reader.Reader(n,e)}throw Error("Cannot create reader of type "+t)},com.cognitect.transit.writer=function(t,e){if("json"===t||"json-verbose"===t||null==t){"json-verbose"===t&&(null==e&&(e={}),e.verbose=!0);var n=new com.cognitect.transit.impl.writer.JSONMarshaller(e);return new com.cognitect.transit.impl.writer.Writer(n,e)}throw(n=Error('Type must be "json"')).data={type:t},n},com.cognitect.transit.makeWriteHandler=function(t){var e=function(){};return e.prototype.tag=t.tag,e.prototype.rep=t.rep,e.prototype.stringRep=t.stringRep,e.prototype.getVerboseHandler=t.getVerboseHandler,new e},com.cognitect.transit.makeBuilder=function(t){var e=function(){};return e.prototype.init=t.init,e.prototype.add=t.add,e.prototype.finalize=t.finalize,e.prototype.fromArray=t.fromArray,new e},com.cognitect.transit.date=com.cognitect.transit.types.date,com.cognitect.transit.integer=com.cognitect.transit.types.intValue,com.cognitect.transit.isInteger=com.cognitect.transit.types.isInteger,com.cognitect.transit.uuid=com.cognitect.transit.types.uuid,com.cognitect.transit.isUUID=com.cognitect.transit.types.isUUID,com.cognitect.transit.bigInt=com.cognitect.transit.types.bigInteger,com.cognitect.transit.isBigInt=com.cognitect.transit.types.isBigInteger,com.cognitect.transit.bigDec=com.cognitect.transit.types.bigDecimalValue,com.cognitect.transit.isBigDec=com.cognitect.transit.types.isBigDecimal,com.cognitect.transit.keyword=com.cognitect.transit.types.keyword,com.cognitect.transit.isKeyword=com.cognitect.transit.types.isKeyword,com.cognitect.transit.symbol=com.cognitect.transit.types.symbol,com.cognitect.transit.isSymbol=com.cognitect.transit.types.isSymbol,com.cognitect.transit.binary=com.cognitect.transit.types.binary,com.cognitect.transit.isBinary=com.cognitect.transit.types.isBinary,com.cognitect.transit.uri=com.cognitect.transit.types.uri,com.cognitect.transit.isURI=com.cognitect.transit.types.isURI,com.cognitect.transit.map=com.cognitect.transit.types.map,com.cognitect.transit.isMap=com.cognitect.transit.types.isMap,com.cognitect.transit.set=com.cognitect.transit.types.set,com.cognitect.transit.isSet=com.cognitect.transit.types.isSet,com.cognitect.transit.list=com.cognitect.transit.types.list,com.cognitect.transit.isList=com.cognitect.transit.types.isList,com.cognitect.transit.quoted=com.cognitect.transit.types.quoted,com.cognitect.transit.isQuoted=com.cognitect.transit.types.isQuoted,com.cognitect.transit.tagged=com.cognitect.transit.types.taggedValue,com.cognitect.transit.isTaggedValue=com.cognitect.transit.types.isTaggedValue,com.cognitect.transit.link=com.cognitect.transit.types.link,com.cognitect.transit.isLink=com.cognitect.transit.types.isLink,com.cognitect.transit.hash=com.cognitect.transit.eq.hashCode,com.cognitect.transit.hashMapLike=com.cognitect.transit.eq.hashMapLike,com.cognitect.transit.hashArrayLike=com.cognitect.transit.eq.hashArrayLike,com.cognitect.transit.equals=com.cognitect.transit.eq.equals,com.cognitect.transit.extendToEQ=com.cognitect.transit.eq.extendToEQ,com.cognitect.transit.mapToObject=function(t){var e={};return t.forEach(function(t,n){if("string"!==typeof n)throw Error("Cannot convert map with non-string keys");e[n]=t}),e},com.cognitect.transit.objectToMap=function(t){var e,n=com.cognitect.transit.map();for(e in t)t.hasOwnProperty(e)&&n.set(e,t[e]);return n},com.cognitect.transit.decoder=com.cognitect.transit.impl.decoder.decoder,com.cognitect.transit.readCache=com.cognitect.transit.caching.readCache,com.cognitect.transit.writeCache=com.cognitect.transit.caching.writeCache,com.cognitect.transit.UUIDfromString=com.cognitect.transit.types.UUIDfromString,com.cognitect.transit.randomUUID=com.cognitect.transit.util.randomUUID,com.cognitect.transit.stringableKeys=com.cognitect.transit.impl.writer.stringableKeys,TRANSIT_BROWSER_TARGET&&(goog.exportSymbol("transit.reader",com.cognitect.transit.reader),goog.exportSymbol("transit.writer",com.cognitect.transit.writer),goog.exportSymbol("transit.makeBuilder",com.cognitect.transit.makeBuilder),goog.exportSymbol("transit.makeWriteHandler",com.cognitect.transit.makeWriteHandler),goog.exportSymbol("transit.date",com.cognitect.transit.types.date),goog.exportSymbol("transit.integer",com.cognitect.transit.types.intValue),goog.exportSymbol("transit.isInteger",com.cognitect.transit.types.isInteger),goog.exportSymbol("transit.uuid",com.cognitect.transit.types.uuid),goog.exportSymbol("transit.isUUID",com.cognitect.transit.types.isUUID),goog.exportSymbol("transit.bigInt",com.cognitect.transit.types.bigInteger),goog.exportSymbol("transit.isBigInt",com.cognitect.transit.types.isBigInteger),goog.exportSymbol("transit.bigDec",com.cognitect.transit.types.bigDecimalValue),goog.exportSymbol("transit.isBigDec",com.cognitect.transit.types.isBigDecimal),goog.exportSymbol("transit.keyword",com.cognitect.transit.types.keyword),goog.exportSymbol("transit.isKeyword",com.cognitect.transit.types.isKeyword),goog.exportSymbol("transit.symbol",com.cognitect.transit.types.symbol),goog.exportSymbol("transit.isSymbol",com.cognitect.transit.types.isSymbol),goog.exportSymbol("transit.binary",com.cognitect.transit.types.binary),goog.exportSymbol("transit.isBinary",com.cognitect.transit.types.isBinary),goog.exportSymbol("transit.uri",com.cognitect.transit.types.uri),goog.exportSymbol("transit.isURI",com.cognitect.transit.types.isURI),goog.exportSymbol("transit.map",com.cognitect.transit.types.map),goog.exportSymbol("transit.isMap",com.cognitect.transit.types.isMap),goog.exportSymbol("transit.set",com.cognitect.transit.types.set),goog.exportSymbol("transit.isSet",com.cognitect.transit.types.isSet),goog.exportSymbol("transit.list",com.cognitect.transit.types.list),goog.exportSymbol("transit.isList",com.cognitect.transit.types.isList),goog.exportSymbol("transit.quoted",com.cognitect.transit.types.quoted),goog.exportSymbol("transit.isQuoted",com.cognitect.transit.types.isQuoted),goog.exportSymbol("transit.tagged",com.cognitect.transit.types.taggedValue),goog.exportSymbol("transit.isTaggedValue",com.cognitect.transit.types.isTaggedValue),goog.exportSymbol("transit.link",com.cognitect.transit.types.link),goog.exportSymbol("transit.isLink",com.cognitect.transit.types.isLink),goog.exportSymbol("transit.hash",com.cognitect.transit.eq.hashCode),goog.exportSymbol("transit.hashMapLike",com.cognitect.transit.eq.hashMapLike),goog.exportSymbol("transit.hashArrayLike",com.cognitect.transit.eq.hashArrayLike),goog.exportSymbol("transit.equals",com.cognitect.transit.eq.equals),goog.exportSymbol("transit.extendToEQ",com.cognitect.transit.eq.extendToEQ),goog.exportSymbol("transit.mapToObject",com.cognitect.transit.mapToObject),goog.exportSymbol("transit.objectToMap",com.cognitect.transit.objectToMap),goog.exportSymbol("transit.decoder",com.cognitect.transit.impl.decoder.decoder),goog.exportSymbol("transit.UUIDfromString",com.cognitect.transit.types.UUIDfromString),goog.exportSymbol("transit.randomUUID",com.cognitect.transit.util.randomUUID),goog.exportSymbol("transit.stringableKeys",com.cognitect.transit.impl.writer.stringableKeys),goog.exportSymbol("transit.readCache",com.cognitect.transit.caching.readCache),goog.exportSymbol("transit.writeCache",com.cognitect.transit.caching.writeCache)),TRANSIT_NODE_TARGET&&(module.exports={reader:com.cognitect.transit.reader,writer:com.cognitect.transit.writer,makeBuilder:com.cognitect.transit.makeBuilder,makeWriteHandler:com.cognitect.transit.makeWriteHandler,date:com.cognitect.transit.types.date,integer:com.cognitect.transit.types.intValue,isInteger:com.cognitect.transit.types.isInteger,uuid:com.cognitect.transit.types.uuid,isUUID:com.cognitect.transit.types.isUUID,bigInt:com.cognitect.transit.types.bigInteger,isBigInt:com.cognitect.transit.types.isBigInteger,bigDec:com.cognitect.transit.types.bigDecimalValue,isBigDec:com.cognitect.transit.types.isBigDecimal,keyword:com.cognitect.transit.types.keyword,isKeyword:com.cognitect.transit.types.isKeyword,symbol:com.cognitect.transit.types.symbol,isSymbol:com.cognitect.transit.types.isSymbol,binary:com.cognitect.transit.types.binary,isBinary:com.cognitect.transit.types.isBinary,uri:com.cognitect.transit.types.uri,isURI:com.cognitect.transit.types.isURI,map:com.cognitect.transit.types.map,isMap:com.cognitect.transit.types.isMap,set:com.cognitect.transit.types.set,isSet:com.cognitect.transit.types.isSet,list:com.cognitect.transit.types.list,isList:com.cognitect.transit.types.isList,quoted:com.cognitect.transit.types.quoted,isQuoted:com.cognitect.transit.types.isQuoted,tagged:com.cognitect.transit.types.taggedValue,isTaggedValue:com.cognitect.transit.types.isTaggedValue,link:com.cognitect.transit.types.link,isLink:com.cognitect.transit.types.isLink,hash:com.cognitect.transit.eq.hashCode,hashArrayLike:com.cognitect.transit.eq.hashArrayLike,hashMapLike:com.cognitect.transit.eq.hashMapLike,equals:com.cognitect.transit.eq.equals,extendToEQ:com.cognitect.transit.eq.extendToEQ,mapToObject:com.cognitect.transit.mapToObject,objectToMap:com.cognitect.transit.objectToMap,decoder:com.cognitect.transit.impl.decoder.decoder,UUIDfromString:com.cognitect.transit.types.UUIDfromString,randomUUID:com.cognitect.transit.util.randomUUID,stringableKeys:com.cognitect.transit.impl.writer.stringableKeys,readCache:com.cognitect.transit.caching.readCache,writeCache:com.cognitect.transit.caching.writeCache})}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/lib/bytesToUuid.js":function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]}},"./node_modules/uuid/lib/rng-browser.js":function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/v4.js":function(t,e,n){var r=n("./node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/uuid/lib/bytesToUuid.js");t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},"./node_modules/webpack/buildin/global.js":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}t.exports=n},"./src/automerge.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n("./node_modules/transit-immutable-js/index.js"),i=n("./src/uuid.js"),a=n("./frontend/index.js"),s=n("./backend/index.js"),u=n("./src/common.js").isObject;function c(t,e){if(!t)throw new RangeError("actorId is required in docFromChanges");var n=a.init({actorId:t,backend:s}),o=s.applyChanges(s.init(t),e),i=r(o,2),u=i[0],c=(i[1],s.getPatch(u));return c.state=u,a.applyPatch(n,c)}t.exports={init:function(t){return a.init({actorId:t,backend:s})},change:function(t,e,n){var o=a.change(t,e,n),i=r(o,2),s=i[0];return i[1],s},emptyChange:function(t,e){var n=a.emptyChange(t,e),o=r(n,2),i=o[0];return o[1],i},undo:function(t,e){var n=a.undo(t,e),o=r(n,2),i=o[0];return o[1],i},redo:function(t,e){var n=a.redo(t,e),o=r(n,2),i=o[0];return o[1],i},load:function(t,e){return c(e||i(),o.fromJSON(t))},save:function(t){var e=a.getBackendState(t);return o.toJSON(e.getIn(["opSet","history"]))},merge:function(t,e){if(a.getActorId(t)===a.getActorId(e))throw new RangeError("Cannot merge an actor with itself");var n=a.getBackendState(t),o=a.getBackendState(e),i=s.merge(n,o),u=r(i,2),c=u[0],l=u[1];return 0===l.diffs.length?t:(l.state=c,a.applyPatch(t,l))},diff:function(t,e){var n=a.getBackendState(t),o=a.getBackendState(e),i=s.getChanges(n,o),u=s.applyChanges(n,i),c=r(u,2);return c[0],c[1].diffs},getChanges:function(t,e){var n=a.getBackendState(t),r=a.getBackendState(e);return s.getChanges(n,r)},applyChanges:function(t,e){var n=a.getBackendState(t),o=s.applyChanges(n,e),i=r(o,2),u=i[0],c=i[1];return c.state=u,a.applyPatch(t,c)},getMissingDeps:function(t){return s.getMissingDeps(a.getBackendState(t))},equals:function t(e,n){if(!u(e)||!u(n))return e===n;var r=Object.keys(e).sort(),o=Object.keys(n).sort();if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++){if(r[i]!==o[i])return!1;if(!t(e[r[i]],n[o[i]]))return!1}return!0},inspect:function(t){return JSON.parse(JSON.stringify(t))},getHistory:function(t){var e=a.getBackendState(t),n=a.getActorId(t),r=e.getIn(["opSet","history"]);return r.map(function(t,e){return{get change(){return t.toJS()},get snapshot(){return c(n,r.slice(0,e+1))}}}).toArray()},uuid:i,Frontend:a,Backend:s,DocSet:n("./src/doc_set.js"),WatchableDoc:n("./src/watchable_doc.js"),Connection:n("./src/connection.js")};for(var l=["canUndo","canRedo","getActorId","setActorId","getConflicts","Text"],f=0;f<l.length;f++){var h=l[f];t.exports[h]=a[h]}},"./src/common.js":function(t,e,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={ROOT_ID:"00000000-0000-0000-0000-000000000000",isObject:function(t){return"object"===("undefined"===typeof t?"undefined":r(t))&&null!==t},lessOrEqual:function(t,e){return t.keySeq().concat(e.keySeq()).reduce(function(n,r){return n&&t.get(r,0)<=e.get(r,0)},!0)}}},"./src/connection.js":function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n("./node_modules/immutable/dist/immutable.js"),i=o.Map,a=o.fromJS,s=n("./src/common.js").lessOrEqual,u=n("./frontend/index.js"),c=n("./backend/index.js");function l(t,e,n){return n=t.get(e,i()).mergeWith(function(t,e){return Math.max(t,e)},n),t.set(e,n)}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._docSet=e,this._sendMsg=n,this._theirClock=i(),this._ourClock=i(),this._docChangedHandler=this.docChanged.bind(this)}return r(t,[{key:"open",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this._docSet.docIds[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.docChanged(i,this._docSet.getDoc(i))}}catch(a){e=!0,n=a}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}this._docSet.registerHandler(this._docChangedHandler)}},{key:"close",value:function(){this._docSet.unregisterHandler(this._docChangedHandler)}},{key:"sendMsg",value:function(t,e,n){var r={docId:t,clock:e.toJS()};this._ourClock=l(this._ourClock,t,e),n&&(r.changes=n),this._sendMsg(r)}},{key:"maybeSendChanges",value:function(t){var e=this._docSet.getDoc(t),n=u.getBackendState(e),r=n.getIn(["opSet","clock"]);if(this._theirClock.has(t)){var o=c.getMissingChanges(n,this._theirClock.get(t));if(o.length>0)return this._theirClock=l(this._theirClock,t,r),void this.sendMsg(t,r,o)}r.equals(this._ourClock.get(t,i()))||this.sendMsg(t,r)}},{key:"docChanged",value:function(t,e){var n=u.getBackendState(e).getIn(["opSet","clock"]);if(!n)throw new TypeError("This object cannot be used for network sync. Are you trying to sync a snapshot from the history?");if(!s(this._ourClock.get(t,i()),n))throw new RangeError("Cannot pass an old state object to a connection");this.maybeSendChanges(t)}},{key:"receiveMsg",value:function(t){return t.clock&&(this._theirClock=l(this._theirClock,t.docId,a(t.clock))),t.changes?this._docSet.applyChanges(t.docId,a(t.changes)):(this._docSet.getDoc(t.docId)?this.maybeSendChanges(t.docId):this._ourClock.has(t.docId)||this.sendMsg(t.docId,i()),this._docSet.getDoc(t.docId))}}]),t}();t.exports=f},"./src/doc_set.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n("./node_modules/immutable/dist/immutable.js"),a=i.Map,s=i.Set,u=(n("./src/uuid.js"),n("./frontend/index.js")),c=n("./backend/index.js"),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.docs=a(),this.handlers=s()}return o(t,[{key:"getDoc",value:function(t){return this.docs.get(t)}},{key:"setDoc",value:function(t,e){this.docs=this.docs.set(t,e),this.handlers.forEach(function(n){return n(t,e)})}},{key:"applyChanges",value:function(t,e){var n=this.docs.get(t)||u.init({backend:c}),o=u.getBackendState(n),i=c.applyChanges(o,e),a=r(i,2),s=a[0],l=a[1];return l.state=s,n=u.applyPatch(n,l),this.setDoc(t,n),n}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}},{key:"docIds",get:function(){return this.docs.keys()}}]),t}();t.exports=l},"./src/uuid.js":function(t,e,n){"use strict";var r=n("./node_modules/uuid/v4.js"),o=r;function i(){return o()}i.setFactory=function(t){return o=t},i.reset=function(){return o=r},t.exports=i},"./src/watchable_doc.js":function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=n("./node_modules/immutable/dist/immutable.js").Set,a=n("./frontend/index.js"),s=n("./backend/index.js"),u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("doc argument is required");this.doc=e,this.handlers=i()}return o(t,[{key:"get",value:function(){return this.doc}},{key:"set",value:function(t){this.doc=t,this.handlers.forEach(function(e){return e(t)})}},{key:"applyChanges",value:function(t){var e=a.getBackendState(this.doc),n=s.applyChanges(e,t),o=r(n,2),i=o[0],u=o[1];u.state=i;var c=a.applyPatch(this.doc,u);return this.set(c),c}},{key:"registerHandler",value:function(t){this.handlers=this.handlers.add(t)}},{key:"unregisterHandler",value:function(t){this.handlers=this.handlers.remove(t)}}]),t}();t.exports=u}})},module.exports=factory()},function(t,e,n){t.exports=o;var r=n(15).EventEmitter;function o(){r.call(this)}n(8)(o,r),o.Readable=n(18),o.Writable=n(205),o.Duplex=n(206),o.Transform=n(207),o.PassThrough=n(208),o.Stream=o,o.prototype.pipe=function(t,e){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",i),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"===typeof t.destroy&&t.destroy())}function c(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",o),t.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",c),t.on("error",c),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e,n){t.exports=n(64)},function(t,e,n){t.exports=n(30)},function(t,e,n){t.exports=n(18).Transform},function(t,e,n){t.exports=n(18).PassThrough},function(t,e,n){(function(e,r){var o=n(210),i=n(115),a=n(106),s=n(103),u=n(250),c=n(34),l=n(251),f=n(105),h=n(107),d=n(252),p=n(47),g=n(104),y=n(15),v=n(42),m=n(112),_=n(8),b=n(50),A=n(118),w=n(254),k=n(255),E=n(256),S=n(119),x=n(257),I=n(258),C=n(259),O=n(260),T=n(120),B=n(261);function j(t,n,r){if(!(this instanceof j))return new j(t,n,r);y.EventEmitter.call(this),D(n)&&(r=n,n=null),(r=Object.assign({},r)).firstNode&&(r.reduce=L);var i,s=r.checkout;this.key="string"===typeof n?e.from(n,"hex"):n,this.discoveryKey=this.key?o.discoveryKey(this.key):null,this.source=s?s.source:null,this.local=s?s.local:null,this.localContent=s?s.localContent:null,this.feeds=s?s.feeds:[],this.contentFeeds=s?s.contentFeeds:r.contentFeed?[]:null,this.ready=a(this._ready.bind(this)),this.opened=!1,this.sparse=!!r.sparse,this.sparseContent=void 0!==r.sparseContent?!!r.sparseContent:this.sparse,this.id=e.alloc(32),v.randombytes_buf(this.id),this._storage="function"===typeof(i=t)?i:function(t){return h(d.join(i,t))},this._contentStorage="function"===typeof r.contentFeed?r.contentFeed:r.contentFeed?this._storage:null,this._writers=s?s._writers:[],this._watching=s?s._watching:[],this._replicating=[],this._localWriter=null,this._byKey=new Map,this._heads=r.heads||null,this._version=r.version||null,this._checkout=s||null,this._lock=l(),this._map=r.map||null,this._reduce=r.reduce||null,this._valueEncoding=f(r.valueEncoding||"binary"),this._batching=null,this._batchingNodes=null,this._secretKey=r.secretKey||null,this._storeSecretKey=!1!==r.storeSecretKey,this._onwrite=r.onwrite||null,this._authorized=[],this.ready()}function M(t,e){y.EventEmitter.call(this),this._id=0,this._db=t,this._feed=e,this._contentFeed=null,this._feeds=0,this._feedsMessage=null,this._feedsLoaded=-1,this._entry=0,this._clock=0,this._encodeMap=[],this._decodeMap=[],this._checkout=!1,this._length=0,this._authorized=!1,this._cache=m(4096),this._writes=new Map,this._writeLength=0,this.setMaxListeners(0)}function N(t,e){if(!t)return!1;for(var n=t.seq+1,r=0;r<e.length;r++){var o=e[r];if(o!==t&&o&&(o.clock[t.feed]||0)>=n)return!1}return!0}function D(t){return"object"===typeof t&&!!t&&!e.isBuffer(t)}function L(t,e){return t}function R(){}function P(){return"Node(key=".concat(this.key)+", value=".concat(p.inspect(this.value))+", seq=".concat(this.seq)+", feed=".concat(this.feed,")")+")"}t.exports=j,_(j,y.EventEmitter),j.prototype.batch=function(t,e){e||(e=R);var n=this;this._lock(function(r){var o=n._clock();n._batching=[],n._batchingNodes=[],n.heads(function(i,a){if(i)return e(i);var s=0;function u(t){var o=n._batchingNodes;return n._batching=null,n._batchingNodes=null,r(e,t,o)}!function e(r,i){if(r)return u(r);i&&(i.path=b(i.key,!0),a=[i]);if(s===t.length)return void n.local.append(n._batching,u);var c=t[s++];x(n,o,a,T(c.key),c.value,{delete:"del"===c.type},e)}(null)})})},j.prototype.put=function(t,e,n,o){if("function"===typeof n)return this.put(t,e,null,n);if(o||(o=R),this._checkout)return r.nextTick(o,new Error("Cannot put on a checkout"));var i=this;t=T(t),this._lock(function(r){var a=i._clock();function s(t,e){r(o,t,e)}i._getHeads(!1,function(r,o){if(r)return s(r);x(i,a,o,t,e,n,s)})})},j.prototype.del=function(t,e){this.put(t,null,{delete:!0},e)},j.prototype.watch=function(t,e){return"function"===typeof t?this.watch("",t):O(this,T(t),e)},j.prototype.get=function(t,e,n){if("function"===typeof e)return this.get(t,null,e);var r=this;this._getHeads(!1!==(e&&e.update),function(o,i){if(o)return n(o);S(r,i,T(t),e,n)})},j.prototype.version=function(t){var n=this;this.heads(function(r,o){if(r)return t(r);for(var i=[],a=0;a<o.length;a++)i.push(n.feeds[o[a].feed].key),i.push(e.from(c.encode(o[a].seq)));t(null,e.concat(i))})},j.prototype.checkout=function(t,n){return n||(n={}),"string"===typeof t&&(t=e.from(t,"hex")),Array.isArray(t)&&(n.heads=t,t=null),new j(this._storage,this.key,{checkout:this,version:t,map:void 0!==n.map?n.map:this._map,reduce:void 0!==n.reduce?n.reduce:this._reduce,heads:n.heads})},j.prototype.snapshot=function(t){return this.checkout(null,t)},j.prototype.heads=function(t){this._getHeads(!0,t)},j.prototype._getHeads=function(t,e){if(!this.opened)return function(t,e,n){t.ready(function(r){if(r)return n(r);t._getHeads(e,n)})}(this,t,e);if(this._heads)return r.nextTick(e,null,this._heads);if(t&&this._waitForUpdate())return this.setMaxListeners(0),void this.once("remote-update",this.heads.bind(this,e));for(var n=this,o=this._writers.length,i=o,a=null,s=new Array(o),u=0;u<o;u++)this._writers[u].head(c);function c(t,r,u){if(t?a=t:s[u]=r,!--i)return a?e(a):o!==n._writers.length?n.heads(e):1===s.length?e(null,s[0]?s:[]):void e(null,function(t){for(var e=[],n=0;n<t.length;n++)N(t[n],t)&&e.push(t[n]);return e}(s))}},j.prototype._waitForUpdate=function(){return!this._writers[0].length()&&this.local.length<2},j.prototype._index=function(t){t.key&&(t=t.key);for(var e=0;e<this.feeds.length;e++)if(this.feeds[e].key.equals(t))return e;return-1},j.prototype.authorized=function(t,e){var n=this;this._getHeads(!1,function(r){if(r)return e(r);e(null,n._writers[0].authorizes(t,null))})},j.prototype.authorize=function(t,e){e||(e=R);var n=this;this.heads(function(r){if(r)return e(r);n._addWriter(t,function(t){if(t)return e(t);n.put("",null,e)})})},j.prototype.replicate=function(t){t=Object.assign({},t);var e=this,n=Math.max(1,this._authorized.length),r=this.contentFeeds?2:1;t.expectedFeeds=n*r,t.id||(t.id=this.id),t.stream||(t.stream=i(t));var o=t.stream;return t.live||o.on("prefinalize",function(t){e.heads(function(i){if(i)return t(i);o.expectedFeeds+=r*(e._authorized.length-n),n=e._writers.length,t()})}),this.ready(function(n){if(n)return o.destroy(n);if(o.destroyed)return;e.contentFeeds&&!e.contentFeeds[0]&&e._writers[0].get(1,R);var r=0;function i(){this._contentFeed.replicate(t)}function a(){for(;r<e._authorized.length;r++){var n=e._authorized[r];if(e.feeds[n].replicate(t),e.contentFeeds){var o=e._writers[n];o._contentFeed?o._contentFeed.replicate(t):o.once("content-feed",i)}}}function u(){var t=e._replicating.indexOf(a);for(t>-1&&s(e._replicating,t),t=0;t<e._writers.length;t++)e._writers[t].removeListener("content-feed",i)}e._replicating.push(a),o.on("close",u),o.on("end",u),a()}),o},j.prototype._clock=function(){for(var t=new Array(this._writers.length),e=0;e<t.length;e++){var n=this._writers[e];t[e]=n===this._localWriter?n._clock:n.length()}return t},j.prototype._getPointer=function(t,e,n,o){n&&this._batching&&t===this._localWriter._id&&e>=this._localWriter._feed.length?r.nextTick(o,null,this._batchingNodes[e-this._localWriter._feed.length]):this._writers[t].get(e,o)},j.prototype._getAllPointers=function(t,e,n){var o=null,i=new Array(t.length),a=i.length;if(!a)return r.nextTick(n,null,i);for(var s=0;s<i.length;s++)this._getPointer(t[s].feed,t[s].seq,e,u);function u(e,r){e?o=e:i[function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.feed===r.feed&&e.seq===r.seq)return n}return-1}(t,r)]=r,--a||n(o,i)}},j.prototype._writer=function(t,e,n){var r=e&&this._byKey.get(e.toString("hex"));if(r)return r;n=Object.assign({},n,{sparse:this.sparse,onwrite:this._onwrite?function(t,e,n,o){if(!t)return o(null);n&&n.maxRequests++;t>=r._writeLength&&(r._writeLength=t+1);r._writes.set(t,e),r._decode(t,e,function(e,r){if(e)return s(o,t,n,e);i._onwrite(r,n,function(e){s(o,t,n,e)})})}:null});var i=this,a=o(function(e){return i._storage(t+"/"+e,{feed:a})},e,n);return r=new M(i,a),a.on("append",function(){for(var t=0;t<i._watching.length;t++)i._watching[t]._kick();i.emit("append",a,r._id)}),a.on("remote-update",function(){i.emit("remote-update",a,r._id)}),a.on("sync",function(){r.head(R)}),e?u(null):a.ready(u),r;function s(t,e,n,o){n&&n.maxRequests--,r._writes.delete(e),t(o)}function u(t){t||i._byKey.set(a.key.toString("hex"),r)}},j.prototype._getWriter=function(t){return this._byKey.get(t.toString("hex"))},j.prototype._addWriter=function(t,e){var n=this,r=this._writer("peers/"+o.discoveryKey(t).toString("hex"),t);r._feed.ready(function(o){if(o)return e(o);n._index(t)<=-1&&n._pushWriter(r),e(null)})},j.prototype._pushWriter=function(t){if(t._id=this._writers.push(t)-1,this.feeds.push(t._feed),this.contentFeeds&&this.contentFeeds.push(null),this.opened)for(var e=0;e<this._replicating.length;e++)this._replicating[e]()},j.prototype.list=function(t,e,n){if("function"===typeof t)return this.list("",null,t);if("function"===typeof e)return this.list(t,null,e);var r=this.iterator(t,e),o=[];r.next(function t(e,i){if(e)return n(e);if(!i)return n(null,o);o.push(i);r.next(t)})},j.prototype.history=function(t){return k(this,t)},j.prototype.keyHistory=function(t,e){return E(this,t,e)},j.prototype.diff=function(t,n,r){return D(n)?this.diff(t,null,n):w(this,t||this.checkout(e.from([])),n||"",r)},j.prototype.iterator=function(t,e){return D(t)?this.iterator("",t):A(this,T(t||""),e)},j.prototype.createHistoryStream=function(t){return u(this.history(t))},j.prototype.createKeyHistoryStream=function(t,e){return u(this.keyHistory(t,e))},j.prototype.createDiffStream=function(t,e,n){return D(e)?this.createDiffStream(t,"",e):u(this.diff(t,e,n))},j.prototype.createReadStream=function(t,e){return u(this.iterator(t,e))},j.prototype.createWriteStream=function(t){var e=this;return g.obj(function(t,n){for(var r=[],o=0;o<t.length;o++){var i=t[o];if(Array.isArray(i))for(var a=0;a<i.length;a++)r.push(i[a]);else r.push(i)}e.batch(r,n)})},j.prototype._ready=function(t){var e=this;function n(n){if(n)return t(n);e._localWriter.ensureHeader(function(n){if(n)return t(n);e.opened=!0,e.emit("ready"),t(null)})}function r(t,n,r){var o=e._writer(t,n,r);return e._pushWriter(o),o._feed}function o(t,r){if(t)return n(t);e.opened=!0,e.source=e._checkout.source,e.local=e._checkout.local,e.localContent=e._checkout.localContent,e._localWriter=e._checkout._localWriter,e.key=e._checkout.key,e.discoveryKey=e._checkout.discoveryKey,e._heads=r,n(null)}this._checkout?this._heads?o(null,this._heads):this._version?this._checkout.heads(function(t){if(t)return n(t);var r=0,i=0,a=[],s=null;if("number"===typeof e._version)return i=1,void e._checkout._writers[0].get(e._version,h);for(;r<e._version.length;){var u=e._version.slice(r,r+32),l=c.decode(e._version,r+32);r+=32+c.decode.bytes;var f=e._checkout._byKey.get(u.toString("hex"));f?(i++,f.get(l,h)):s=new Error("Invalid version")}i||o(s,[]);function h(t,e){t?s=t:a.push(e),--i||o(s,a)}}):this._checkout.heads(o):(this.source||(this.source=r("source",this.key,{secretKey:this._secretKey,storeSecretKey:this._storeSecretKey})),this.source.ready(function(t){if(t)return n(t);e.source.writable&&(e.local=e.source),e.local||(e.local=r("local")),e.key=e.source.key,e.discoveryKey=e.source.discoveryKey,e._writers[0].authorize(),e.local.ready(function(t){if(t)return n(t);e._localWriter=e._writers[e.feeds.indexOf(e.local)],e._contentStorage&&(e._localWriter._ensureContentFeed(null),e.localContent=e._localWriter._contentFeed),e._localWriter.head(function(t){return t?n(t):e.localContent?void e.localContent.ready(n):n(null)})})}))},_(M,y.EventEmitter),M.prototype.authorize=function(){this._authorized||(this._authorized=!0,this._db._authorized.push(this._id),this._feedsMessage&&this._updateFeeds())},M.prototype.ensureHeader=function(t){if(this._feed.length)return t(null);this._feed.append(I.Header.encode({protocol:"hyperdb"}),t)},M.prototype.append=function(t,e){this._clock||(this._clock=this._feed.length);var n=I.Entry;this._entry=this._clock++,t.clock[this._id]=this._clock,t.seq=this._clock-1,t.feed=this._id,t[p.inspect.custom]=P;var r,o={key:t.key,value:null,deleted:t.deleted,inflate:0,clock:null,trie:null,feeds:null,contentFeed:null};if(this._needsInflate()&&(n=I.InflatedEntry,o.feeds=this._mapList(this._db.feeds,this._encodeMap,null),this._db.contentFeeds&&(o.contentFeed=this._db.contentFeeds[this._id].key),this._feedsMessage=o,this._feedsLoaded=this._feeds=this._entry,this._updateFeeds()),o.clock=this._mapList(t.clock,this._encodeMap,0),o.inflate=this._feeds,o.trie=C.encode(t.trie,this._encodeMap),null!==(r=t.value)&&void 0!==r&&(o.value=this._db._valueEncoding.encode(t.value)),this._db._batching)return this._db._batching.push(n.encode(o)),this._db._batchingNodes.push(t),e(null);this._feed.append(n.encode(o),e)},M.prototype._needsInflate=function(){var t=this._feedsMessage;return!t||t.feeds.length!==this._db.feeds.length},M.prototype._maybeUpdateFeeds=function(){if(this._feedsMessage){var t=this._feedsMessage.feeds||[];this._decodeMap.length===t.length&&this._encodeMap.length===this._db.feeds.length||this._updateFeeds()}},M.prototype._decode=function(t,e,n){try{var r=I.Entry.decode(e)}catch(o){return n(o)}r[p.inspect.custom]=P,r.seq=t,r.path=b(r.key,!0);try{r.value=r.value&&this._db._valueEncoding.decode(r.value)}catch(o){return n(o)}if(this._feedsMessage&&this._feedsLoaded===r.inflate)return this._maybeUpdateFeeds(),r.feed=this._id,r.clock.length>this._decodeMap.length?n(new Error("Missing feed mappings")):(r.clock=this._mapList(r.clock,this._decodeMap,0),r.trie=C.decode(r.trie,this._decodeMap),this._cache.set(r.seq,r),n(null,r,this._id));this._loadFeeds(r,e,n)},M.prototype.get=function(t,e){var n=this,o=this._cache.get(t);if(o)return r.nextTick(e,null,o,this._id);this._getFeed(t,function(r,o){if(r)return e(r);n._decode(t,o,e)})},M.prototype._getFeed=function(t,e){if(this._writes&&this._writes.size){var n=this._writes.get(t);if(n)return r.nextTick(e,null,n)}this._feed.get(t,e)},M.prototype.head=function(t){var e=this.length();if(e<2)return r.nextTick(t,null,null,this._id);this.get(e-1,t)},M.prototype._mapList=function(t,e,n){var r,o=[];for(r=0;r<e.length;r++)o[e[r]]=r<t.length?t[r]:n;for(;r<t.length;r++)o[r]=t[r];for(r=0;r<o.length;r++)o[r]||(o[r]=n);return o},M.prototype._loadFeeds=function(t,e,n){var r=this;function o(t,e){if(t)return n(t);try{var r=I.InflatedEntry.decode(e)}catch(o){return n(o)}i(r)}function i(e){r._addWriters(t,e,n)}t.feeds?i(t):t.inflate===t.seq?o(null,e):this._getFeed(t.inflate,o)},M.prototype._addWriters=function(t,e,n){for(var r=this,o=this._id,i=e.feeds||[],a=i.length+1,s=null,u=0;u<i.length;u++)this._db._addWriter(i[u].key,c);function c(i){if(i&&(s=i),!--a){if(s)return n(s);var u=t.inflate;if(u>r._feedsLoaded&&(r._feedsLoaded=r._feeds=u,r._feedsMessage=e),r._updateFeeds(),t.feed=r._id,t.clock.length>r._decodeMap.length)return n(new Error("Missing feed mappings"));t.clock=r._mapList(t.clock,r._decodeMap,0),t.trie=C.decode(t.trie,r._decodeMap),r._cache.set(t.seq,t),n(null,t,o)}}c(null)},M.prototype._ensureContentFeed=function(t){if(!this._contentFeed){var e=this,n=null;if(!t){var r=B(this._db.local.secretKey);n=r.secretKey,t=r.publicKey}this._contentFeed=o(function(t){return t="content/"+e._feed.discoveryKey.toString("hex")+"/"+t,e._db._contentStorage(t,{metadata:e._feed,feed:e._contentFeed})},t,{sparse:this._db.sparseContent,storeSecretKey:!1,secretKey:n}),this._db.contentFeeds&&(this._db.contentFeeds[this._id]=this._contentFeed),this.emit("content-feed")}},M.prototype._updateFeeds=function(){var t,e=!1;this._feedsMessage.contentFeed&&this._db.contentFeeds&&!this._contentFeed&&(this._ensureContentFeed(this._feedsMessage.contentFeed),e=!0);var n=this._feedsMessage.feeds||[],r=new Map;for(t=0;t<this._db.feeds.length;t++)r.set(this._db.feeds[t].key.toString("hex"),t);for(t=0;t<n.length;t++){var o=r.get(n[t].key.toString("hex"));this._decodeMap[t]=o,this._encodeMap[o]=t,this._authorized&&(this._db._writers[o].authorize(),e=!0)}if(e)for(t=0;t<this._db._replicating.length;t++)this._db._replicating[t]()},M.prototype.authorizes=function(t,e){if(e||(e=new Array(this._db._writers.length)),this._feed.key.equals(t))return!0;if(!this._feedsMessage||e[this._id])return!1;e[this._id]=!0;for(var n=this._feedsMessage.feeds||[],r=0;r<n.length;r++){var o=n[r].key;if(o.equals(t))return!0;if(this._db._getWriter(o).authorizes(t,e))return!0}return!1},M.prototype.length=function(){return this._checkout?this._length:Math.max(this._writeLength,Math.max(this._feed.length,this._feed.remoteLength))}}).call(this,n(4).Buffer,n(5))},function(t,e,n){(function(e){var r=n(211),o=n(212),i=n(103),a=n(66),s=n(213),u=n(41),c=n(104),l=n(214),f=n(105),h=n(106),d=n(215),p=n(8),g=n(15),y=n(107),v=n(216),m=n(67),_=n(110),b=n(221),A=n(225),w=n(238),k=n(49),E=n(21),S=n(239),x=n(240),I=null;function C(t,n,r){if(!(this instanceof C))return new C(t,n,r);var i;if(g.EventEmitter.call(this),"string"===typeof t&&(i=t,t=function(t){return y(t,{directory:i})}),"function"!==typeof t)throw new Error("Storage should be a function or string");"string"===typeof n&&(n=k(n,"hex")),e.isBuffer(n)||r||(r=n,n=null),r||(r={});var a=this,s=r.secretKey||null;"string"===typeof s&&(s=k(s,"hex")),this.id=r.id||A.randomBytes(32),this.live=!1!==r.live,this.sparse=!!r.sparse,this.length=0,this.byteLength=0,this.maxRequests=r.maxRequests||16,this.key=n||r.key||null,this.discoveryKey=this.key&&A.discoveryKey(this.key),this.secretKey=s,this.bitfield=null,this.tree=null,this.writable=!!r.writable,this.readable=!0,this.opened=!1,this.closed=!1,this.allowPush=!!r.allowPush,this.peers=[],this._onwrite=r.onwrite||null,this._ready=h(function(t){a._open(t)}),this._indexing=!!r.indexing,this._createIfMissing=!1!==r.createIfMissing,this._overwrite=!!r.overwrite,this._storeSecretKey=!1!==r.storeSecretKey,this._merkle=null,this._storage=b(t,r.storageCacheSize),this._batch=d(this._onwrite?function t(e,n){if(!a._merkle)return a._reloadMerkleStateBeforeAppend(t,e,n);a._appendHook(e,n)}:function t(e,n){if(!a._merkle)return a._reloadMerkleStateBeforeAppend(t,e,n);a._append(e,n)}),this._seq=0,this._waiting=[],this._selections=[],this._reserved=m(),this._synced=null,this._codec=M(r.valueEncoding),this._sync=o(function(t,e){a._syncBitfield(e)}),this.sparse||this.download({start:0,end:-1}),this._ready(function(t){t&&a.emit("error",t)})}function O(){}function T(t,e){return t&&t.index===e.index&&r(t.hash,e.hash)}function B(t,e){return t+e.size}function j(t){return 0===(1&t)}function M(t){return f("json"===t?"ndjson":t)}function N(t,e){return function(n,r){if(n)return e(n);try{r=t.decode(r)}catch(n){return e(n)}e(null,r)}}function D(t,e){var n=!1,r=setTimeout(function(){n=!0;var e=new Error("ETIMEDOUT");e.code="ETIMEDOUT",t(e)},e);return function(e,o){if(n)return;clearTimeout(r),t(e,o)}}function L(t,e){return t?e?r(t,e):!t:!e}function R(t){return 1024*Math.floor(t/1024/1024)*1024}t.exports=C,p(C,g.EventEmitter),C.discoveryKey=A.discoveryKey,C.prototype[S]=function(t,e){var n="";if("number"===typeof e.indentationLvl)for(;n.length<e.indentationLvl;)n+=" ";return"Hypercore(\n"+n+"  key: "+e.stylize(this.key&&x(this.key),"string")+"\n"+n+"  discoveryKey: "+e.stylize(this.discoveryKey&&x(this.discoveryKey),"string")+"\n"+n+"  opened: "+e.stylize(this.opened,"boolean")+"\n"+n+"  writable: "+e.stylize(this.writable,"boolean")+"\n"+n+"  length: "+e.stylize(this.length,"number")+"\n"+n+"  byteLength: "+e.stylize(this.byteLength,"number")+"\n"+n+"  peers: "+e.stylize(this.peers.length,"number")+"\n"+n+")"},Object.defineProperty(C.prototype,"remoteLength",{enumerable:!0,get:function(){for(var t=0,e=0;e<this.peers.length;e++){var n=this.peers[e].remoteLength;n>t&&(t=n)}return t}}),C.prototype.replicate=function(t){return I||(I=n(241)),this._selections.length&&-1===this._selections[0].end||this.sparse||t&&t.live||this.download({start:0,end:-1}),I(this,t||{})},C.prototype.ready=function(t){this._ready(function(e){e||t()})},C.prototype.update=function(t,e){if("function"===typeof t)return this.update(-1,t);"number"!==typeof t&&(t=-1),e||(e=O);var n=this;this.ready(function(r){return r?e(r):(-1===t&&(t=n.length+1),n.length>=t?e(null):(n.writable&&(e=n._writeStateReloader(e)),n._waiting.push({hash:!0,bytes:0,index:t-1,update:!0,callback:e}),void n._updatePeers()))})},C.prototype._writeStateReloader=function(t){var e=this;return function(n){if(n)return t(n);e._reloadMerkleState(t)}},C.prototype._reloadMerkleState=function(t){var e=this;this._roots(e.length,function(n,r){if(n)return t(n);e._merkle=s(A,r),t(null)})},C.prototype._reloadMerkleStateBeforeAppend=function(t,e,n){this._reloadMerkleState(function(r){if(r)return n(r);t(e,n)})},C.prototype._open=function(t){var e=this,n=!1;function o(o,i){if(o)return t(o);if(!i.key&&i.bitfield.length&&(e._overwrite=!0),e._overwrite&&(i.bitfield=[],i.key=i.secretKey=null),e.bitfield=v(i.bitfieldPageSize,i.bitfield),e.tree=_(e.bitfield.tree),e.length=e.tree.blocks(),e._seq=e.length,i.key&&e.key&&!r(i.key,e.key))return t(new Error("Another hypercore is stored here"));if(i.key&&(e.key=i.key),i.secretKey&&(e.secretKey=i.secretKey),e.key&&e.secretKey){var a=E(0);if(!A.verify(a,A.sign(a,e.secretKey),e.key))return t(new Error("Key and secret do not match"))}if(!e.length)return u(null,null);function u(r,o){if(e.length&&(e.live=!!o),(n||!e.key)&&!e._createIfMissing)return t(new Error("No hypercore is stored here"));if(!e.key&&e.live){var a=A.keyPair();e.secretKey=a.secretKey,e.key=a.publicKey}var u=!!e.secretKey||null===e.key;if(!u&&e.writable)return t(new Error("Feed is not writable"));e.writable=u,e.discoveryKey=e.key&&A.discoveryKey(e.key),e._storeSecretKey&&!e.secretKey&&(e._storeSecretKey=!1);var c=n||!L(e.key,i.key),l=e._storeSecretKey&&(n||!L(e.secretKey,i.secretKey)),f=1+(c?1:0)+(l?1:0)+(e._overwrite?1:0),h=null;function d(n){if(n&&(h=n),!--f)return h?t(h):void e._roots(e.length,p)}function p(n,r){if(n)return t(n);e._merkle=s(A,r),e.byteLength=r.reduce(B,0),e.opened=!0,e.emit("ready"),t(null)}c&&e._storage.key.write(0,e.key,d),l&&e._storage.secretKey.write(0,e.secretKey,d),e._overwrite&&e._storage.putBitfield(0,i.bitfield,d),d(null)}e._storage.getSignature(e.length-1,u)}this._storage.openKey(function(t,r){if(!r||e._overwrite||e.key||(e.key=r),!e.key&&e.live){var i=A.keyPair();e.secretKey=i.secretKey,e.key=i.publicKey,n=!0}e.discoveryKey=e.key&&A.discoveryKey(e.key),e._storage.open({key:e.key,discoveryKey:e.discoveryKey},o)})},C.prototype.download=function(t,e){if("function"===typeof t)return this.download(null,t);if("number"===typeof t&&(t={start:t,end:t+1}),t||(t={}),e||(e=O),!this.readable)return e(new Error("Feed is closed"));var n={_index:this._selections.length,hash:!!t.hash,iterator:null,start:t.start||0,end:t.end||-1,want:0,linear:!!t.linear,callback:e};return n.want=R(n.start),this._selections.push(n),this._updatePeers(),n},C.prototype.undownload=function(t){if("number"===typeof t&&(t={start:t,end:t+1}),t||(t={}),t.callback&&t._index>-1)return a.remove(this._selections,t),void w(t.callback,new Error("Download was cancelled"));for(var e=t.start||0,n=t.end||-1,r=!!t.hash,o=!!t.linear,i=0;i<this._selections.length;i++){var s=this._selections[i];if(s.start===e&&s.end===n&&s.hash===r&&s.linear===o)return a.remove(this._selections,s),void w(s.callback,new Error("Download was cancelled"))}},C.prototype.digest=function(t){return this.tree.digest(2*t)},C.prototype.proof=function(t,e,n){if("function"===typeof e)return this.proof(t,null,e);if(!this.opened)return this._readyAndProof(t,e,n);e||(e={});var r=this.tree.proof(2*t,e);if(!r)return n(new Error("No proof available for this index"));var o=this.live&&!!r.verifiedBy,i=r.nodes.length+(o?1:0),a=null,s=null,u=new Array(r.nodes.length);if(!i)return n(null,{nodes:u,signature:null});for(var c=0;c<r.nodes.length;c++)this._storage.getNode(r.nodes[c],l);function l(t,e){if(t&&(a=t),e&&(u[r.nodes.indexOf(e.index)]=e),!--i)return a?n(a):void n(null,{nodes:u,signature:s})}o&&this._storage.getSignature(r.verifiedBy/2-1,function(t,e){e&&(s=e);l(t,null)})},C.prototype._readyAndProof=function(t,e,n){var r=this;this._ready(function(o){if(o)return n(o);r.proof(t,e,n)})},C.prototype.put=function(t,e,n,r){if(!this.opened)return this._readyAndPut(t,e,n,r);this._putBuffer(t,this._codec.encode(e),n,null,r)},C.prototype.cancel=function(t,e){e||(e=t+1);for(var n=this._selections.length-1;n>=0;n--){var r=this._selections[n];t<=r.start&&r.end<=e&&this.undownload(r)}this.opened?this._cancel(t,e):this._readyAndCancel(t,e)},C.prototype._cancel=function(t,e){var n=0;for(n=t;n<e;n++)this._reserved.set(n,!1);for(n=this._waiting.length-1;n>=0;n--){var r=this._waiting[n];(t<=r.start&&r.end<=e||t<=r.index&&r.index<e)&&(i(this._waiting,n),r.callback&&w(r.callback,new Error("Request cancelled")))}},C.prototype.clear=function(t,e,n,r){if("function"===typeof e)return this.clear(t,t+1,null,e);if("function"===typeof n)return this.clear(t,e,null,n);n||(n={}),e||(e=t+1),r||(r=O);var o=this,i=0===t?0:"number"===typeof n.byteOffset?n.byteOffset:-1,a="number"===typeof n.byteLength?n.byteLength:-1;this._ready(function(s){if(s)return r(s);for(var u=!1,c=t;c<e;c++)o.bitfield.set(c,!1)&&(u=!0);if(!u)return w(r);if(o._unannounce({start:t,length:e-t}),!1===n.delete||o._indexing)return l();if(i>-1)return f(null,i);function l(){o.emit("clear",t,e),o._sync(null,r)}function f(t,n){return t?r(t):(i=n,a>-1?h(null,a+i):e===o.length?h(null,o.byteLength):void o._storage.dataOffset(e,[],h))}function h(t,e){return t?r(t):o._storage.data.del?void o._storage.data.del(i,e-i,l):l()}o._storage.dataOffset(t,[],f)})},C.prototype.signature=function(t,e){return"function"===typeof t?this.signature(this.length-1,t):t<0||t>=this.length?e(new Error("No signature available for this index")):void this._storage.nextSignature(t,e)},C.prototype.verify=function(t,e,n){var r=this;this.rootHashes(t,function(t,o){if(t)return n(t);var i=A.tree(o);A.verify(i,e,r.key)?n(null,!0):n(new Error("Signature verification failed"))})},C.prototype.rootHashes=function(t,e){this._getRootsToVerify(2*t+2,{},[],e)},C.prototype.seek=function(t,e,n){if("function"===typeof e)return this.seek(t,null,e);if(e||(e={}),!this.opened)return this._readyAndSeek(t,e,n);var r=this;this._seek(t,function(o,i,a){if(!o&&j(i))return function(e,o){for(var i=0;i<r.peers.length;i++)r.peers[i].haveBytes(t);n(null,e,o)}(i/2,a);if(!1===e.wait)return n(o||new Error("Unable to seek to this offset"));var s=e.start||0,c=e.end||-1;if(!o){var l=u.leftSpan(i)/2,f=u.rightSpan(i)/2+1;l>s&&(s=l),(f<c||-1===c)&&(c=f)}if(c>-1&&c<=s)return n(new Error("Unable to seek to this offset"));r._waiting.push({hash:!1!==e.hash,bytes:t,index:-1,start:s,end:c,want:R(s),callback:n||O}),r._updatePeers()})},C.prototype._seek=function(t,e){if(0===t)return e(null,0,0);var n=this,r=u.fullRoots(2*this.length),o=0;function i(r){if(j(r))return e(null,r,t);for(var i=u.leftChild(r);!n.tree.get(i);){if(j(i))return e(null,o,t);i=u.leftChild(i)}n._storage.getNode(i,a)}function a(n,r){if(n)return e(n);r.size>t?(o=r.index,i(r.index)):(t-=r.size,i(u.sibling(r.index)))}!function a(s,u){if(s)return e(s);if(u){if(u.size>t)return o=u.index,i(u.index);t-=u.size}if(!r.length)return e(new Error("Out of bounds"));n._storage.getNode(r.shift(),a)}(null,null)},C.prototype._readyAndSeek=function(t,e,n){var r=this;this._ready(function(o){if(o)return n(o);r.seek(t,e,n)})},C.prototype._getBuffer=function(t,e){this._storage.getData(t,e)},C.prototype._putBuffer=function(t,e,n,r,o){for(var i=this,a=-1,s=[],c=2*t,l=e?0:1;;){if(this.tree.get(c)){a=c;break}var f=u.sibling(c);if(c=u.parent(c),l<n.nodes.length&&n.nodes[l].index===f)l++;else{if(!this.tree.get(f))break;s.push(f)}}-1===a&&this.tree.get(c)&&(a=c);var h=null,d=null,p=new Array(s.length),g=s.length+(a>-1?1:0);for(l=0;l<s.length;l++)this._storage.getNode(s[l],y);function y(t,e){t&&(h=t),e&&(p[s.indexOf(e.index)]=e),--g||v(h)}function v(a){if(a)return o(a);i._verifyAndWrite(t,e,n,p,d,r,o)}a>-1&&this._storage.getNode(a,function(t,e){t&&(h=t);e&&(d=e);--g||v(h)}),s.length||-1!==a||v(null)},C.prototype._readyAndPut=function(t,e,n,r){var o=this;this._ready(function(i){if(i)return r(i);o.put(t,e,n,r)})},C.prototype._write=function(t,e,n,r,o,i){if(!this._onwrite)return this._writeAfterHook(t,e,n,r,o,i);this._onwrite(t,e,o,function(t,e,n,r,o,i,a){return function(s){if(s)return a(s);t._writeAfterHook(e,n,r,o,i,a)}}(this,t,e,n,r,o,i))},C.prototype._writeAfterHook=function(t,e,n,r,o,i){for(var a=this,s=n.length+1+(r?1:0),u=null,c=0;c<n.length;c++)this._storage.putNode(n[c].index,n[c],l);function l(r){if(r&&(u=r),!--s)return u?i(u):void a._writeDone(t,e,n,o,i)}e?this._storage.putData(t,e,n,l):l(),r&&this._storage.putSignature(r.index,r.signature,l)},C.prototype._writeDone=function(t,e,n,r,o){for(var i=0;i<n.length;i++)this.tree.set(n[i].index);this.tree.set(2*t),e&&(this.bitfield.set(t,!0)&&this.emit("download",t,e,r),this.peers.length&&this._announce({start:t},r),this.writable||(this._synced||(this._synced=this.bitfield.iterator(0,this.length)),-1===this._synced.next()&&(this._synced.range(0,this.length),this._synced.seek(0),-1===this._synced.next()&&this.emit("sync")))),this._sync(null,o)},C.prototype._verifyAndWrite=function(t,e,n,r,o,i,a){var s=[],c=n.nodes,l=e?new b.Node(2*t,A.data(e),e.length):c.shift();if(T(o,l))this._write(t,e,s,null,i,a);else for(;;){var f=null,h=u.sibling(l.index);if(c.length&&c[0].index===h)f=c.shift(),s.push(f);else{if(!r.length||r[0].index!==h)return void this._verifyRootsAndWrite(t,e,l,n,s,i,a);f=r.shift()}if(s.push(l),T(o,l=new b.Node(u.parent(l.index),A.parent(l,f),l.size+f.size)))return void this._write(t,e,s,null,i,a)}},C.prototype._verifyRootsAndWrite=function(t,e,n,o,i,a,s){var c=o.nodes,l=c.length?c[c.length-1].index:n.index,f=Math.max(u.rightSpan(n.index),u.rightSpan(l))+2,h=this;this._getRootsToVerify(f,n,c,function(n,u,c){if(n)return s(n);var l=A.tree(u),d=null;if(h.length&&h.live&&!o.signature)return s(new Error("Remote did not include a signature"));if(o.signature){if(!A.verify(l,o.signature,h.key))return s(new Error("Remote signature could not be verified"));d={index:f/2-1,signature:o.signature}}else if(!r(l,h.key))return s(new Error("Remote checksum failed"));h.live=!!d;var p=f/2;p>h.length&&(h.writable&&(h._merkle=null),h.length=p,h._seq=p,h.byteLength=u.reduce(B,0),h._synced&&h._synced.seek(0,h.length),h.emit("append")),h._write(t,e,i.concat(c),d,a,s)})},C.prototype._getRootsToVerify=function(t,e,n,r){for(var o=u.fullRoots(t),i=new Array(o.length),a=[],s=null,c=i.length,l=0;l<o.length;l++)o[l]===e.index?(a.push(e),f(null,e)):n.length&&o[l]===n[0].index?(a.push(n[0]),f(null,n.shift())):this.tree.get(o[l])?this._storage.getNode(o[l],f):f(new Error("Missing tree roots needed for verify"));function f(t,e){t&&(s=t),e&&(i[o.indexOf(e.index)]=e),--c||function(t){if(t)return r(t);r(null,i,a)}(s)}},C.prototype._announce=function(t,e){for(var n=0;n<this.peers.length;n++){var r=this.peers[n];r!==e&&r.have(t)}},C.prototype._unannounce=function(t){for(var e=0;e<this.peers.length;e++)this.peers[e].unhave(t)},C.prototype.downloaded=function(t,e){return this.bitfield.total(t,e)},C.prototype.has=function(t,e){return void 0===e?this.bitfield.get(t):e-t===this.bitfield.total(t,e)},C.prototype.head=function(t,e){if("function"===typeof t)return this.head({},t);var n=this;this._ready(function(t){if(t)return e(t);0===n.length?e(new Error("feed is empty")):n.get(n.length-1,e)})},C.prototype.get=function(t,e,n){return"function"===typeof e?this.get(t,null,e):this.opened?this.readable?(e&&e.timeout&&(n=D(n,e.timeout)),this.bitfield.get(t)?(e&&e.valueEncoding?n=N(M(e.valueEncoding),n):this._codec!==f.binary&&(n=N(this._codec,n)),void this._getBuffer(t,n)):e&&!1===e.wait?n(new Error("Block not downloaded")):(this._waiting.push({bytes:0,hash:!1,index:t,options:e,callback:n}),void this._updatePeers())):n(new Error("Feed is closed")):this._readyAndGet(t,e,n)},C.prototype._readyAndGet=function(t,e,n){var r=this;this._ready(function(o){if(o)return n(o);r.get(t,e,n)})},C.prototype.getBatch=function(t,e,n,r){if("function"===typeof n)return this.getBatch(t,e,null,n);if(!this.opened)return this._readyAndGetBatch(t,e,n,r);var o=this,i=!n||!1!==n.wait;return this.has(t,e)?this._getBatch(t,e,n,r):i?(n&&n.timeout&&(r=D(r,n.timeout)),void this.download({start:t,end:e},function(i){if(i)return r(i);o._getBatch(t,e,n,r)})):r(new Error("Block not downloaded"))},C.prototype._getBatch=function(t,e,n,r){var o=n&&n.valueEncoding,i=o?M(o):this._codec;this._storage.getDataBatch(t,e-t,function(t,e){if(t)return r(t);for(var n=new Array(e.length),o=0;o<e.length;o++)try{n[o]=i?i.decode(e[o]):e[o]}catch(t){return r(t)}r(null,n)})},C.prototype._readyAndGetBatch=function(t,e,n,r){var o=this;this._ready(function(i){if(i)return r(i);o.getBatch(t,e,n,r)})},C.prototype._updatePeers=function(){for(var t=0;t<this.peers.length;t++)this.peers[t].update()},C.prototype.createWriteStream=function(){var t=this;return c.obj(function(e,n){t.append(e,n)})},C.prototype.createReadStream=function(t){t||(t={});var e=this,n=t.start||0,r="number"===typeof t.end?t.end:-1,o=!!t.live,i=!1!==t.snapshot,a=!0,s=this.download({start:n,end:r,linear:!0});return l.obj(u).on("end",c).on("close",c);function u(c,l){if(!e.opened)return function(t,n){e._ready(function(e){if(e)return n(e);u(t,n)})}(c,l);if(!e.readable)return l(new Error("Feed is closed"));if(a){if(-1===r&&(o?r=1/0:i&&(r=e.length),n>r))return l(null,null);t.tail&&(n=e.length),a=!1}if(n===r||-1===r&&n===e.length)return l(null,null);s.start++,s.iterator&&s.iterator.start++,e.get(n++,t,l)}function c(){s&&(e.undownload(s),s=null)}},C.prototype.finalize=function(t){this.key||(this.key=A.tree(this._merkle.roots),this.discoveryKey=A.discoveryKey(this.key)),this._storage.key.write(0,this.key,t)},C.prototype.append=function(t,e){e||(e=O);var n=this,r=Array.isArray(t)?t:[t];this._batch(r,function(t){if(t)return e(t);var o=n._seq;n._seq+=r.length,e(null,o)})},C.prototype.flush=function(t){this.append([],t)},C.prototype.close=function(t){var e=this;this._ready(function(){e.writable=!1,e.readable=!1,e._storage.close(function(n){e.closed||n||e._onclose(),t&&t(n)})})},C.prototype._onclose=function(){for(this.closed=!0;this._waiting.length;)this._waiting.pop().callback(new Error("Feed is closed"));for(;this._selections.length;)this._selections.pop().callback(new Error("Feed is closed"));this.emit("close")},C.prototype._appendHook=function(t,e){var n=this,r=t.length,o=null;if(!r)return this._append(t,e);for(var i=0;i<t.length;i++)this._onwrite(i+this.length,t[i],null,a);function a(i){if(i&&(o=i),!--r)return o?e(o):void n._append(t,e)}},C.prototype._append=function(t,e){if(!this.opened)return this._readyAndAppend(t,e);if(!this.writable)return e(new Error("This feed is not writable. Did you create it?"));var n=this,r=this.live&&t.length?1+t.length:t.length,o=0,i=null;if(!r)return e();for(var a=0;a<t.length;a++){var s=this._codec.encode(t[a]),u=this._merkle.next(s);if(this._indexing?h(null):this._storage.data.write(this.byteLength+o,s,h),this.live&&a===t.length-1){var c=A.sign(A.tree(this._merkle.roots),this.secretKey);this._storage.putSignature(this.length+a,c,h)}r+=u.length,o+=s.length;for(var l=0;l<u.length;l++){var f=u[l];this._storage.putNode(f.index,f,h)}}function h(a){if(a&&(i=a),!--r){if(i)return e(i);var s=n.length;n.byteLength+=o;for(var u=0;u<t.length;u++)n.bitfield.set(n.length,!0),n.tree.set(2*n.length++);n.emit("append");var c=n.length-s>1?{start:s,length:n.length-s}:{start:s};n.peers.length&&n._announce(c),n._sync(null,e)}}},C.prototype._readyAndAppend=function(t,e){var n=this;this._ready(function(r){if(r)return e(r);n._append(t,e)})},C.prototype._readyAndCancel=function(t,e){var n=this;this.ready(function(){n._cancel(t,e)})},C.prototype._pollWaiting=function(){for(var t=this._waiting.length,e=0;e<t;e++){var n=this._waiting[e];(n.bytes||this.bitfield.get(n.index))&&(i(this._waiting,e--),t--,n.bytes?this.seek(n.bytes,n,n.callback):n.update?this.update(n.index+1,n.callback):this.get(n.index,n.options,n.callback))}},C.prototype._syncBitfield=function(t){var e=this.bitfield.pages.updates.length,n=null,r=null;if(!e)return this._pollWaiting(),t(null);for(;null!==(n=this.bitfield.pages.lastUpdate());)this._storage.putBitfield(n.offset,n.buffer,o);function o(n){n&&(r=n),--e||t(r)}this._pollWaiting()},C.prototype._roots=function(t,e){var n=u.fullRoots(2*t),r=new Array(n.length),o=n.length,i=null;if(!o)return e(null,r);for(var a=0;a<n.length;a++)this._storage.getNode(n[a],s);function s(t,a){if(t&&(i=t),a&&(r[n.indexOf(a.index)]=a),!--o)return i?e(i):void e(null,r)}},C.prototype.audit=function(t){t||(t=O);var e=this,n={valid:0,invalid:0};this.ready(function(r){if(r)return t(r);var o=0,i=e.length;function a(t,r){if(t)return i(null,null);function i(t,i){var a=i&&A.data(i).equals(r.hash);a?n.valid++:n.invalid++,e.bitfield.set(o,a),o++,s()}e._storage.getData(o,i)}function s(){for(;o<i&&!e.bitfield.get(o);)o++;o>=i?e._sync(null,function(e){if(e)return t(e);t(null,n)}):e._storage.getNode(2*o,a)}s()})}}).call(this,n(4).Buffer)},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return!0;if("function"===typeof t.equals)return t.equals(n);if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}}).call(this,n(4).Buffer)},function(t,e){function n(t){}t.exports=function(t){var e=null,r=null,o=null,i=null;return function(t,e){i=t,a(e||n)};function a(n){if(r)return e||(e=[]),void e.push(n);var o=i;i=null,r=n,t(o,s)}function s(t){var i=r,s=o;if(o=null,r=null,e&&(o=e,e=null,a(n)),s)for(var u=0;u<s.length;u++)s[u](t);i(t)}}},function(t,e,n){(function(e){var r=n(41);function o(t,e){if(!(this instanceof o))return new o(t,e);if(!t||!t.leaf||!t.parent)throw new Error("opts.leaf and opts.parent required");this.roots=e||t.roots||[],this.blocks=this.roots.length?1+r.rightSpan(this.roots[this.roots.length-1].index)/2:0;for(var n=0;n<this.roots.length;n++){var i=this.roots[n];i&&!i.parent&&(i.parent=r.parent(i.index))}this._leaf=t.leaf,this._parent=t.parent}t.exports=o,o.prototype.next=function(t,n){e.isBuffer(t)||(t=new e(t)),n||(n=[]);var o=2*this.blocks++,i={index:o,parent:r.parent(o),hash:null,size:t.length,data:t};for(i.hash=this._leaf(i,this.roots),this.roots.push(i),n.push(i);this.roots.length>1;){var a=this.roots[this.roots.length-2],s=this.roots[this.roots.length-1];if(a.parent!==s.parent)break;this.roots.pop(),this.roots[this.roots.length-1]=i={index:a.parent,parent:r.parent(a.parent),hash:this._parent(a,s),size:a.size+s.size,data:null},n.push(i)}return n}}).call(this,n(4).Buffer)},function(t,e,n){(function(e){var r=n(18).Readable,o=n(8);t.exports=a,a.ctor=s,a.obj=function(t,e){("function"===typeof t||Array.isArray(t))&&(e=t,t={});return(t=c(t)).objectMode=!0,t.highWaterMark=16,a(t,e)};var i=s();function a(t,e){("object"!==typeof t||Array.isArray(t))&&(e=t,t={});var n,r=new i(t);return r._from=Array.isArray(e)?(n=(n=e).slice(),function(t,e){var r=null,o=n.length?n.shift():null;o instanceof Error&&(r=o,o=null),e(r,o)}):e||u,r}function s(t,n){function i(e){if(!(this instanceof i))return new i(e);this._reading=!1,this._callback=function(t,e){if(n.destroyed)return;if(t)return n.destroy(t);if(null===e)return n.push(null);n._reading=!1,n.push(e)&&n._read(o)},this.destroyed=!1,r.call(this,e||t);var n=this,o=this._readableState.highWaterMark}return"function"===typeof t&&(n=t,t={}),t=c(t),o(i,r),i.prototype._from=n||u,i.prototype._read=function(t){this._reading||this.destroyed||(this._reading=!0,this._from(t,this._callback))},i.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},i}function u(){}function c(t){return t=t||{}}}).call(this,n(5))},function(t,e){t.exports=function(t){var e=!1,n=null,r=null,o=null;return function(a,s){e?(n||(n=[],r=[]),function(t,e){Array.isArray(e)?function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}(t,e):t.push(e)}(n,a),s&&r.push(s)):(s&&(o=[s]),e=!0,t(Array.isArray(a)?a:[a],i))};function i(a){o&&function(t,e){for(var n=0;n<t.length;n++)t[n](e)}(o,a),e=!1,o=r;var s=n;if(n=null,r=null,!s||!s.length){if(!o||!o.length)return void(o=null);s||(s=[])}e=!0,t(s,i)}}},function(t,e,n){(function(e){for(var r=n(41),o=n(108),i=n(109),a=n(67),s=n(21),u=[63,207,243,252],c=[0,192,240,252],l=[128,192,224,240,248,252,254,255],f=[127,191,223,239,247,251,253,254],h=new Array(256),d=new Array(256),p=new Array(256),g=new Array(256),y=new Array(256),v=0;v<256;v++){var m=(240&v)>>4,_=15&v,b=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];h[v]=(15===m?3:0===m?0:1)<<2|(15===_?3:0===_?0:1),d[v]=h[v]<<4,p[v]=255===v?-1:8-Math.ceil(Math.log(256-v)/Math.log(2)),g[v]=255===v?-1:Math.floor(p[v]/2),y[v]=b[v>>4]+b[15&v]}function A(t,e){if(!(this instanceof A))return new A(t,e);t||(t=3584);var n=s(t);if(n.fill(255),this.indexSize=t-2048-1024,this.pages=i(t,{deduplicate:n}),e)for(var o=0;o<e.length;o++)this.pages.set(o,e[o]);this.data=a({pageSize:1024,pageOffset:0,pages:this.pages,trackUpdates:!0}),this.tree=a({pageSize:2048,pageOffset:1024,pages:this.pages,trackUpdates:!0}),this.index=a({pageSize:this.indexSize,pageOffset:3072,pages:this.pages,trackUpdates:!0}),this.length=this.data.length,this._iterator=r.iterator(0)}function w(t,e,n){return!(8*e>=t.length)&&t.setByte(e,n)}function k(t){this.start=0,this.end=0,this._indexEnd=0,this._pos=0,this._byte=0,this._bitfield=t}function E(t){return t.index+t.factor/2-1}function S(t){return 1&t.index}t.exports=A,A.prototype.set=function(t,e){var n=7&t;t=(t-n)/8;var r=e?this.data.getByte(t)|128>>n:this.data.getByte(t)&f[n];return!!this.data.setByte(t,r)&&(this.length=this.data.length,this._setIndex(t,r),!0)},A.prototype.get=function(t){return this.data.get(t)},A.prototype.total=function(t,e){if((!t||t<0)&&(t=0),e||(e=this.data.length),e<t)return 0;e>this.data.length&&this._expand(e);var n=7&t,r=7&e,o=(t-n)/8,i=(e-r)/8,a=255-(n?l[n-1]:0),s=r?l[r-1]:0,u=this.data.getByte(o);if(o===i)return y[u&a&s];for(var c=y[u&a],f=o+1;f<i;f++)c+=y[this.data.getByte(f)];return c+=y[this.data.getByte(i)&s]},A.prototype.compress=function(t,n){if(!t&&!n)return o.encode(this.data.toBuffer());for(var r=e.alloc(n),i=t/this.data.pageSize/8,a=i+n/this.data.pageSize/8,s=i*this.data.pageSize;i<a;i++){var u=this.data.pages.get(i,!0);u&&u.buffer&&u.buffer.copy(r,i*this.data.pageSize-s,this.data.pageOffset,this.data.pageOffset+this.data.pageSize)}return o.encode(r)},A.prototype._setIndex=function(t,e){var n=3&t;t=(t-n)/4;var r=this.index,o=this._iterator,i=2*t,a=r.getByte(i)&u[n]|function(t){switch(t){case 255:return 192;case 0:return 0;default:return 64}}(e)>>2*n,s=r.length,c=this.pages.length*this.indexSize;for(o.seek(i);o.index<c&&r.setByte(o.index,a);)a=o.isLeft()?d[a]|h[r.getByte(o.sibling())]:h[a]|d[r.getByte(o.sibling())],o.parent();return s!==r.length&&this._expand(s),o.index!==i},A.prototype._expand=function(t){for(var e=r.fullRoots(2*t),n=this.index,o=this._iterator,i=0,a=0;a<e.length;a++){o.seek(e[a]),i=n.getByte(o.index);do{i=o.isLeft()?d[i]|h[n.getByte(o.sibling())]:h[i]|d[n.getByte(o.sibling())]}while(w(n,o.parent(),i))}},A.prototype.iterator=function(t,e){var n=new k(this);return n.range(t||0,e||this.length),n.seek(0),n},k.prototype.range=function(t,e){return this.start=t,this.end=e,this._indexEnd=2*Math.ceil(e/32),this.end>this._bitfield.length&&this._bitfield._expand(this.end),this},k.prototype.seek=function(t){if((t+=this.start)<this.start&&(t=this.start),t>=this.end)return this._pos=-1,this;var e=7&t;return this._pos=(t-e)/8,this._byte=this._bitfield.data.getByte(this._pos)|(e?l[e-1]:0),this},k.prototype.random=function(){var t=this.seek(Math.floor(Math.random()*(this.end-this.start))).next();return-1===t?this.seek(0).next():t},k.prototype.next=function(){if(-1===this._pos)return-1;for(var t=this._bitfield.data,e=p[this._byte];-1===e;)if(this._byte=t.getByte(++this._pos),-1===(e=p[this._byte])){if(this._pos=this._skipAhead(this._pos),-1===this._pos)return-1;this._byte=t.getByte(this._pos),e=p[this._byte]}this._byte|=l[e];var n=8*this._pos+e;return n<this.end?n:-1},k.prototype.peek=function(){if(-1===this._pos)return-1;var t=p[this._byte],e=8*this._pos+t;return e<this.end?e:-1},k.prototype._skipAhead=function(t){var e=this._bitfield.index,n=this._indexEnd,r=this._bitfield._iterator,o=3&t;r.seek((t-o)/4*2);for(var i=e.getByte(r.index)|c[o];-1===g[i];){if(r.isLeft()?r.next():(r.next(),r.parent()),E(r)>=n){for(;E(r)>=n&&S(r);)r.leftChild();if(E(r)>=n)return-1}i=e.getByte(r.index)}for(;r.factor>2;)g[i]<2?r.leftChild():r.rightChild(),i=e.getByte(r.index);var a=g[i];-1===a&&(a=4);var s=2*r.index+a;return s<=t?t+1:s}}).call(this,n(4).Buffer)},function(t,e,n){t.exports={encode:n(218),decode:n(219),encodingLength:n(220)}},function(t,e){t.exports=function t(e,i,a){i=i||[];a=a||0;var s=a;for(;e>=o;)i[a++]=255&e|n,e/=128;for(;e&r;)i[a++]=255&e|n,e>>>=7;i[a]=0|e;t.bytes=a-s+1;return i};var n=128,r=-128,o=Math.pow(2,31)},function(t,e){t.exports=function t(e,o){var i,a=0,o=o||0,s=0,u=o,c=e.length;do{if(u>=c)return t.bytes=0,void(t.bytesRead=0);i=e[u++],a+=s<28?(i&r)<<s:(i&r)*Math.pow(2,s),s+=7}while(i>=n);t.bytes=u-o;return a};var n=128,r=127},function(t,e){var n=Math.pow(2,7),r=Math.pow(2,14),o=Math.pow(2,21),i=Math.pow(2,28),a=Math.pow(2,35),s=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),l=Math.pow(2,63);t.exports=function(t){return t<n?1:t<r?2:t<o?3:t<i?4:t<a?5:t<s?6:t<u?7:t<c?8:t<l?9:10}},function(t,e,n){var r=n(111),o=n(41),i=n(112),a=n(21);t.exports=u;var s=[];function u(t,e){if(!(this instanceof u))return new u(t,e);e="undefined"===typeof e?65536:e,this.cache=e>0?i(e,{indexedValues:!0}):null,this.key=null,this.secretKey=null,this.tree=null,this.data=null,this.bitfield=null,this.signatures=null,this.create=t}function c(){}function l(t,e,n){var r=a(32);return r.fill(0),r[0]=5,r[1]=2,r[2]=87,r[3]=t,r[4]=0,r.writeUInt16BE(e,5),n&&(r[7]=n.length,r.write(n,8)),r}function f(t,e,n){this.index=t,this.hash=e,this.size=n}function h(t,e){for(var n=0;n<t.length;n++)if(t[n].index===e)return t[n];return null}function d(t){for(var e=0;e<t.length;e++)if(t[e])return!1;return!0}function p(t,e){t.close?t.close(e):e()}u.prototype.putData=function(t,e,n,r){r||(r=c);var o=this;if(!e.length)return r(null);this.dataOffset(t,n,function(t,n,i){return t?r(t):i!==e.length?r(new Error("Unexpected data size")):void o.data.write(n,e,r)})},u.prototype.getData=function(t,e){var n=this;this.dataOffset(t,s,function(t,r,o){if(t)return e(t);n.data.read(r,o,e)})},u.prototype.nextSignature=function(t,e){var n=this;this._getSignature(t,function(r,o){return r?e(r):d(o)?n.nextSignature(t+1,e):void e(null,{index:t,signature:o})})},u.prototype.getSignature=function(t,e){this._getSignature(t,function(t,n){return t?e(t):d(n)?e(new Error("No signature found")):void e(null,n)})},u.prototype._getSignature=function(t,e){this.signatures.read(32+64*t,64,e)},u.prototype.putSignature=function(t,e,n){this.signatures.write(32+64*t,e,n)},u.prototype.dataOffset=function(t,e,n){var r=o.fullRoots(2*t),i=this,a=0,s=r.length,u=null,c=2*t;if(!s)return s=1,void p(null,null);for(var l=0;l<r.length;l++){var f=h(e,r[l]);f?p(null,f):this.getNode(r[l],p)}function d(t,e){if(t)return n(t);n(null,a,e.size)}function p(t,r){if(t&&(u=t),r&&(a+=r.size),!--s){if(u)return n(u);var o=h(e,c);o?d(null,o):i.getNode(c,d)}}},u.prototype.getDataBatch=function(t,e,n){var o=new Array(e),i=new Array(e),a=this;this.dataOffset(t,s,function(s,u,c){if(s)return n(s);if(t++,--e<=0)return l(null,null);function l(t,e){if(t)return n(t);var o=i[0]=c;if(e)for(var s=1;s<i.length;s++)i[s]=r.decode(e,32+80*(s-1)),o+=i[s];a.data.read(u,o,f)}function f(t,e){if(t)return n(t);for(var r=0,a=0;a<o.length;a++)o[a]=e.slice(r,r+=i[a]);n(null,o)}a.tree.read(32+80*t,80*e-40,l)})},u.prototype.getNode=function(t,e){if(this.cache){var n=this.cache.get(t);if(n)return e(null,n)}var o=this;this.tree.read(32+40*t,40,function(n,i){if(n)return e(n);var a=i.slice(0,32),s=r.decode(i,32);if(!s&&d(a))return e(new Error("No node found"));var u=new f(t,a,s,null);o.cache&&o.cache.set(t,u),e(null,u)})},u.prototype.putNode=function(t,e,n){n||(n=c);var o=a(40);e.hash.copy(o,0),r.encode(e.size,o,32),this.tree.write(32+40*t,o,n)},u.prototype.putBitfield=function(t,e,n){this.bitfield.write(32+t,e,n)},u.prototype.close=function(t){t||(t=c);var e=6,n=null;function r(r){r&&(n=r),--e||t(n)}p(this.bitfield,r),p(this.tree,r),p(this.data,r),p(this.key,r),p(this.secretKey,r),p(this.signatures,r)},u.prototype.openKey=function(t,e){if("function"===typeof t)return this.openKey({},t);this.key||(this.key=this.create("key",t)),this.key.read(0,32,e)},u.prototype.open=function(t,e){if("function"===typeof t)return this.open({},t);var n=this,r=null,o=5;this.key||(this.key=this.create("key",t)),this.secretKey||(this.secretKey=this.create("secret_key",t)),this.tree||(this.tree=this.create("tree",t)),this.data||(this.data=this.create("data",t)),this.bitfield||(this.bitfield=this.create("bitfield",t)),this.signatures||(this.signatures=this.create("signatures",t));var i={bitfield:[],bitfieldPageSize:3584,secretKey:null,key:null};function a(t){t&&(r=t),--o||(r?e(r):e(null,i))}this.bitfield.read(0,32,function(t,r){r&&(i.bitfieldPageSize=r.readUInt16BE(5)),n.bitfield.write(0,l(0,i.bitfieldPageSize,null),function(t){if(t)return e(t);!function(t,e,n,r){if(!0===t.statable)return function(t,e,n,r){t.stat(function(o,i){if(o)return r(null,[]);var a=[];!function o(s,u){if(s)return r(s);if(u){e+=u.length;for(var c=0;c<u.length;c+=n)a.push(u.slice(c,c+n))}var l=Math.min(i.size-e,32*n);if(!l)return r(null,a);t.read(e,l,o)}(null,null)})}(t,e,n,r);var o=[];t.read(e,n,function i(a,s){if(a)return r(null,o);o.push(s);t.read(e+o.length*n,n,i)})}(n.bitfield,32,i.bitfieldPageSize,function(t,e){e&&(i.bitfield=e),a(t)})})}),this.signatures.write(0,l(1,64,"Ed25519"),a),this.tree.write(0,l(2,40,"BLAKE2b"),a),this.secretKey.read(0,64,function(t,e){e&&(i.secretKey=e),a(null)}),this.key.read(0,32,function(t,e){e&&(i.key=e),a(null)})},u.Node=f},function(t,e,n){(function(e){var r=n(223),o=n(21);t.exports=function(t,n,i){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative');if(e.alloc)return e.alloc(t,n,i);var a=o(t);return 0===t?a:void 0===n?r(a,0):("string"!==typeof i&&(i=void 0),r(a,n,i))}}).call(this,n(4).Buffer)},function(t,e,n){(function(e){var n=function(){try{if(!e.isEncoding("latin1"))return!1;var t=e.alloc?e.alloc(4):new e(4);return t.fill("ab","ucs2"),"61006200"===t.toString("hex")}catch(n){return!1}}();function r(t,e,n,r){if(n<0||r>t.length)throw new RangeError("Out of range index");return n>>>=0,(r=void 0===r?t.length:r>>>0)>n&&t.fill(e,n,r),t}t.exports=function(t,o,i,a,s){if(n)return t.fill(o,i,a,s);if("number"===typeof o)return r(t,o,i,a);if("string"===typeof o){if("string"===typeof i?(s=i,i=0,a=t.length):"string"===typeof a&&(s=a,a=t.length),void 0!==s&&"string"!==typeof s)throw new TypeError("encoding must be a string");if("latin1"===s&&(s="binary"),"string"===typeof s&&!e.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(""===o)return r(t,0,i,a);if(function(t){return 1===t.length&&t.charCodeAt(0)<256}(o))return r(t,o.charCodeAt(0),i,a);o=new e(o,s)}return e.isBuffer(o)?function(t,e,n,r){if(n<0||r>t.length)throw new RangeError("Out of range index");if(r<=n)return t;n>>>=0,r=void 0===r?t.length:r>>>0;for(var o=n,i=e.length;o<=r-i;)e.copy(t,o),o+=i;return o!==r&&e.copy(t,o,0,r-o),t}(t,o,i,a):r(t,0,i,a)}}).call(this,n(4).Buffer)},function(t,e){var n=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];t.exports=function(t){for(var e=0,r=0,o=0;o<8;o++)t=(t-(r=255&t))/256,e=65535&(e<<8^n[255&(e>>8^r)]);return e}},function(t,e,n){var r=n(42),o=n(111),i=n(49),a=n(21),s=i([0]),u=i([1]),c=i([2]),l=i("hypercore");function f(t){return o.encode(t,a(8))}function h(t){var e=a(32);return r.crypto_generichash_batch(e,t),e}e.keyPair=function(t){var e=a(r.crypto_sign_PUBLICKEYBYTES),n=a(r.crypto_sign_SECRETKEYBYTES);return t?r.crypto_sign_seed_keypair(e,n,t):r.crypto_sign_keypair(e,n),{publicKey:e,secretKey:n}},e.sign=function(t,e){var n=a(r.crypto_sign_BYTES);return r.crypto_sign_detached(n,t,e),n},e.verify=function(t,e,n){return r.crypto_sign_verify_detached(e,t,n)},e.data=function(t){return h([s,f(t.length),t])},e.leaf=function(t){return e.data(t.data)},e.parent=function(t,e){if(t.index>e.index){var n=t;t=e,e=n}return h([u,f(t.size+e.size),t.hash,e.hash])},e.tree=function(t){var e=new Array(3*t.length+1),n=0;e[n++]=c;for(var r=0;r<t.length;r++){var o=t[r];e[n++]=o.hash,e[n++]=f(o.index),e[n++]=f(o.size)}return h(e)},e.randomBytes=function(t){var e=a(t);return r.randombytes_buf(e),e},e.discoveryKey=function(t){var e=a(32);return r.crypto_generichash(e,l,t),e}},function(t,e,n){"use strict";var r=t.exports,o=n(113),i=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},a=n(68).randombytes,s=(new Uint8Array(16),new Uint8Array(32));s[0]=9;var u=i(),c=i([1]),l=i([56129,1]),f=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function v(t,e,n,r,o){var i,a=0;for(i=0;i<o;i++)a|=t[e+i]^n[r+i];return(1&a-1>>>8)-1}function m(t,e,n,r){return v(t,e,n,r,32)}var _=function(t){var e,n,r,o,i,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function b(t,e,n,r,i,a,s){o.crypto_stream_xor(t,n,a,s)}function A(t,e,n,r,o,i){var a=new _(i);return a.update(n,r,o),a.finish(t,e),0}function w(t,e,n,r,o,i){var a=new Uint8Array(16);return A(a,0,n,r,o,i),function(t,e,n,r){return v(t,e,n,r,16)}(t,e,a,0)}function k(t,e,n,r,i){var a,s=new Uint8Array(32);if(n<32)return-1;if(function(t,e,n,r,i){o.crypto_stream(t,r,i)}(s,0,0,r,i),0!==w(e,16,e,32,n-32,s))return-1;for(b(t,0,e,0,0,r,i),a=0;a<32;a++)t[a]=0;return 0}function E(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function S(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function x(t,e,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(t[i]^e[i]),t[i]^=r,e[i]^=r}function I(t,e){var n,r,o,a=i(),s=i();for(n=0;n<16;n++)s[n]=e[n];for(S(s),S(s),S(s),r=0;r<2;r++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,x(s,a,1-o)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function C(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return I(n,t),I(r,e),m(n,0,r,0)}function O(t){var e=new Uint8Array(32);return I(e,t),1&e[0]}function T(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function B(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function j(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function M(t,e,n){var r,o,i=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,g=0,y=0,v=0,m=0,_=0,b=0,A=0,w=0,k=0,E=0,S=0,x=0,I=0,C=0,O=0,T=0,B=0,j=0,M=0,N=0,D=0,L=n[0],R=n[1],P=n[2],F=n[3],U=n[4],z=n[5],q=n[6],Q=n[7],K=n[8],H=n[9],W=n[10],V=n[11],Y=n[12],J=n[13],G=n[14],$=n[15];i+=(r=e[0])*L,a+=r*R,s+=r*P,u+=r*F,c+=r*U,l+=r*z,f+=r*q,h+=r*Q,d+=r*K,p+=r*H,g+=r*W,y+=r*V,v+=r*Y,m+=r*J,_+=r*G,b+=r*$,a+=(r=e[1])*L,s+=r*R,u+=r*P,c+=r*F,l+=r*U,f+=r*z,h+=r*q,d+=r*Q,p+=r*K,g+=r*H,y+=r*W,v+=r*V,m+=r*Y,_+=r*J,b+=r*G,A+=r*$,s+=(r=e[2])*L,u+=r*R,c+=r*P,l+=r*F,f+=r*U,h+=r*z,d+=r*q,p+=r*Q,g+=r*K,y+=r*H,v+=r*W,m+=r*V,_+=r*Y,b+=r*J,A+=r*G,w+=r*$,u+=(r=e[3])*L,c+=r*R,l+=r*P,f+=r*F,h+=r*U,d+=r*z,p+=r*q,g+=r*Q,y+=r*K,v+=r*H,m+=r*W,_+=r*V,b+=r*Y,A+=r*J,w+=r*G,k+=r*$,c+=(r=e[4])*L,l+=r*R,f+=r*P,h+=r*F,d+=r*U,p+=r*z,g+=r*q,y+=r*Q,v+=r*K,m+=r*H,_+=r*W,b+=r*V,A+=r*Y,w+=r*J,k+=r*G,E+=r*$,l+=(r=e[5])*L,f+=r*R,h+=r*P,d+=r*F,p+=r*U,g+=r*z,y+=r*q,v+=r*Q,m+=r*K,_+=r*H,b+=r*W,A+=r*V,w+=r*Y,k+=r*J,E+=r*G,S+=r*$,f+=(r=e[6])*L,h+=r*R,d+=r*P,p+=r*F,g+=r*U,y+=r*z,v+=r*q,m+=r*Q,_+=r*K,b+=r*H,A+=r*W,w+=r*V,k+=r*Y,E+=r*J,S+=r*G,x+=r*$,h+=(r=e[7])*L,d+=r*R,p+=r*P,g+=r*F,y+=r*U,v+=r*z,m+=r*q,_+=r*Q,b+=r*K,A+=r*H,w+=r*W,k+=r*V,E+=r*Y,S+=r*J,x+=r*G,I+=r*$,d+=(r=e[8])*L,p+=r*R,g+=r*P,y+=r*F,v+=r*U,m+=r*z,_+=r*q,b+=r*Q,A+=r*K,w+=r*H,k+=r*W,E+=r*V,S+=r*Y,x+=r*J,I+=r*G,C+=r*$,p+=(r=e[9])*L,g+=r*R,y+=r*P,v+=r*F,m+=r*U,_+=r*z,b+=r*q,A+=r*Q,w+=r*K,k+=r*H,E+=r*W,S+=r*V,x+=r*Y,I+=r*J,C+=r*G,O+=r*$,g+=(r=e[10])*L,y+=r*R,v+=r*P,m+=r*F,_+=r*U,b+=r*z,A+=r*q,w+=r*Q,k+=r*K,E+=r*H,S+=r*W,x+=r*V,I+=r*Y,C+=r*J,O+=r*G,T+=r*$,y+=(r=e[11])*L,v+=r*R,m+=r*P,_+=r*F,b+=r*U,A+=r*z,w+=r*q,k+=r*Q,E+=r*K,S+=r*H,x+=r*W,I+=r*V,C+=r*Y,O+=r*J,T+=r*G,B+=r*$,v+=(r=e[12])*L,m+=r*R,_+=r*P,b+=r*F,A+=r*U,w+=r*z,k+=r*q,E+=r*Q,S+=r*K,x+=r*H,I+=r*W,C+=r*V,O+=r*Y,T+=r*J,B+=r*G,j+=r*$,m+=(r=e[13])*L,_+=r*R,b+=r*P,A+=r*F,w+=r*U,k+=r*z,E+=r*q,S+=r*Q,x+=r*K,I+=r*H,C+=r*W,O+=r*V,T+=r*Y,B+=r*J,j+=r*G,M+=r*$,_+=(r=e[14])*L,b+=r*R,A+=r*P,w+=r*F,k+=r*U,E+=r*z,S+=r*q,x+=r*Q,I+=r*K,C+=r*H,O+=r*W,T+=r*V,B+=r*Y,j+=r*J,M+=r*G,N+=r*$,b+=(r=e[15])*L,a+=38*(w+=r*P),s+=38*(k+=r*F),u+=38*(E+=r*U),c+=38*(S+=r*z),l+=38*(x+=r*q),f+=38*(I+=r*Q),h+=38*(C+=r*K),d+=38*(O+=r*H),p+=38*(T+=r*W),g+=38*(B+=r*V),y+=38*(j+=r*Y),v+=38*(M+=r*J),m+=38*(N+=r*G),_+=38*(D+=r*$),i=(r=(i+=38*(A+=r*R))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),_=(r=_+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),v=(r=v+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),_=(r=_+o+65535)-65536*(o=Math.floor(r/65536)),b=(r=b+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=h,t[8]=d,t[9]=p,t[10]=g,t[11]=y,t[12]=v,t[13]=m,t[14]=_,t[15]=b}function N(t,e){M(t,e,e)}function D(t,e){var n,r=i();for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)N(r,r),2!==n&&4!==n&&M(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function L(t,e,n){ct(t,ot),ct(e,it),ct(n,ot);var r,o,a=new Uint8Array(32),s=new Float64Array(80),u=i(),c=i(),f=i(),h=i(),d=i(),p=i();for(o=0;o<31;o++)a[o]=e[o];for(a[31]=127&e[31]|64,a[0]&=248,T(s,n),o=0;o<16;o++)c[o]=s[o],h[o]=u[o]=f[o]=0;for(u[0]=h[0]=1,o=254;o>=0;--o)x(u,c,r=a[o>>>3]>>>(7&o)&1),x(f,h,r),B(d,u,f),j(u,u,f),B(f,c,h),j(c,c,h),N(h,d),N(p,u),M(u,f,u),M(f,c,d),B(d,u,f),j(u,u,f),N(c,u),j(f,h,p),M(u,f,l),B(u,u,h),M(f,f,u),M(u,h,p),M(h,c,s),N(c,d),x(u,c,r),x(f,h,r);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=f[o],s[o+48]=c[o],s[o+64]=h[o];var g=s.subarray(32),y=s.subarray(16);return D(g,g),M(y,y,g),I(t,y),0}_.prototype.blocks=function(t,e,n){for(var r,o,i,a,s,u,c,l,f,h,d,p,g,y,v,m,_,b,A,w=this.fin?0:2048,k=this.h[0],E=this.h[1],S=this.h[2],x=this.h[3],I=this.h[4],C=this.h[5],O=this.h[6],T=this.h[7],B=this.h[8],j=this.h[9],M=this.r[0],N=this.r[1],D=this.r[2],L=this.r[3],R=this.r[4],P=this.r[5],F=this.r[6],U=this.r[7],z=this.r[8],q=this.r[9];n>=16;)h=f=0,h+=(k+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*M,h+=(E+=8191&(r>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*q),h+=(S+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*z),h+=(x+=8191&(i>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*U),f=(h+=(I+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,h&=8191,h+=(C+=s>>>1&8191)*(5*P),h+=(O+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*R),h+=(T+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*L),h+=(B+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*D),d=f+=(h+=(j+=l>>>5|w)*(5*N))>>>13,d+=k*N,d+=E*M,d+=S*(5*q),d+=x*(5*z),f=(d+=I*(5*U))>>>13,d&=8191,d+=C*(5*F),d+=O*(5*P),d+=T*(5*R),d+=B*(5*L),f+=(d+=j*(5*D))>>>13,d&=8191,p=f,p+=k*D,p+=E*N,p+=S*M,p+=x*(5*q),f=(p+=I*(5*z))>>>13,p&=8191,p+=C*(5*U),p+=O*(5*F),p+=T*(5*P),p+=B*(5*R),g=f+=(p+=j*(5*L))>>>13,g+=k*L,g+=E*D,g+=S*N,g+=x*M,f=(g+=I*(5*q))>>>13,g&=8191,g+=C*(5*z),g+=O*(5*U),g+=T*(5*F),g+=B*(5*P),y=f+=(g+=j*(5*R))>>>13,y+=k*R,y+=E*L,y+=S*D,y+=x*N,f=(y+=I*M)>>>13,y&=8191,y+=C*(5*q),y+=O*(5*z),y+=T*(5*U),y+=B*(5*F),v=f+=(y+=j*(5*P))>>>13,v+=k*P,v+=E*R,v+=S*L,v+=x*D,f=(v+=I*N)>>>13,v&=8191,v+=C*M,v+=O*(5*q),v+=T*(5*z),v+=B*(5*U),m=f+=(v+=j*(5*F))>>>13,m+=k*F,m+=E*P,m+=S*R,m+=x*L,f=(m+=I*D)>>>13,m&=8191,m+=C*N,m+=O*M,m+=T*(5*q),m+=B*(5*z),_=f+=(m+=j*(5*U))>>>13,_+=k*U,_+=E*F,_+=S*P,_+=x*R,f=(_+=I*L)>>>13,_&=8191,_+=C*D,_+=O*N,_+=T*M,_+=B*(5*q),b=f+=(_+=j*(5*z))>>>13,b+=k*z,b+=E*U,b+=S*F,b+=x*P,f=(b+=I*R)>>>13,b&=8191,b+=C*L,b+=O*D,b+=T*N,b+=B*M,A=f+=(b+=j*(5*q))>>>13,A+=k*q,A+=E*z,A+=S*U,A+=x*F,f=(A+=I*P)>>>13,A&=8191,A+=C*R,A+=O*L,A+=T*D,A+=B*N,k=h=8191&(f=(f=((f+=(A+=j*M)>>>13)<<2)+f|0)+(h&=8191)|0),E=d+=f>>>=13,S=p&=8191,x=g&=8191,I=y&=8191,C=v&=8191,O=m&=8191,T=_&=8191,B=b&=8191,j=A&=8191,e+=16,n-=16;this.h[0]=k,this.h[1]=E,this.h[2]=S,this.h[3]=x,this.h[4]=I,this.h[5]=C,this.h[6]=O,this.h[7]=T,this.h[8]=B,this.h[9]=j},_.prototype.finish=function(t,e){var n,r,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+n,n=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,r=(1^n)-1,i=0;i<10;i++)a[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},_.prototype.update=function(t,e,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(t,e,o),e+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(t,e,n,r){for(var o,i,a,s,u,c,l,f,h,d,p,g,y,v,m,_,b,A,w,k,E,S,x,I,C,O,T=new Int32Array(16),B=new Int32Array(16),j=t[0],M=t[1],N=t[2],D=t[3],L=t[4],P=t[5],F=t[6],U=t[7],z=e[0],q=e[1],Q=e[2],K=e[3],H=e[4],W=e[5],V=e[6],Y=e[7],J=0;r>=128;){for(w=0;w<16;w++)k=8*w+J,T[w]=n[k+0]<<24|n[k+1]<<16|n[k+2]<<8|n[k+3],B[w]=n[k+4]<<24|n[k+5]<<16|n[k+6]<<8|n[k+7];for(w=0;w<80;w++)if(o=j,i=M,a=N,s=D,u=L,c=P,l=F,U,h=z,d=q,p=Q,g=K,y=H,v=W,m=V,Y,x=65535&(S=Y),I=S>>>16,C=65535&(E=U),O=E>>>16,x+=65535&(S=(H>>>14|L<<18)^(H>>>18|L<<14)^(L>>>9|H<<23)),I+=S>>>16,C+=65535&(E=(L>>>14|H<<18)^(L>>>18|H<<14)^(H>>>9|L<<23)),O+=E>>>16,x+=65535&(S=H&W^~H&V),I+=S>>>16,C+=65535&(E=L&P^~L&F),O+=E>>>16,E=R[2*w],x+=65535&(S=R[2*w+1]),I+=S>>>16,C+=65535&E,O+=E>>>16,E=T[w%16],I+=(S=B[w%16])>>>16,C+=65535&E,O+=E>>>16,C+=(I+=(x+=65535&S)>>>16)>>>16,x=65535&(S=A=65535&x|I<<16),I=S>>>16,C=65535&(E=b=65535&C|(O+=C>>>16)<<16),O=E>>>16,x+=65535&(S=(z>>>28|j<<4)^(j>>>2|z<<30)^(j>>>7|z<<25)),I+=S>>>16,C+=65535&(E=(j>>>28|z<<4)^(z>>>2|j<<30)^(z>>>7|j<<25)),O+=E>>>16,I+=(S=z&q^z&Q^q&Q)>>>16,C+=65535&(E=j&M^j&N^M&N),O+=E>>>16,f=65535&(C+=(I+=(x+=65535&S)>>>16)>>>16)|(O+=C>>>16)<<16,_=65535&x|I<<16,x=65535&(S=g),I=S>>>16,C=65535&(E=s),O=E>>>16,I+=(S=A)>>>16,C+=65535&(E=b),O+=E>>>16,M=o,N=i,D=a,L=s=65535&(C+=(I+=(x+=65535&S)>>>16)>>>16)|(O+=C>>>16)<<16,P=u,F=c,U=l,j=f,q=h,Q=d,K=p,H=g=65535&x|I<<16,W=y,V=v,Y=m,z=_,w%16===15)for(k=0;k<16;k++)E=T[k],x=65535&(S=B[k]),I=S>>>16,C=65535&E,O=E>>>16,E=T[(k+9)%16],x+=65535&(S=B[(k+9)%16]),I+=S>>>16,C+=65535&E,O+=E>>>16,b=T[(k+1)%16],x+=65535&(S=((A=B[(k+1)%16])>>>1|b<<31)^(A>>>8|b<<24)^(A>>>7|b<<25)),I+=S>>>16,C+=65535&(E=(b>>>1|A<<31)^(b>>>8|A<<24)^b>>>7),O+=E>>>16,b=T[(k+14)%16],I+=(S=((A=B[(k+14)%16])>>>19|b<<13)^(b>>>29|A<<3)^(A>>>6|b<<26))>>>16,C+=65535&(E=(b>>>19|A<<13)^(A>>>29|b<<3)^b>>>6),O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,T[k]=65535&C|O<<16,B[k]=65535&x|I<<16;x=65535&(S=z),I=S>>>16,C=65535&(E=j),O=E>>>16,E=t[0],I+=(S=e[0])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[0]=j=65535&C|O<<16,e[0]=z=65535&x|I<<16,x=65535&(S=q),I=S>>>16,C=65535&(E=M),O=E>>>16,E=t[1],I+=(S=e[1])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[1]=M=65535&C|O<<16,e[1]=q=65535&x|I<<16,x=65535&(S=Q),I=S>>>16,C=65535&(E=N),O=E>>>16,E=t[2],I+=(S=e[2])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[2]=N=65535&C|O<<16,e[2]=Q=65535&x|I<<16,x=65535&(S=K),I=S>>>16,C=65535&(E=D),O=E>>>16,E=t[3],I+=(S=e[3])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[3]=D=65535&C|O<<16,e[3]=K=65535&x|I<<16,x=65535&(S=H),I=S>>>16,C=65535&(E=L),O=E>>>16,E=t[4],I+=(S=e[4])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[4]=L=65535&C|O<<16,e[4]=H=65535&x|I<<16,x=65535&(S=W),I=S>>>16,C=65535&(E=P),O=E>>>16,E=t[5],I+=(S=e[5])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[5]=P=65535&C|O<<16,e[5]=W=65535&x|I<<16,x=65535&(S=V),I=S>>>16,C=65535&(E=F),O=E>>>16,E=t[6],I+=(S=e[6])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[6]=F=65535&C|O<<16,e[6]=V=65535&x|I<<16,x=65535&(S=Y),I=S>>>16,C=65535&(E=U),O=E>>>16,E=t[7],I+=(S=e[7])>>>16,C+=65535&E,O+=E>>>16,O+=(C+=(I+=(x+=65535&S)>>>16)>>>16)>>>16,t[7]=U=65535&C|O<<16,e[7]=Y=65535&x|I<<16,J+=128,r-=128}return r}function F(t,e,n){var r,o=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),s=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,P(o,i,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,y(a,n-8,s/536870912|0,s<<3),P(o,i,a,n),r=0;r<8;r++)y(t,8*r,o[r],i[r]);return 0}function U(t,e){var n=i(),r=i(),o=i(),a=i(),s=i(),u=i(),c=i(),l=i(),f=i();j(n,t[1],t[0]),j(f,e[1],e[0]),M(n,n,f),B(r,t[0],t[1]),B(f,e[0],e[1]),M(r,r,f),M(o,t[3],e[3]),M(o,o,h),M(a,t[2],e[2]),B(a,a,a),j(s,r,n),j(u,a,o),B(c,a,o),B(l,r,n),M(t[0],s,u),M(t[1],l,c),M(t[2],c,u),M(t[3],s,l)}function z(t,e,n){var r;for(r=0;r<4;r++)x(t[r],e[r],n)}function q(t,e){var n=i(),r=i(),o=i();D(o,e[2]),M(n,e[0],o),M(r,e[1],o),I(t,r),t[31]^=O(n)<<7}function Q(t,e,n){var r,o;for(E(t[0],u),E(t[1],c),E(t[2],c),E(t[3],u),o=255;o>=0;--o)z(t,e,r=n[o/8|0]>>(7&o)&1),U(e,t),U(t,t),z(t,e,r)}function K(t,e){var n=[i(),i(),i(),i()];E(n[0],d),E(n[1],p),E(n[2],c),M(n[3],d,p),Q(t,n,e)}function H(t,e,n){ct(t,r.crypto_sign_PUBLICKEYBYTES),ct(e,r.crypto_sign_SECRETKEYBYTES);var o,s=new Uint8Array(64),u=[i(),i(),i(),i()];for(n||a(e,32),F(s,e,32),s[0]&=248,s[31]&=127,s[31]|=64,K(u,s),q(t,u),o=0;o<32;o++)e[o+32]=t[o];return 0}var W=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function V(t,e){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)e[o]+=n-16*e[r]*W[o-(r-32)],n=e[o]+128>>8,e[o]-=256*n;e[o]+=n,e[r]=0}for(n=0,o=0;o<32;o++)e[o]+=n-(e[31]>>4)*W[o],n=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=n*W[o];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function Y(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;V(t,n)}function J(t,e,n){ct(t,at+e.length),ct(e,0),ct(n,ut);var r,o,a=e.length,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[i(),i(),i(),i()];F(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64;for(r=0;r<a;r++)t[64+r]=e[r];for(r=0;r<32;r++)t[32+r]=s[32+r];for(F(c,t.subarray(32),a+32),Y(c),K(f,c),q(t,f),r=32;r<64;r++)t[r]=n[r];for(F(u,t,a+64),Y(u),r=0;r<64;r++)l[r]=0;for(r=0;r<32;r++)l[r]=c[r];for(r=0;r<32;r++)for(o=0;o<32;o++)l[r+o]+=u[r]*s[o];V(t.subarray(32),l)}function G(t,e){var n=i(),r=i(),o=i(),a=i(),s=i(),l=i(),h=i();return E(t[2],c),T(t[1],e),N(o,t[1]),M(a,o,f),j(o,o,t[2]),B(a,t[2],a),N(s,a),N(l,s),M(h,l,s),M(n,h,o),M(n,n,a),function(t,e){var n,r=i();for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)N(r,r),1!==n&&M(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(n,n),M(n,n,o),M(n,n,a),M(n,n,a),M(t[0],n,a),N(r,t[0]),M(r,r,a),C(r,o)&&M(t[0],t[0],g),N(r,t[0]),M(r,r,a),C(r,o)?-1:(O(t[0])===e[31]>>7&&j(t[0],u,t[0]),M(t[3],t[0],t[1]),0)}function $(t,e,n){ct(t,e.length-at),ct(e,at),ct(n,st);var r,o=e.length,a=new Uint8Array(e.length),s=new Uint8Array(32),u=new Uint8Array(64),c=[i(),i(),i(),i()],l=[i(),i(),i(),i()];if(-1,o<64)return!1;if(G(l,n))return!1;for(r=0;r<o;r++)a[r]=e[r];for(r=0;r<32;r++)a[r+32]=n[r];if(F(u,a,o),Y(u),Q(c,l,u),K(l,e.subarray(32)),U(c,l),q(s,c),o-=64,m(e,0,s,0)){for(r=0;r<o;r++)a[r]=0;return!1}for(r=0;r<o;r++)t[r]=e[r+64];return o,!0}function X(t,e,n,o){var i;ct(e,0),ct(t,e.length+r.crypto_secretbox_MACBYTES),ct(n,et),ct(o,tt);var a=new Uint8Array(nt+e.length),s=new Uint8Array(a.length);for(i=0;i<e.length;i++)a[i+nt]=e[i];for(function(t,e,n,r,o){var i;if(n<32)return-1;for(b(t,0,e,0,0,r,o),A(t,16,t,32,n-32,t),i=0;i<16;i++)t[i]=0}(s,a,a.length,n,o),i=rt;i<s.length;i++)t[i-rt]=s[i]}function Z(t,e,n,o){var i;ct(e,r.crypto_secretbox_MACBYTES),ct(t,e.length-r.crypto_secretbox_MACBYTES),ct(n,et),ct(o,tt);var a=new Uint8Array(rt+e.length),s=new Uint8Array(a.length);for(i=0;i<e.length;i++)a[i+rt]=e[i];if(a.length<32)return!1;if(0!==k(s,a,a.length,n,o))return!1;for(i=nt;i<s.length;i++)t[i-nt]=s[i];return!0}var tt=32,et=24,nt=32,rt=16,ot=32,it=32,at=64,st=32,ut=64;function ct(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}function lt(e){Object.keys(e).forEach(function(n){t.exports[n]=e[n]})}r.memzero=function(t,e){for(var n=e;n<t;n++)arr[n]=0},r.crypto_sign_BYTES=at,r.crypto_sign_PUBLICKEYBYTES=st,r.crypto_sign_SECRETKEYBYTES=ut,r.crypto_sign_SEEDBYTES=32,r.crypto_sign_keypair=H,r.crypto_sign_seed_keypair=function(t,e,n){ct(n,r.crypto_sign_SEEDBYTES),n.copy(e),H(t,e,!0)},r.crypto_sign=J,r.crypto_sign_open=$,r.crypto_sign_detached=function(t,e,n){var r=new Uint8Array(e.length+at);J(r,e,n);for(var o=0;o<at;o++)t[o]=r[o]},r.crypto_sign_verify_detached=function(t,e,n){ct(t,at);var r=new Uint8Array(e.length+at),o=0;for(o=0;o<at;o++)r[o]=t[o];for(o=0;o<e.length;o++)r[o+at]=e[o];return $(e,r,n)},lt(n(230)),lt(n(233)),lt(n(234)),lt(n(68)),lt(n(113)),r.crypto_scalarmult_BYTES=ot,r.crypto_scalarmult_SCALARBYTES=it,r.crypto_scalarmult_base=function(t,e){return L(t,e,s)},r.crypto_scalarmult=L,r.crypto_secretbox_KEYBYTES=tt,r.crypto_secretbox_NONCEBYTES=et,r.crypto_secretbox_MACBYTES=16,r.crypto_secretbox_easy=X,r.crypto_secretbox_open_easy=Z,r.crypto_secretbox_detached=function(t,e,n,o,i){ct(e,r.crypto_secretbox_MACBYTES);var a=new Uint8Array(n.length+e.length);X(a,n,o,i),t.set(a.subarray(0,n.length)),e.set(a.subarray(n.length))},r.crypto_secretbox_open_detached=function(t,e,n,o,i){ct(n,r.crypto_secretbox_MACBYTES);var a=new Uint8Array(e.length+n.length);return a.set(e),a.set(n,t.length),Z(t,a,o,i)}},function(t,e,n){var r=n(228)(),o=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),i=144,a=i,s=[];function u(t,e){if(!(this instanceof u))return new u(t,e);if(!t||t.length<24)throw new Error("nonce must be at least 24 bytes");if(!e||e.length<32)throw new Error("key must be at least 32 bytes");this._xor=r&&r.exports?new c(t,e):new l(t,e)}function c(t,e){s.length||(s.push(i),i+=64),this._pointer=s.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,r.memory.fill(0,this._pointer,this._pointer+8),r.memory.set(t,this._nonce),r.memory.set(e,this._key)}function l(t,e){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,function(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,A=i,w=a,k=s,E=u,S=c,x=l,I=f,C=h,O=d,T=p,B=g,j=y,M=v,N=m,D=_,L=b,R=0;R<20;R+=2)A^=(o=(M^=(o=(O^=(o=(S^=(o=A+M|0)<<7|o>>>25)+A|0)<<9|o>>>23)+S|0)<<13|o>>>19)+O|0)<<18|o>>>14,x^=(o=(w^=(o=(N^=(o=(T^=(o=x+w|0)<<7|o>>>25)+x|0)<<9|o>>>23)+T|0)<<13|o>>>19)+N|0)<<18|o>>>14,B^=(o=(I^=(o=(k^=(o=(D^=(o=B+I|0)<<7|o>>>25)+B|0)<<9|o>>>23)+D|0)<<13|o>>>19)+k|0)<<18|o>>>14,L^=(o=(j^=(o=(C^=(o=(E^=(o=L+j|0)<<7|o>>>25)+L|0)<<9|o>>>23)+E|0)<<13|o>>>19)+C|0)<<18|o>>>14,A^=(o=(E^=(o=(k^=(o=(w^=(o=A+E|0)<<7|o>>>25)+A|0)<<9|o>>>23)+w|0)<<13|o>>>19)+k|0)<<18|o>>>14,x^=(o=(S^=(o=(C^=(o=(I^=(o=x+S|0)<<7|o>>>25)+x|0)<<9|o>>>23)+I|0)<<13|o>>>19)+C|0)<<18|o>>>14,B^=(o=(T^=(o=(O^=(o=(j^=(o=B+T|0)<<7|o>>>25)+B|0)<<9|o>>>23)+j|0)<<13|o>>>19)+O|0)<<18|o>>>14,L^=(o=(D^=(o=(N^=(o=(M^=(o=L+D|0)<<7|o>>>25)+L|0)<<9|o>>>23)+M|0)<<13|o>>>19)+N|0)<<18|o>>>14;t[0]=A>>>0&255,t[1]=A>>>8&255,t[2]=A>>>16&255,t[3]=A>>>24&255,t[4]=x>>>0&255,t[5]=x>>>8&255,t[6]=x>>>16&255,t[7]=x>>>24&255,t[8]=B>>>0&255,t[9]=B>>>8&255,t[10]=B>>>16&255,t[11]=B>>>24&255,t[12]=L>>>0&255,t[13]=L>>>8&255,t[14]=L>>>16&255,t[15]=L>>>24&255,t[16]=I>>>0&255,t[17]=I>>>8&255,t[18]=I>>>16&255,t[19]=I>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=O>>>0&255,t[25]=O>>>8&255,t[26]=O>>>16&255,t[27]=O>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255}(this._s,t,e,o);for(var n=0;n<8;n++)this._z[n]=t[n+16]}function f(t,e,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,_=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,b=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,A=i,w=a,k=s,E=u,S=c,x=l,I=f,C=h,O=d,T=p,B=g,j=y,M=v,N=m,D=_,L=b,R=0;R<20;R+=2)A^=(o=(M^=(o=(O^=(o=(S^=(o=A+M|0)<<7|o>>>25)+A|0)<<9|o>>>23)+S|0)<<13|o>>>19)+O|0)<<18|o>>>14,x^=(o=(w^=(o=(N^=(o=(T^=(o=x+w|0)<<7|o>>>25)+x|0)<<9|o>>>23)+T|0)<<13|o>>>19)+N|0)<<18|o>>>14,B^=(o=(I^=(o=(k^=(o=(D^=(o=B+I|0)<<7|o>>>25)+B|0)<<9|o>>>23)+D|0)<<13|o>>>19)+k|0)<<18|o>>>14,L^=(o=(j^=(o=(C^=(o=(E^=(o=L+j|0)<<7|o>>>25)+L|0)<<9|o>>>23)+E|0)<<13|o>>>19)+C|0)<<18|o>>>14,A^=(o=(E^=(o=(k^=(o=(w^=(o=A+E|0)<<7|o>>>25)+A|0)<<9|o>>>23)+w|0)<<13|o>>>19)+k|0)<<18|o>>>14,x^=(o=(S^=(o=(C^=(o=(I^=(o=x+S|0)<<7|o>>>25)+x|0)<<9|o>>>23)+I|0)<<13|o>>>19)+C|0)<<18|o>>>14,B^=(o=(T^=(o=(O^=(o=(j^=(o=B+T|0)<<7|o>>>25)+B|0)<<9|o>>>23)+j|0)<<13|o>>>19)+O|0)<<18|o>>>14,L^=(o=(D^=(o=(N^=(o=(M^=(o=L+D|0)<<7|o>>>25)+L|0)<<9|o>>>23)+M|0)<<13|o>>>19)+N|0)<<18|o>>>14;A=A+i|0,w=w+a|0,k=k+s|0,E=E+u|0,S=S+c|0,x=x+l|0,I=I+f|0,C=C+h|0,O=O+d|0,T=T+p|0,B=B+g|0,j=j+y|0,M=M+v|0,N=N+m|0,D=D+_|0,L=L+b|0,t[0]=A>>>0&255,t[1]=A>>>8&255,t[2]=A>>>16&255,t[3]=A>>>24&255,t[4]=w>>>0&255,t[5]=w>>>8&255,t[6]=w>>>16&255,t[7]=w>>>24&255,t[8]=k>>>0&255,t[9]=k>>>8&255,t[10]=k>>>16&255,t[11]=k>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=x>>>0&255,t[21]=x>>>8&255,t[22]=x>>>16&255,t[23]=x>>>24&255,t[24]=I>>>0&255,t[25]=I>>>8&255,t[26]=I>>>16&255,t[27]=I>>>24&255,t[28]=C>>>0&255,t[29]=C>>>8&255,t[30]=C>>>16&255,t[31]=C>>>24&255,t[32]=O>>>0&255,t[33]=O>>>8&255,t[34]=O>>>16&255,t[35]=O>>>24&255,t[36]=T>>>0&255,t[37]=T>>>8&255,t[38]=T>>>16&255,t[39]=T>>>24&255,t[40]=B>>>0&255,t[41]=B>>>8&255,t[42]=B>>>16&255,t[43]=B>>>24&255,t[44]=j>>>0&255,t[45]=j>>>8&255,t[46]=j>>>16&255,t[47]=j>>>24&255,t[48]=M>>>0&255,t[49]=M>>>8&255,t[50]=M>>>16&255,t[51]=M>>>24&255,t[52]=N>>>0&255,t[53]=N>>>8&255,t[54]=N>>>16&255,t[55]=N>>>24&255,t[56]=D>>>0&255,t[57]=D>>>8&255,t[58]=D>>>16&255,t[59]=D>>>24&255,t[60]=L>>>0&255,t[61]=L>>>8&255,t[62]=L>>>16&255,t[63]=L>>>24&255}t.exports=u,u.NONCEBYTES=24,u.KEYBYTES=32,u.prototype.update=function(t,e){if(!t)throw new Error("input must be Uint8Array or Buffer");return e||(e=new Uint8Array(t.length)),t.length&&this._xor.update(t,e),e},u.prototype.final=u.prototype.finalize=function(){this._xor.finalize(),this._xor=null},c.prototype.update=function(t,e){var n=this._overflow+t.length,o=i+this._overflow;(a=i+n)>=r.memory.length&&r.realloc(a),r.memory.set(t,o),r.exports.xsalsa20_xor(this._pointer,i,i,n,this._nonce,this._key),e.set(r.memory.subarray(o,i+n)),this._overflow=63&n},c.prototype.finalize=function(){r.memory.fill(0,this._pointer,this._key+32),a>i&&(r.memory.fill(0,i,a),a=0),s.push(this._pointer)},l.prototype.update=function(t,e){for(var n=new Uint8Array(64),r=0,i=this._overflow,a=t.length+this._overflow,s=this._z,u=-this._overflow,c=-this._overflow;a>=64;){for(f(n,s,this._s,o);i<64;i++)e[c+i]=t[u+i]^n[i];for(r=1,i=8;i<16;i++)r+=255&s[i]|0,s[i]=255&r,r>>>=8;a-=64,c+=64,u+=64,i=0}if(a>0)for(f(n,s,this._s,o);i<a;i++)e[c+i]=t[u+i]^n[i];this._overflow=63&a},l.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},function(t,e,n){function r(t){if(!r.supported)return null;var e,i=t&&t.imports,a=(e="AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL","function"===typeof atob?new Uint8Array(atob(e).split("").map(o)):new(n(4).Buffer)(e,"base64")),s=null,u={buffer:a,memory:null,exports:null,realloc:function(t){u.exports.memory.grow(Math.ceil(Math.abs(t-u.memory.length)/65536)),u.memory=new Uint8Array(u.exports.memory.buffer)},onload:c};return c(function(){}),u;function c(e){if(u.exports)return e();if(s)s.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");l({instance:new WebAssembly.Instance(new WebAssembly.Module(a),i)})}catch(n){s=WebAssembly.instantiate(a,i).then(l)}c(e)}}function l(t){u.exports=t.instance.exports,u.memory=u.exports.memory&&u.exports.memory.buffer&&new Uint8Array(u.exports.memory.buffer)}}function o(t){return t.charCodeAt(0)}t.exports=r,r.supported="undefined"!==typeof WebAssembly},,function(t,e,n){var r=n(114);t.exports.crypto_generichash_PRIMITIVE="blake2b",t.exports.crypto_generichash_BYTES_MIN=r.BYTES_MIN,t.exports.crypto_generichash_BYTES_MAX=r.BYTES_MAX,t.exports.crypto_generichash_BYTES=r.BYTES,t.exports.crypto_generichash_KEYBYTES_MIN=r.KEYBYTES_MIN,t.exports.crypto_generichash_KEYBYTES_MAX=r.KEYBYTES_MAX,t.exports.crypto_generichash_KEYBYTES=r.KEYBYTES,t.exports.crypto_generichash_WASM_SUPPORTED=r.WASM_SUPPORTED,t.exports.crypto_generichash_WASM_LOADED=!1,t.exports.crypto_generichash=function(t,e,n){r(t.length,n).update(e).final(t)},t.exports.crypto_generichash_ready=r.ready,t.exports.crypto_generichash_batch=function(t,e,n){for(var o=r(t.length,n),i=0;i<e.length;i++)o.update(e[i]);o.final(t)},t.exports.crypto_generichash_instance=function(e,n){return null==n&&(n=t.exports.crypto_generichash_BYTES),r(n,e)},r.ready(function(e){t.exports.crypto_generichash_WASM_LOADED=r.WASM_LOADED})},function(t,e,n){var r=n(43),o=n(232)(),i=64,a=[];t.exports=d;var s=t.exports.BYTES_MIN=16,u=t.exports.BYTES_MAX=64,c=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),l=t.exports.KEYBYTES_MAX=64,f=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),h=t.exports.PERSONALBYTES=16;function d(t,e,n,p,g){if(!(this instanceof d))return new d(t,e,n,p,g);if(!o||!o.exports)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),!0!==g&&(r(t>=s,"digestLength must be at least "+s+", was given "+t),r(t<=u,"digestLength must be at most "+u+", was given "+t),null!=e&&r(e.length>=c,"key must be at least "+c+", was given "+e.length),null!=e&&r(e.length<=l,"key must be at least "+l+", was given "+e.length),null!=n&&r(n.length===f,"salt must be exactly "+f+", was given "+n.length),null!=p&&r(p.length===h,"personal must be exactly "+h+", was given "+p.length)),a.length||(a.push(i),i+=216),this.digestLength=t,this.finalized=!1,this.pointer=a.pop(),o.memory.fill(0,0,64),o.memory[0]=this.digestLength,o.memory[1]=e?e.length:0,o.memory[2]=1,o.memory[3]=1,n&&o.memory.set(n,32),p&&o.memory.set(p,48),this.pointer+216>o.memory.length&&o.realloc(this.pointer+216),o.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),o.memory.fill(0,i,i+e.length),o.memory[this.pointer+200]=128)}function p(){}function g(t){return t<16?"0"+t.toString(16):t.toString(16)}d.prototype.update=function(t){return r(!1===this.finalized,"Hash instance finalized"),r(t,"input must be TypedArray or Buffer"),i+t.length>o.memory.length&&o.realloc(i+t.length),o.memory.set(t,i),o.exports.blake2b_update(this.pointer,i,i+t.length),this},d.prototype.digest=function(t){if(r(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,a.push(this.pointer),o.exports.blake2b_final(this.pointer),!t||"binary"===t)return o.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("hex"===t)return function(t,e,n){for(var r="",o=0;o<n;o++)r+=g(t[e+o]);return r}(o.memory,this.pointer+128,this.digestLength);r(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=o.memory[this.pointer+128+e];return t},d.prototype.final=d.prototype.digest,d.WASM=o&&o.buffer,d.SUPPORTED="undefined"!==typeof WebAssembly,d.ready=function(t){return t||(t=p),o?new Promise(function(e,n){o.onload(function(r){r?n():e(),t(r)})}):t(new Error("WebAssembly not supported"))},d.prototype.ready=d.ready},function(t,e,n){function r(t){if(!r.supported)return null;var e,i=t&&t.imports,a=(e="AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL","function"===typeof atob?new Uint8Array(atob(e).split("").map(o)):new(n(4).Buffer)(e,"base64")),s=null,u={buffer:a,memory:null,exports:null,realloc:function(t){u.exports.memory.grow(Math.ceil(Math.abs(t-u.memory.length)/65536)),u.memory=new Uint8Array(u.exports.memory.buffer)},onload:c};return c(function(){}),u;function c(e){if(u.exports)return e();if(s)s.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");l({instance:new WebAssembly.Instance(new WebAssembly.Module(a),i)})}catch(n){s=WebAssembly.instantiate(a,i).then(l)}c(e)}}function l(t){u.exports=t.instance.exports,u.memory=u.exports.memory&&u.exports.memory.buffer&&new Uint8Array(u.exports.memory.buffer)}}function o(t){return t.charCodeAt(0)}t.exports=r,r.supported="undefined"!==typeof WebAssembly},function(t,e,n){var r=n(43),o=n(68).randombytes_buf,i=n(114);t.exports.crypto_kdf_PRIMITIVE="blake2b",t.exports.crypto_kdf_BYTES_MIN=16,t.exports.crypto_kdf_BYTES_MAX=64,t.exports.crypto_kdf_CONTEXTBYTES=8,t.exports.crypto_kdf_KEYBYTES=32,t.exports.crypto_kdf_derive_from_key=function(e,n,o,a){r(e.length>=t.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),r(n>=0&&n<=9007199254740991,"subkey_id must be safe integer"),r(o.length>=t.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var s=new Uint8Array(i.PERSONALBYTES),u=new Uint8Array(i.SALTBYTES);s.set(o,0,t.exports.crypto_kdf_CONTEXTBYTES),function(t,e){var n=1,r=0;for(t[0]=255&e;++r<8&&(n*=256);)t[r]=e/n&255}(u,n);var c=Math.min(e.length,t.exports.crypto_kdf_BYTES_MAX);i(c,a.subarray(0,t.exports.crypto_kdf_KEYBYTES),u,s,!0).final(e)},t.exports.crypto_kdf_keygen=function(e){r(e.length>=t.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),o(e.subarray(0,t.exports.crypto_kdf_KEYBYTES))}},function(t,e,n){var r=n(235);e.crypto_shorthash_PRIMITIVE="siphash24",e.crypto_shorthash_BYTES=r.BYTES,e.crypto_shorthash_KEYBYTES=r.KEYBYTES,e.crypto_shorthash_WASM_SUPPORTED=r.WASM_SUPPORTED,e.crypto_shorthash_WASM_LOADED=r.WASM_LOADED,e.crypto_shorthash=function(t,e,n,o){r(e,n,t,o)}},function(t,e,n){var r=n(236),o=n(237),i=n(43);t.exports=c;var a=c.BYTES=8,s=c.KEYBYTES=16,u=r();function c(t,e,n,r){return n||(n=new Uint8Array(8)),!0!==r&&(i(n.length>=a,"output must be at least "+a),i(e.length>=s,"key must be at least "+s)),u&&u.exports?(t.length+24>u.memory.length&&u.realloc(t.length+24),u.memory.set(e,8),u.memory.set(t,24),u.exports.siphash(24,t.length),n.set(u.memory.subarray(0,8))):o(n,t,e),n}c.WASM_SUPPORTED="undefined"!==typeof WebAssembly,c.WASM_LOADED=!1,u&&u.onload(function(t){c.WASM_LOADED=!t})},function(t,e,n){function r(t){if(!r.supported)return null;var e,i=t&&t.imports,a=(e="AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=","function"===typeof atob?new Uint8Array(atob(e).split("").map(o)):new(n(4).Buffer)(e,"base64")),s=null,u={buffer:a,memory:null,exports:null,realloc:function(t){u.exports.memory.grow(Math.max(0,Math.ceil(Math.abs(t-u.memory.length)/65536))),u.memory=new Uint8Array(u.exports.memory.buffer)},onload:c};return c(function(){}),u;function c(e){if(u.exports)return e();if(s)s.then(e.bind(null,null)).catch(e);else{try{if(t&&t.async)throw new Error("async");l({instance:new WebAssembly.Instance(new WebAssembly.Module(a),i)})}catch(n){s=WebAssembly.instantiate(a,i).then(l)}c(e)}}function l(t){u.exports=t.instance.exports,u.memory=u.exports.memory&&u.exports.memory.buffer&&new Uint8Array(u.exports.memory.buffer)}}function o(t){return t.charCodeAt(0)}t.exports=r,r.supported="undefined"!==typeof WebAssembly},function(t,e){function n(t,e){var n=t.l+e.l,r={h:t.h+e.h+(n/2>>>31)>>>0,l:n>>>0};t.h=r.h,t.l=r.l}function r(t,e){t.h^=e.h,t.h>>>=0,t.l^=e.l,t.l>>>=0}function o(t,e){var n={h:t.h<<e|t.l>>>32-e,l:t.l<<e|t.h>>>32-e};t.h=n.h,t.l=n.l}function i(t){var e=t.l;t.l=t.h,t.h=e}function a(t,e,a,s){n(t,e),n(a,s),o(e,13),o(s,16),r(e,t),r(s,a),i(t),n(a,e),n(t,s),o(e,17),o(s,21),r(e,a),r(s,t),i(a)}function s(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}t.exports=function(t,e,n){var o,i={h:s(n,4),l:s(n,0)},u={h:s(n,12),l:s(n,8)},c={h:i.h,l:i.l},l=i,f={h:u.h,l:u.l},h=u,d=0,p=e.length,g=p-7,y=new Uint8Array(new ArrayBuffer(8));r(c,{h:1936682341,l:1886610805}),r(f,{h:1685025377,l:1852075885}),r(l,{h:1819895653,l:1852142177}),r(h,{h:1952801890,l:2037671283});for(;d<g;)o={h:s(e,d+4),l:s(e,d)},r(h,o),a(c,f,l,h),a(c,f,l,h),r(c,o),d+=8;y[7]=p;var v=0;for(;d<p;)y[v++]=e[d++];for(;v<7;)y[v++]=0;o={h:y[7]<<24|y[6]<<16|y[5]<<8|y[4],l:y[3]<<24|y[2]<<16|y[1]<<8|y[0]},r(h,o),a(c,f,l,h),a(c,f,l,h),r(c,o),r(l,{h:0,l:255}),a(c,f,l,h),a(c,f,l,h),a(c,f,l,h),a(c,f,l,h);var m=c;r(m,f),r(m,l),r(m,h),t[0]=255&m.l,t[1]=m.l>>8&255,t[2]=m.l>>16&255,t[3]=m.l>>24&255,t[4]=255&m.h,t[5]=m.h>>8&255,t[6]=m.h>>16&255,t[7]=m.h>>24&255}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,r,o){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick(function(){t.apply(null,i)})}}:t.exports=e.nextTick}).call(this,n(5))},function(t,e){t.exports=Symbol.for("util.inspect.custom")},function(t,e,n){(function(e){t.exports=function(t){return e.isBuffer(t)&&(t=t.toString("hex")),"string"===typeof t&&t.length>8?t.slice(0,6)+".."+t.slice(-2):t}}).call(this,n(4).Buffer)},function(t,e,n){var r=n(115),o=n(248),i=n(66),a=n(108).align(4),s=n(110),u=new Uint8Array(1024);function c(t,e){this.feed=t,this.stream=null,this.remoteId=null,this.wants=o(),this.remoteBitfield=o(),this.remoteLength=0,this.remoteWant=!1,this.remoteTree=null,this.live=!!e.live,this.sparse=t.sparse,this.remoteDownloading=!0,this.downloading="boolean"===typeof e.download?e.download:!t.writable,this.uploading=!0,this.maxRequests=e.maxRequests||t.maxRequests||16,this.inflightRequests=[],this.inflightWants=0,this._index=-1,this._lastBytes=0,this._first=!0,this._closed=!1,this._destroyed=!1,this._defaultDownloading=this.downloading,this._iterator=this.remoteBitfield.iterator()}function l(t){var e=t?t.buffer:u;return new DataView(e.buffer,e.byteOffset,1024)}t.exports=function(t,e){var n=e.stream;n||(e.expectedFeeds||(e.expectedFeeds=1),e.id||(e.id=t.id),n=r(e));return t.ready(function(r){if(r)return n.destroy(r);if(!n.destroyed){var o=new c(t,e);o.feed=t,o.stream=n.feed(t.key,{peer:o}),o.remoteId=n.remoteId,n.setMaxListeners(0),n.on("handshake",function(){o.remoteId=n.remoteId}),n.destroyed||o.ready()}}),n},c.prototype.onwant=function(t){if(!(8191&t.start||8191&t.length)){!this.remoteWant&&this.feed.length&&this.stream.have({start:this.feed.length-1}),this.remoteWant=!0;var e=this.feed.bitfield.compress(t.start,t.length);this.stream.have({start:t.start,length:t.length,bitfield:e})}},c.prototype.ondata=function(t){var e=this;if(!(this.feed.allowPush||!t.value)&&!this.feed._reserved.get(t.index))return e.feed.bitfield.get(t.index)||e.unhave({start:t.index}),void e._clear(t.index,!t.value);this.feed._putBuffer(t.index,t.value,t,this,function(n){if(n)return e.destroy(n);e.remoteBitfield.set(t.index,!1),e._clear(t.index,!t.value)})},c.prototype._clear=function(t,e){for(var n=0;n<this.inflightRequests.length;n++)this.inflightRequests[n].index===t&&(this.inflightRequests.splice(n,1),n--);this.feed._reserved.set(t,!1),this.feed._updatePeers()},c.prototype.onrequest=function(t){if(t.bytes)return this._onbytes(t);this.remoteTree||(this.remoteTree=s());var e=this,n={digest:t.nodes,hash:t.hash,tree:this.remoteTree};this.feed.proof(t.index,n,function(n,r){if(n)return e.destroy(n);t.hash?o(null,null):e.feed.bitfield.get(t.index)&&e.feed._getBuffer(t.index,o);function o(n,o){if(n)return e.destroy(n);o&&e.feed.emit("upload",t.index,o,e),t.index+1>e.remoteLength&&(e.remoteLength=t.index+1,e._updateEnd()),e.stream.data({index:t.index,value:o,nodes:r.nodes,signature:r.signature})}})},c.prototype._onbytes=function(t){var e=this;this.feed.seek(t.bytes,{wait:!1},function(n,r){if(n)return t.bytes=0,void e.onrequest(t);e._lastBytes!==t.bytes&&(e._lastBytes=t.bytes,t.bytes=0,t.index=r,t.nodes=0,e.onrequest(t))})},c.prototype.ontick=function(){if(this.inflightRequests.length){var t=this.inflightRequests[0];if(!--t.tick)return(t.hash?this.feed.tree.get(2*t.index):this.feed.bitfield.get(t.index))?(this.inflightRequests.shift(),void this.feed._reserved.set(t.index,!1)):void this.destroy(new Error("Request timeout"))}},c.prototype.onhave=function(t){var e=this._first;if(this._first&&(this._first=!1),1048576===t.length&&this.inflightWants--,t.bitfield){0!==t.length&&1!==t.length||(this.wants=null);var n=a.decode(t.bitfield),r=8*n.length;!function(t,e,n,r){for(var o=new DataView(e.buffer,e.byteOffset),i=Math.floor(e.length/4),a=new Uint32Array(e.buffer,e.byteOffset,i),s=r/8192,u=0,c=l(t.pages.get(s++,!0)),f=0;f<i;f++)a[f]=o.getUint32(4*f,!n)&~c.getUint32(4*u++,!n),256===u&&(c=l(t.pages.get(s++,!0)),u=0)}(this.feed.bitfield,n,this.remoteBitfield.littleEndian,t.start),this.remoteBitfield.fill(n,t.start),r>this.remoteLength&&(this.remoteLength=this.remoteBitfield.last()+1,e=!0)}else{for(var o=t.start,i=t.length||1;i--;)this.remoteBitfield.set(o,!this.feed.bitfield.get(o++));o>this.remoteLength&&(this.remoteLength=o,e=!0)}e&&this.feed.emit("remote-update",this),this._updateEnd(),this.update()},c.prototype._updateEnd=function(){if(!this.live&&!this.feed.sparse&&this.feed._selections.length){for(var t=this.feed._selections[0],e=this.feed.length||-1,n=0;n<this.feed.peers.length;n++)this.feed.peers[n].remoteLength>e&&(e=this.feed.peers[n].remoteLength);t.end=e}},c.prototype.oninfo=function(t){this.remoteDownloading=t.downloading,t.downloading||this.live||(this.update(),this.feed._selections.length&&this.downloading||this.end())},c.prototype.onunhave=function(t){for(var e=t.start,n=t.length||1;n--;)this.remoteBitfield.set(e++,!1)},c.prototype.onunwant=c.prototype.oncancel=function(){},c.prototype.onclose=function(){this.destroy()},c.prototype.have=function(t){this.stream&&this.remoteWant&&this.stream.have(t);for(var e=t.start,n=t.length;n--;)this.remoteBitfield.set(e++,!1)},c.prototype.unhave=function(t){this.stream&&this.remoteWant&&this.stream.unhave(t)},c.prototype.haveBytes=function(t){for(var e=0;e<this.inflightRequests.length;e++)this.inflightRequests[e].bytes===t&&(this.feed._reserved.set(this.inflightRequests[e].index,!1),this.inflightRequests.splice(e,1),e--);this.update()},c.prototype.update=function(){for(;this._update(););this._sendWantsMaybe()},c.prototype._update=function(){if(!this.downloading)return!1;for(var t=this.feed._selections,e=this.feed._waiting,n=e.length,r=t.length,o=this.inflightRequests.length,i=0,a=0;o<this.maxRequests;){for(i=Math.floor(Math.random()*e.length),a=0;a<e.length;a++){var s=e[i++];if(i===e.length&&(i=0),this._downloadWaiting(s),e.length!==n)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(o===this.inflightRequests.length)break;o=this.inflightRequests.length}for(;o<this.maxRequests;){for(i=Math.floor(Math.random()*t.length),a=0;a<t.length;a++){var u=t[i++];if(i===t.length&&(i=0),u.iterator||(u.iterator=this.feed.bitfield.iterator(u.start,u.end)),this._downloadRange(u),t.length!==r)return!0;if(this.inflightRequests.length>=this.maxRequests)return!1}if(o===this.inflightRequests.length)return!1;o=this.inflightRequests.length}return!1},c.prototype.ready=function(){i.add(this.feed.peers,this),this._sendWants(),this.feed.emit("peer-add",this)},c.prototype.end=function(){if(!this.downloading&&!this.remoteDownloading&&!this.live)return this._defaultDownloading||this.stream.info({downloading:!1,uploading:!1}),void this._close();this._closed?this.live||this._close():(this._closed=!0,this.downloading=!1,this.stream.info({downloading:!1,uploading:!0}))},c.prototype._close=function(){if(-1!==this._index){this._destroyed||(this.stream.close(),this._destroyed=!0),i.remove(this.feed.peers,this),this._index=-1;for(var t=0;t<this.inflightRequests.length;t++)this.feed._reserved.set(this.inflightRequests[t].index,!1);this._updateEnd(),this.remoteWant=!1,this.feed._updatePeers(),this.feed.emit("peer-remove",this)}},c.prototype.destroy=function(t){-1===this._index||this._destroyed||(this.stream.destroy(t),this._destroyed=!0,this._close())},c.prototype._sendWantsMaybe=function(){this.inflightRequests.length<this.maxRequests&&this._sendWants()},c.prototype._sendWants=function(){if(this.wants&&this.downloading&&!(this.inflightWants>=16)){var t;for(t=0;t<this.feed._waiting.length;t++){var e=this.feed._waiting[t];if(-1===e.index?this._sendWantRange(e):this._sendWant(e.index),this.inflightWants>=16)return}for(t=0;t<this.feed._selections.length;t++){var n=this.feed._selections[t];if(this._sendWantRange(n),this.inflightWants>=16)return}this._sendWant(0)}},c.prototype._sendWantRange=function(t){for(var e=0;;){if(e>=this.remoteLength)return;if(-1!==t.end&&e>=t.end)return;if(this._sendWant(e))return;if(!this.wants.get(Math.floor(e/1024/1024)))return;e+=1048576}},c.prototype._sendWant=function(t){var e=Math.floor(t/1048576);return!this.wants.get(e)&&(this.wants.set(e,!0),this.inflightWants++,this.stream.want({start:1048576*e,length:1048576}),!0)},c.prototype._downloadWaiting=function(t){if(t.bytes)this._downloadRange(t);else{if(!this.remoteBitfield.get(t.index)||!this.feed._reserved.set(t.index,!0))return;this._request(t.index,0,!1)}},c.prototype._downloadRange=function(t){t.iterator||(t.iterator=this.feed.bitfield.iterator(t.start,t.end));var e=this.feed._reserved,n=this._iterator,r=Math.min(-1===t.end?this.remoteLength:t.end,this.remoteLength),o=t.linear?n.seek(t.start).next(!0):function(t,e,n){var r=n-e,o=t.seek(Math.floor(Math.random()*r)+e).next(!0);return-1===o||o>=n?t.seek(e).next(!0):o}(n,t.start,r),a=o;if(-1===o||o>=r)!t.bytes&&t.end>-1&&this.feed.length>=t.end&&-1===t.iterator.seek(0).next()&&(i.remove(this.feed._selections,t),t.callback(null),this.live||this.sparse||this.feed._selections.length||this.end());else{for(;t.hash&&this.feed.tree.get(2*o)||!e.set(o,!0);)if(!((o=n.next(!0))>-1&&o<r)&&(t.linear||0===a||(a=0,!((o=n.seek(t.start).next(!0))>-1&&o<r)))){if(t.hash){for(var s=t.start;s<r;s++)if(!this.feed.tree.get(2*s))return;t.bytes||(i.remove(this.feed._selections,t),t.callback(null))}return}this._request(o,t.bytes||0,t.hash)}},c.prototype._request=function(t,e,n){var r={tick:6,bytes:e,index:t,hash:n,nodes:this.feed.digest(t)};this.inflightRequests.push(r),this.stream.request(r)}},function(t,e){t.exports=function t(e,i,a){i=i||[];a=a||0;var s=a;for(;e>=o;)i[a++]=255&e|n,e/=128;for(;e&r;)i[a++]=255&e|n,e>>>=7;i[a]=0|e;t.bytes=a-s+1;return i};var n=128,r=-128,o=Math.pow(2,31)},function(t,e){t.exports=function t(e,o){var i,a=0,o=o||0,s=0,u=o,c=e.length;do{if(u>=c)throw t.bytes=0,new RangeError("Could not decode varint");i=e[u++],a+=s<28?(i&r)<<s:(i&r)*Math.pow(2,s),s+=7}while(i>=n);t.bytes=u-o;return a};var n=128,r=127},function(t,e){var n=Math.pow(2,7),r=Math.pow(2,14),o=Math.pow(2,21),i=Math.pow(2,28),a=Math.pow(2,35),s=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),l=Math.pow(2,63);t.exports=function(t){return t<n?1:t<r?2:t<o?3:t<i?4:t<a?5:t<s?6:t<u?7:t<c?8:t<l?9:10}},function(t,e){t.exports=function(t,e){var n=new Array(e.length),r=0,o=0;for(;r<t.length&&o<e.length;){var i=t[r],a=e[o];i!==a?i<a?r++:n[o++]=-1:n[o++]=r}for(;o<e.length;o++)n[o]=-1;return n}},function(t,e,n){(function(e){var r=n(15),o=n(8),i=n(34),a=n(116),s=n(21);function u(t){if(!(this instanceof u))return new u(t);r.EventEmitter.call(this),this.key=null,this.discoveryKey=null,this.stream=t,this.peer=null,this.id=-1,this.remoteId=-1,this.header=0,this.headerLength=0,this.closed=!1,this._buffer=[]}function c(t,e,n,r){try{return t.decode(e,n,r)}catch(o){return null}}t.exports=u,o(u,r.EventEmitter),u.prototype.handshake=function(t){return this._send(1,a.Handshake,t)},u.prototype.info=function(t){return this._send(2,a.Info,t)},u.prototype.have=function(t){return this._send(3,a.Have,t)},u.prototype.unhave=function(t){return this._send(4,a.Unhave,t)},u.prototype.want=function(t){return this._send(5,a.Want,t)},u.prototype.unwant=function(t){return this._send(6,a.Unwant,t)},u.prototype.request=function(t){return this._send(7,a.Request,t)},u.prototype.cancel=function(t){return this._send(8,a.Cancel,t)},u.prototype.data=function(t){return this._send(9,a.Data,t)},u.prototype.extension=function(t,e){var n=this.stream.extensions.indexOf(t);if(-1===n)return!1;var r=15|this.header,o=this.headerLength+i.encodingLength(n)+e.length,a=s(i.encodingLength(o)+o),u=0;return i.encode(o,a,u),u+=i.encode.bytes,i.encode(r,a,u),u+=i.encode.bytes,i.encode(n,a,u),u+=i.encode.bytes,e.copy(a,u),this.stream._push(a)},u.prototype.remoteSupports=function(t){return this.stream.remoteSupports(t)},u.prototype.destroy=function(t){this.stream.destroy(t)},u.prototype.close=function(){var t=this.stream.feeds.indexOf(this);if(t>-1){if(this.stream.feeds[t]=this.stream.feeds[this.stream.feeds.length-1],this.stream.feeds.pop(),this.stream._localFeeds[this.id]=null,this.id=-1,this.stream.destroyed)return;if(this.stream.expectedFeeds<=0||--this.stream.expectedFeeds)return;this.stream._prefinalize()}},u.prototype._onclose=function(){if(!this.closed){if(this.closed=!0,!this.stream.destroyed){this.close(),this.remoteId>-1&&(this.stream._remoteFeeds[this.remoteId]=null);var t=this.discoveryKey.toString("hex");this.stream._feeds[t]===this&&delete this.stream._feeds[t]}this.peer?this.peer.onclose():this.emit("close")}},u.prototype._resume=function(){var t=this;e.nextTick(function(){for(;t._buffer.length;){var e=t._buffer.shift();t._emit(e.type,e.message)}t._buffer=null})},u.prototype._onextension=function(t,e,n){if(!(n<=e)){var r=i.decode(t,e),o=this.stream.remoteExtensions,a=!o||r>=o.length?-1:o[r];if(-1!==a){var s=t.slice(e+i.decode.bytes,n),u=this.stream.extensions[a];this.peer&&this.peer.onextension?this.peer.onextension(u,s):this.emit("extension",u,s)}}},u.prototype._onmessage=function(t,e,n,r){var o=function(t,e,n,r){switch(t){case 1:return c(a.Handshake,e,n,r);case 2:return c(a.Info,e,n,r);case 3:return c(a.Have,e,n,r);case 4:return c(a.Unhave,e,n,r);case 5:return c(a.Want,e,n,r);case 6:return c(a.Unwant,e,n,r);case 7:return c(a.Request,e,n,r);case 8:return c(a.Cancel,e,n,r);case 9:return c(a.Data,e,n,r)}}(t,e,n,r);if(o&&!this.closed)return 1===t?this.stream._onhandshake(o):void(this._buffer?this._buffer.length>16?this.destroy(new Error("Remote sent too many messages on an unopened feed")):this._buffer.push({type:t,message:o}):this._emit(t,o))},u.prototype._emit=function(t,e){if(this.peer)switch(t){case 2:return this.peer.oninfo(e);case 3:return this.peer.onhave(e);case 4:return this.peer.onunhave(e);case 5:return this.peer.onwant(e);case 6:return this.peer.onunwant(e);case 7:return this.peer.onrequest(e);case 8:return this.peer.oncancel(e);case 9:return this.peer.ondata(e)}else switch(t){case 2:return this.emit("info",e);case 3:return this.emit("have",e);case 4:return this.emit("unhave",e);case 5:return this.emit("want",e);case 6:return this.emit("unwant",e);case 7:return this.emit("request",e);case 8:return this.emit("cancel",e);case 9:return this.emit("data",e)}},u.prototype._send=function(t,e,n){var r=this.header|t,o=this.headerLength+e.encodingLength(n),a=s(i.encodingLength(o)+o),u=0;return i.encode(o,a,u),u+=i.encode.bytes,i.encode(r,a,u),u+=i.encode.bytes,e.encode(n,a,u),this.stream._push(a)}}).call(this,n(5))},function(t,e,n){var r=n(34);e.encode=function t(e,n,o){e=e>=0?2*e:-2*e-1;var i=r.encode(e,n,o);return t.bytes=r.encode.bytes,i},e.decode=function t(e,n){var o=r.decode(e,n);return t.bytes=r.decode.bytes,1&o?(o+1)/-2:o/2},e.encodingLength=function(t){return r.encodingLength(t>=0?2*t:-2*t-1)}},function(t,e,n){"use strict";var r=n(95),o=n(94),i=n(249);t.exports=function(){return new h};for(var a=function t(e){o(this,t);var n=new Uint8Array(e?8456:4360),r=n.byteOffset;this.buffer=n,this.bits=e?null:new Uint32Array(n.buffer,r,1024),this.children=e?new Array(32768):null,this.level=e,this.allOne=e?[new Uint32Array(n.buffer,r,1024),new Uint32Array(n.buffer,r+4096,32),new Uint32Array(n.buffer,r+4224,1)]:[this.bits,new Uint32Array(n.buffer,r+4096,32),new Uint32Array(n.buffer,r+4224,1)],this.oneOne=e?[new Uint32Array(n.buffer,r+4228,1024),new Uint32Array(n.buffer,r+8324,32),new Uint32Array(n.buffer,r+8452,1)]:[this.bits,new Uint32Array(n.buffer,r+4228,32),new Uint32Array(n.buffer,r+4356,1)]},s=[new a(0),new a(1),new a(2),new a(3)],u=new Uint32Array(32),c=new Uint32Array(32),l=0;l<32;l++)u[l]=Math.pow(2,31-l)-1,c[l]=Math.pow(2,32-l)-1;var f=255===new Uint8Array(u.buffer,u.byteOffset,1)[0],h=function(){function t(){o(this,t),this.length=32768,this.littleEndian=f,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=new a(0),this._allocs=1}return r(t,[{key:"last",value:function(){for(var t=this._page,e=0;;){for(var n=2;n>=0;n--){var r=i(t.oneOne[n][e]);if(32===r)return-1;e=31-r+(e<<5)}if(this._path[t.level]=e,!t.level)return p(this._path);t=t.children[e],e=0}}},{key:"set",value:function(t,e){var n=this._getPage(t,e);if(!n)return!1;var r=this._path[0],o=31&r,i=r>>>5,a=n.bits[i];n.bits[i]=e?a|2147483648>>>o:a&~(2147483648>>>o);var s=n.bits[i];return s!==a&&(this._updateAllOne(n,i,s),this._updateOneOne(n,i,s),!0)}},{key:"get",value:function(t){var e=this._getPage(t,!1);if(!e)return!1;var n=this._path[0],r=31&n;return 0!==(e.bits[n>>>5]&2147483648>>>r)}},{key:"iterator",value:function(){return new d(this)}},{key:"fill",value:function(t,e,n){return e||(e=0),!0===t?this._fillBit(!0,e,0===n?n:n||this.length):!1===t?this._fillBit(!1,e,0===n?n:n||this.length):void this._fillBuffer(t,e,0===n?n:n||e+8*t.length)}},{key:"grow",value:function(){if(3===this._page.level)throw new Error("Cannot grow beyond "+this.length);var t=this._page;this._page=new a(t.level+1),this._page.children[0]=t,3===this._page.level?this.length=Number.MAX_SAFE_INTEGER:this.length*=32768}},{key:"_fillBuffer",value:function(t,e,n){if(7&e||7&n)throw new Error("Offsets must be a multiple of 8");for(e/=8;n>this.length;)this.grow();n/=8;for(var r=e,o=this._getPage(8*e,!0);e<n;){var i=n-e<4096?n-e:4096,a=e-r;(e+=this._setPageBuffer(o,t.subarray(a,a+i),1023&e))!==n&&(o=this._nextPage(o,8*e))}}},{key:"_fillBit",value:function(t,e,n){for(var r=this._getPage(e,t);e<n;){var o=n-e<32768?n-e:32768;(e+=this._setPageBits(r,t,32767&e,o))!==n&&(r=this._nextPage(r,e))}}},{key:"_nextPage",value:function(t,e){var n=++this._offsets[t.level];return 32768===n?this._getPage(e,!0):this._parents[t.level].children[n]||this._addPage(this._parents[t.level],n)}},{key:"_setPageBuffer",value:function(t,e,n){return new Uint8Array(t.bits.buffer,t.bits.byteOffset,4*t.bits.length).set(e,n),n>>>=2,this._update(t,n,n+(e.length>>>2)+(3&e.length?1:0)),e.length}},{key:"_setPageBits",value:function(t,e,n,r){var o=n>>>5,i=r>>>5,a=4294967295>>>(31&n),s=~(4294967295>>>(31&r));return o===i?(t.bits[o]=e?t.bits[o]|a&s:t.bits[o]&~(a&s),this._update(t,o,o+1),r-n):(t.bits[o]=e?t.bits[o]|a:t.bits[o]&~a,i-o>2&&t.bits.fill(e?4294967295:0,o+1,i-1),1024===i?(t.bits[i-1]=e?4294967295:0,this._update(t,o,i),r-n):(t.bits[i]=e?t.bits[i]|s:t.bits[i]&~s,this._update(t,o,i+1),r-n))}},{key:"_update",value:function(t,e,n){for(;e<n;e++){var r=t.bits[e];this._updateAllOne(t,e,r),this._updateOneOne(t,e,r)}}},{key:"_updateAllOne",value:function(t,e,n){var r=1;do{for(;r<3;r++){var o=t.allOne[r],i=31&e,a=o[e>>>=5];if(o[e]=4294967295===n?a|2147483648>>>i:a&~(2147483648>>>i),(n=o[e])===a)return}e+=this._offsets[t.level],t=this._parents[t.level],r=0}while(t)}},{key:"_updateOneOne",value:function(t,e,n){var r=1;do{for(;r<3;r++){var o=t.oneOne[r],i=31&e,a=o[e>>>=5];if(o[e]=0!==n?a|2147483648>>>i:a&~(2147483648>>>i),(n=o[e])===a)return}e+=this._offsets[t.level],t=this._parents[t.level],r=0,0===n&&t&&(t.children[this._offsets[t.level-1]]=void 0)}while(t)}},{key:"_getPage",value:function(t,e){for(g(t,this._path);t>=this.length;){if(!e)return null;this.grow()}for(var n=this._page,r=n.level;r>0&&n;r--){var o=this._path[r];this._parents[r-1]=n,n=n.children[o]||(e?this._addPage(n,o):null)}return n}},{key:"_addPage",value:function(t,e){return this._allocs++,t=t.children[e]=new a(t.level-1)}}]),t}(),d=function(){function t(e){o(this,t),this._bitfield=e,this._path=new Uint16Array(5),this._offsets=new Uint16Array(this._path.buffer,this._path.byteOffset+2,4),this._parents=new Array(4).fill(null),this._page=null,this._allocs=e._allocs,this.seek(0)}return r(t,[{key:"seek",value:function(t){if(this._allocs=this._bitfield._allocs,t>=this._bitfield.length)return this._page=null,this;g(t,this._path),this._page=this._bitfield._page;for(var e=this._page.level;e>0;e--)this._parents[e-1]=this._page,this._page=this._page.children[this._path[e]]||s[e-1];return this}},{key:"next",value:function(t){return t?this.nextTrue():this.nextFalse()}},{key:"nextFalse",value:function(){this._allocs!==this._bitfield._allocs&&this.seek(p(this._path));for(var t=this._page,e=this._path[0],n=c;t;){for(var r=0;r<3;r++){var o=31&e,i=Math.clz32(~t.allOne[r][e>>>=5]&n[o]);if(32!==i)return this._downLeftFalse(t,r,e,i);n=u}e=this._offsets[t.level],t=this._parents[t.level]}return-1}},{key:"_downLeftFalse",value:function(t,e,n,r){for(;;){for(;e;)n=(n<<5)+r,r=Math.clz32(~t.allOne[--e][n]);if(n=(n<<5)+r,!t.level)break;this._parents[t.level-1]=t,this._path[t.level]=n,t=t.children[n],e=3,r=n=0}return this._page=t,this._path[0]=n,this._inc()}},{key:"nextTrue",value:function(){for(var t=this._page,e=this._path[0],n=c;t;){for(var r=0;r<3;r++){var o=31&e,i=Math.clz32(t.oneOne[r][e>>>=5]&n[o]);if(32!==i)return this._downLeftTrue(t,r,e,i);n=u}e=this._offsets[t.level],t=this._parents[t.level]}return-1}},{key:"_downLeftTrue",value:function(t,e,n,r){for(;;){for(;e;)n=(n<<5)+r,r=Math.clz32(t.oneOne[--e][n]);if(n=(n<<5)+r,!t.level)break;this._parents[t.level-1]=t,this._path[t.level]=n,t=t.children[n],e=3,r=n=0}return this._page=t,this._path[0]=n,this._inc()}},{key:"_inc",value:function(){var t=p(this._path);return this._path[0]<32767?this._path[0]++:this.seek(t+1),t}}]),t}();function p(t){return 32768*(32768*(32768*t[3]+t[2])+t[1])+t[0]}function g(t,e){t=((t=(t-(e[0]=32767&t))/32768)-(e[1]=32767&t))/32768,e[3]=(t-(e[2]=32767&t))/32768&32767}},function(t,e){t.exports=function(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}},function(t,e,n){var r=n(18),o=n(8);function i(t){if(!(this instanceof i))return new i(t);r.Readable.call(this,{objectMode:!0}),this.iterator=t,this.onread=function(t,e,n){e?t.destroy(e):t.push(n)}.bind(null,this),this.destroyed=!1}t.exports=i,o(i,r.Readable),i.prototype._read=function(){this.iterator.next(this.onread)},i.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var e=this;this.iterator.destroy(function(n){t||(t=n),t&&e.emit("error",t),e.emit("close")})}}},function(t,e,n){(function(e){t.exports=function(){var t=[],n=null,r=function(){n(i)},o=function o(i){return n?t.push(i):(n=i,o.locked=!0,e.nextTick(r),0)};o.locked=!1;var i=function(e,r,i){n=null,o.locked=!1,t.length&&o(t.shift()),e&&e(r,i)};return o}}).call(this,n(5))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===a(t,-1);return(t=n(i(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}var c=[];for(u=s;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(5))},function(t,e){t.exports=function(t,e){return t<e?-1:t>e?1:0}},function(t,e,n){var r=n(51),o=n(8),i=n(118),a=n(69);function s(t,e,n,o){if(!(this instanceof s))return new s(t,e,n,o);r.call(this),this._map=a.map(o,t),this._reduce=a.reduce(o,t),this._left=i(t,n,o),this._right=i(e,n,o),this._leftNodes=null,this._rightNodes=null,u(this._left),u(this._right)}function u(t){t._map=t._reduce=null}t.exports=s,o(s,r),s.prototype._next=function(t){var e=this;this._nextLeft(function(n,r){if(n)return t(n);e._nextRight(function(n,o){if(n)return t(n);if(!o&&!r)return t(null,null);if(!o||!r)return e._leftNodes=e._rightNodes=null,t(null,{left:e._prereturn(r),right:e._prereturn(o)});var i=r[0].key,a=o[0].key;if(i===a)return function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],o=e[n];if(r.feed!==o.feed||r.seq!==o.seq)return!1}return!0}(r,o)?e._skip(t):(e._leftNodes=e._rightNodes=null,t(null,{left:e._prereturn(r),right:e._prereturn(o)}));r[0].path.join("")+"@"+i<o[0].path.join("")+"@"+a?(e._leftNodes=null,t(null,{left:e._prereturn(r),right:null})):(e._rightNodes=null,t(null,{left:null,right:e._prereturn(o)}))})})},s.prototype._prereturn=function(t){return t?(this._map&&(t=t.map(this._map)),this._reduce&&(t=t.reduce(this._reduce)),t):t},s.prototype._skip=function(t){this._leftNodes=this._rightNodes=null,this._next(t)},s.prototype._nextRight=function(t){if(this._rightNodes)return t(null,this._rightNodes);var e=this;this._right.next(function(n,r){if(n)return t(n);e._rightNodes=r,t(null,r)})},s.prototype._nextLeft=function(t){if(this._leftNodes)return t(null,this._leftNodes);var e=this;this._left.next(function(n,r){if(n)return t(n);e._leftNodes=r,t(null,r)})}},function(t,e,n){(function(e){var r=n(51),o=n(8);function i(t,e){if(!(this instanceof i))return new i(t,e);r.call(this),this._db=t,this._reverse=!(!e||!e.reverse),this._end=[],this._nodes=[]}function a(t,e){var n=t.feed<e.clock.length?e.clock[t.feed]:0;return t.seq+1<n}function s(t,e){var n=t.feed<e.clock.length?e.clock[t.feed]:0;return t.seq+1>n}function u(t,e){for(var n=0,r=0;r<t.length;r++)t[r].clock.length<=e||(n=Math.max(n,t[r].clock[e]));return n}t.exports=i,o(i,r),i.prototype._open=function(t){var e=this;this._db.heads(function(n,r){if(n)return t(n);for(var o=e._db._writers,i=0;i<o.length;i++)e._end.push(u(r,i)),e._nodes.push(null);e._updateAll(t)})},i.prototype._updateAll=function(t){for(var e=this,n=0,r=null,o=this._db._writers,i=0;i<this._nodes.length;i++)this._end[i]>1&&!this._nodes[i]&&(n++,o[i].get(this._reverse?this._end[i]-1:1,a));function a(o,i){o?r=o:e._nodes[i.feed]=i,--n||t(r)}n||t(null)},i.prototype._next=function(t){var n=this._reverse?this._max():this._min();if(!n)return e.nextTick(t,null,null);this._reverse?this._pop(n,t):this._shift(n,t)},i.prototype._pop=function(t,n){var r=this,o=r._db._writers[t.feed],i=t.seq-1;if(i<=0)return this._nodes[t.feed]=null,e.nextTick(n,null,t);o.get(i,function(e,o){if(e)return n(e);r._nodes[o.feed]=o,n(null,t)})},i.prototype._shift=function(t,n){var r=this,o=r._db._writers[t.feed],i=t.seq+1;if(i>=this._end[t.feed])return this._nodes[t.feed]=null,e.nextTick(n,null,t);o.get(i,function(e,o){if(e)return n(e);r._nodes[o.feed]=o,n(null,t)})},i.prototype._compare=function(t){for(var e=null,n=0;n<this._nodes.length;n++){var r=this._nodes[n];!r||e&&!t(r,e)||(e=r)}return e},i.prototype._min=function(){return this._compare(a)},i.prototype._max=function(){return this._compare(s)}}).call(this,n(5))},function(t,e,n){var r=n(51),o=n(8),i=n(119),a=n(120);function s(t,e,n){if(!(this instanceof s))return new s(t,e,n);r.call(this),this._db=t,this._prefix=a(e),this._heads=void 0}function u(t,e){if(!t)return!1;for(var n=t.seq+1,r=0;r<e.length;r++){var o=e[r];if(o!==t&&o&&(o.clock[t.feed]||0)>=n)return!1}return!0}t.exports=s,o(s,r),s.prototype._open=function(t){var e=this;this._db.heads(function(n,r){if(n)return t(n);e._heads=r,t()})},s.prototype._next=function(t){var e=this;if(!this._heads||!this._heads.length)return t(null,null);i(this._db,this._heads,this._prefix,{reduce:!1,deletes:!0},function(n,r){return n?t(n):0===r.length?t(null,null):void e._nextHeads(r,function(n,o){if(n)return t(n);e._heads=o,t(null,r)})})},s.prototype._nextHeads=function(t,e){var n,r=[],o=null,i=0;for(n=0;n<t.length;n++)for(var a=t[n],s=0;s<a.clock.length;s++){var c=a.clock[s];s!==a.feed&&c>2?(i++,this._db._writers[s].get(c-1,l)):s===a.feed&&a.seq>1&&(i++,this._db._writers[a.feed].get(a.seq-1,l))}function l(t,n){n&&r.push(n),t&&(o=t),--i||e(o,function(t){for(var e=[],n=0;n<t.length;n++)u(t[n],t)&&e.push(t[n]);return e}(r))}0===i&&e(null,void 0)}},function(t,e,n){var r=n(50);function o(t,e,n,o,i){this.key=e,this.value=n,this.delete=!(!i||!i.delete),this.ifNotExists=!(!i||!i.ifNotExists),this._clock=o,this._active=0,this._error=null,this._callback=a,this._db=t,this._path=r(e,!0),this._trie=[]}function i(t,e){this.i=e,this.head=t,this.lock=t,this.pending=0,this.error=null,this.ended=!1}function a(){}t.exports=function t(e,n,r,i,a,s,u){if("function"===typeof s)return t(e,n,r,i,a,null,s);var c=new o(e,i,a,n,s);c.start(r,u)},o.prototype.start=function(t,e){if(e&&(this._callback=e),!t.length)return this._finalize();this._update(t,0)},o.prototype._finalize=function(){var t=this._callback,e=this._error;if(this._error=this._callback=null,e)return t(e);var n={key:this.key,value:this.value,trie:this._trie,clock:this._clock};this.delete&&(n.deleted=!0),this._db._localWriter.append(n,function(e){if(e)return t(e);t(null,n)})},o.prototype._update=function(t,e){this._active+=t.length;for(var n=0;n<t.length;n++){var r=new i(t[n],e);this._moveCloser(r)}},o.prototype._updateHead=function(t,e,n){var r=this;t.pending++,this._db._getPointer(e,n,!0,function(e,n){e||(t.head=n),r._workerDone(t,e)})},o.prototype._workerDone=function(t,e){e&&(t.error=e),--t.pending||(t.error||t.ended?this._end(t,t.error):(t.i++,this._moveCloser(t)))},o.prototype._fork=function(t,e){var n=this;t.pending++,this._db._getAllPointers(e,!0,function(e,r){if(e)return n._workerDone(t,e);n._update(r,t.i+1),n._workerDone(t,null)})},o.prototype._checkCollision=function(t,e,n,r){var o=this;t.pending++,this._db._getPointer(n,r,!0,function(i,a){if(i)return o._workerDone(t,i);a.key!==o.key&&o._push(t,e,n,r),o._workerDone(t,null)})},o.prototype._copyTrie=function(t,e,n){for(var r=0;r<e.length;r++)if(r!==n||4===n)for(var o=e[r]||[],i=0;i<o.length;i++){var a=o[i];4===n?this._checkCollision(t,r,a.feed,a.seq):this._push(t,r,a.feed,a.seq)}},o.prototype._splitTrie=function(t,e,n){var r=t.head,o=r.path[t.i];if(o!==n||!(o<4||r.key===this.key)){this._push(t,o,r.feed,r.seq);var i=e[n];i&&i.length?(this._updateHead(t,i[0].feed,i[0].seq),i.length>1&&this._fork(t,i.slice(1))):t.ended=!0}},o.prototype._moveCloser=function(t){for(var e=this._path,n=t.head;t.i<e.length;t.i++){var r=t.i,o=e[r],i=n.trie[r]||[];if(this._copyTrie(t,i,o),this._splitTrie(t,i,o),t.pending)return;if(t.ended)break}this._end(t,t.error)},o.prototype._end=function(t,e){if(e&&(this._error=e),!--this._active){if(this.ifNotExists&&t.head.key===this.key)return this._callback?this._callback(e,t.head):void 0;this._finalize()}},o.prototype._push=function(t,e,n,r){var o=t.i,i=this._trie[o];i||(i=this._trie[o]=[]);var a=i[e];a||(i[e]=a=[]);for(var s=0;s<a.length;s++){var u=a[s];if(u.feed===n&&u.seq===r)return}a.push({feed:n,seq:r})}},function(t,e,n){(function(t){var r=n(117),o=r.varint,i=r.skip,a=e.Entry={buffer:!0,encodingLength:null,encode:null,decode:null},s=e.InflatedEntry={buffer:!0,encodingLength:null,encode:null,decode:null},u=e.Header={buffer:!0,encodingLength:null,encode:null,decode:null};function c(t){return null!==t&&void 0!==t&&("number"!==typeof t||!isNaN(t))}!function(){var e=[r.string,r.bytes,r.bool,r.varint];function n(t){var n=0;if(!c(t.key))throw new Error("key is required");var r=e[0].encodingLength(t.key);if(n+=1+r,c(t.value)){var r=e[1].encodingLength(t.value);n+=1+r}if(c(t.deleted)){var r=e[2].encodingLength(t.deleted);n+=1+r}if(!c(t.trie))throw new Error("trie is required");var r=e[1].encodingLength(t.trie);if(n+=1+r,c(t.clock))for(var o=0;o<t.clock.length;o++)if(c(t.clock[o])){var r=e[3].encodingLength(t.clock[o]);n+=1+r}if(c(t.inflate)){var r=e[3].encodingLength(t.inflate);n+=1+r}return n}a.encodingLength=n,a.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!c(o.key))throw new Error("key is required");i[a++]=10;e[0].encode(o.key,i,a);a+=e[0].encode.bytes;c(o.value)&&(i[a++]=18,e[1].encode(o.value,i,a),a+=e[1].encode.bytes);c(o.deleted)&&(i[a++]=24,e[2].encode(o.deleted,i,a),a+=e[2].encode.bytes);if(!c(o.trie))throw new Error("trie is required");i[a++]=34;e[1].encode(o.trie,i,a);a+=e[1].encode.bytes;if(c(o.clock))for(var u=0;u<o.clock.length;u++)c(o.clock[u])&&(i[a++]=40,e[3].encode(o.clock[u],i,a),a+=e[3].encode.bytes);c(o.inflate)&&(i[a++]=48,e[3].encode(o.inflate,i,a),a+=e[3].encode.bytes);r.bytes=a-s;return i},a.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={key:"",value:null,deleted:!1,trie:null,clock:[],inflate:0};var c=!1;var l=!1;for(;;){if(a<=r){if(!c||!l)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var f=o.decode(n,r);r+=o.decode.bytes;var h=f>>3;switch(h){case 1:u.key=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;case 2:u.value=e[1].decode(n,r),r+=e[1].decode.bytes;break;case 3:u.deleted=e[2].decode(n,r),r+=e[2].decode.bytes;break;case 4:u.trie=e[1].decode(n,r),r+=e[1].decode.bytes,l=!0;break;case 5:u.clock.push(e[3].decode(n,r)),r+=e[3].decode.bytes;break;case 6:u.inflate=e[3].decode(n,r),r+=e[3].decode.bytes;break;default:r=i(7&f,n,r)}}}}(),function(){var e=s.Feed={buffer:!0,encodingLength:null,encode:null,decode:null};!function(){var n=[r.bytes];function a(t){var e=0;if(!c(t.key))throw new Error("key is required");var r=n[0].encodingLength(t.key);return e+=1+r}e.encodingLength=a,e.encode=function e(r,o,i){i||(i=0);o||(o=t.allocUnsafe(a(r)));var s=i;if(!c(r.key))throw new Error("key is required");o[i++]=10;n[0].encode(r.key,o,i);i+=n[0].encode.bytes;e.bytes=i-s;return o},e.decode=function t(e,r,a){r||(r=0);a||(a=e.length);if(!(a<=e.length&&r<=e.length))throw new Error("Decoded message is not valid");var s=r;var u={key:null};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(e,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.key=n[0].decode(e,r),r+=n[0].decode.bytes,c=!0;break;default:r=i(7&l,e,r)}}}}();var n=[r.string,r.bytes,r.bool,r.varint,e];function a(t){var e=0;if(!c(t.key))throw new Error("key is required");var r=n[0].encodingLength(t.key);if(e+=1+r,c(t.value)){var r=n[1].encodingLength(t.value);e+=1+r}if(c(t.deleted)){var r=n[2].encodingLength(t.deleted);e+=1+r}if(!c(t.trie))throw new Error("trie is required");var r=n[1].encodingLength(t.trie);if(e+=1+r,c(t.clock))for(var i=0;i<t.clock.length;i++)if(c(t.clock[i])){var r=n[3].encodingLength(t.clock[i]);e+=1+r}if(c(t.inflate)){var r=n[3].encodingLength(t.inflate);e+=1+r}if(c(t.feeds))for(var i=0;i<t.feeds.length;i++)if(c(t.feeds[i])){var r=n[4].encodingLength(t.feeds[i]);e+=o.encodingLength(r),e+=1+r}if(c(t.contentFeed)){var r=n[1].encodingLength(t.contentFeed);e+=1+r}return e}s.encodingLength=a,s.encode=function e(r,i,s){s||(s=0);i||(i=t.allocUnsafe(a(r)));var u=s;if(!c(r.key))throw new Error("key is required");i[s++]=10;n[0].encode(r.key,i,s);s+=n[0].encode.bytes;c(r.value)&&(i[s++]=18,n[1].encode(r.value,i,s),s+=n[1].encode.bytes);c(r.deleted)&&(i[s++]=24,n[2].encode(r.deleted,i,s),s+=n[2].encode.bytes);if(!c(r.trie))throw new Error("trie is required");i[s++]=34;n[1].encode(r.trie,i,s);s+=n[1].encode.bytes;if(c(r.clock))for(var l=0;l<r.clock.length;l++)c(r.clock[l])&&(i[s++]=40,n[3].encode(r.clock[l],i,s),s+=n[3].encode.bytes);c(r.inflate)&&(i[s++]=48,n[3].encode(r.inflate,i,s),s+=n[3].encode.bytes);if(c(r.feeds))for(var l=0;l<r.feeds.length;l++)c(r.feeds[l])&&(i[s++]=58,o.encode(n[4].encodingLength(r.feeds[l]),i,s),s+=o.encode.bytes,n[4].encode(r.feeds[l],i,s),s+=n[4].encode.bytes);c(r.contentFeed)&&(i[s++]=66,n[1].encode(r.contentFeed,i,s),s+=n[1].encode.bytes);e.bytes=s-u;return i},s.decode=function t(e,r,a){r||(r=0);a||(a=e.length);if(!(a<=e.length&&r<=e.length))throw new Error("Decoded message is not valid");var s=r;var u={key:"",value:null,deleted:!1,trie:null,clock:[],inflate:0,feeds:[],contentFeed:null};var c=!1;var l=!1;for(;;){if(a<=r){if(!c||!l)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var f=o.decode(e,r);r+=o.decode.bytes;var h=f>>3;switch(h){case 1:u.key=n[0].decode(e,r),r+=n[0].decode.bytes,c=!0;break;case 2:u.value=n[1].decode(e,r),r+=n[1].decode.bytes;break;case 3:u.deleted=n[2].decode(e,r),r+=n[2].decode.bytes;break;case 4:u.trie=n[1].decode(e,r),r+=n[1].decode.bytes,l=!0;break;case 5:u.clock.push(n[3].decode(e,r)),r+=n[3].decode.bytes;break;case 6:u.inflate=n[3].decode(e,r),r+=n[3].decode.bytes;break;case 7:var d=o.decode(e,r);r+=o.decode.bytes,u.feeds.push(n[4].decode(e,r,r+d)),r+=n[4].decode.bytes;break;case 8:u.contentFeed=n[1].decode(e,r),r+=n[1].decode.bytes;break;default:r=i(7&f,e,r)}}}}(),function(){var e=[r.string];function n(t){var n=0;if(!c(t.protocol))throw new Error("protocol is required");var r=e[0].encodingLength(t.protocol);return n+=1+r}u.encodingLength=n,u.encode=function r(o,i,a){a||(a=0);i||(i=t.allocUnsafe(n(o)));var s=a;if(!c(o.protocol))throw new Error("protocol is required");i[a++]=10;e[0].encode(o.protocol,i,a);a+=e[0].encode.bytes;r.bytes=a-s;return i},u.decode=function t(n,r,a){r||(r=0);a||(a=n.length);if(!(a<=n.length&&r<=n.length))throw new Error("Decoded message is not valid");var s=r;var u={protocol:""};var c=!1;for(;;){if(a<=r){if(!c)throw new Error("Decoded message is not valid");return t.bytes=r-s,u}var l=o.decode(n,r);r+=o.decode.bytes;var f=l>>3;switch(f){case 1:u.protocol=e[0].decode(n,r),r+=e[0].decode.bytes,c=!0;break;default:r=i(7&l,n,r)}}}}()}).call(this,n(4).Buffer)},function(t,e,n){(function(t){var r=n(34),o=t.allocUnsafe(524288),i=0;function a(t,e,n,o){var i,a=0,u=1;for(i=0;i<t.length;i++)t[i]&&t[i].length&&(a|=u),u*=2;for(r.encode(a,n,o),o+=r.encode.bytes,i=0;i<t.length;i++){var c=t[i];if(c)for(var l=0;l<c.length;l++)o=s(c[l],l<c.length-1,e,n,o)}return o}function s(t,e,n,o,i){return r.encode(2*n[t.feed]+(e?1:0),o,i),i+=r.encode.bytes,r.encode(t.seq,o,i),i+=r.encode.bytes}function u(t,e,n,o){var i=0,a=r.decode(t,e);for(e+=r.decode.bytes;a;)1&a?(n[i]=[],e=c(t,e,n[i],o),a=(a-1)/2):a/=2,i++;return e}function c(t,e,n,o){for(var i=1;i;){var a=r.decode(t,e);e+=r.decode.bytes;var s=r.decode(t,e);e+=r.decode.bytes,(a=(a-(i=1&a))/2)<o.length&&(a=o[a]),n.push({feed:a,seq:s})}return e}e.encode=function(e,n){o.length-i<65536&&(i=0,o=t.allocUnsafe(o.length));for(var s=i,u=0;u<e.length;u++)e[u]&&(r.encode(u,o,i),i+=r.encode.bytes,i=a(e[u],n,o,i));return o.slice(s,i)},e.decode=function(t,e){var n=[],o=0;for(;o<t.length;){var i=r.decode(t,o);o+=r.decode.bytes,n[i]=[],o=u(t,o,n[i],e)}return n}}).call(this,n(4).Buffer)},function(t,e,n){var r=n(66),o=n(47),i=n(15);function a(t,e){i.EventEmitter.call(this),this.key=e,this._index=0,this._db=t,this._kicked=0,this._nodes=null,this._destroyed=!1,this._onkick=function(t,e){if(t)return this.destroy(t);var n=this._kicked;this._kicked=0,e=e.sort(s),this._nodes||(this._nodes=e,this.emit("watching"));if(!function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].feed!==e[n].feed||t[n].seq!==e[n].seq)return!1;return!0}(e,this._nodes))return this._nodes=e,void this.emit("change");n>1&&this._kick()}.bind(this)}function s(t,e){return t.feed-e.feed}t.exports=function(t,e,n){var r=new a(t,e);return r._index=t._watching.push(r)-1,r.start(n),r},o.inherits(a,i.EventEmitter),a.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,r.remove(this._db._watching,this),t&&this.emit("error",t),this.emit("close"))},a.prototype.start=function(t){t&&this.on("change",t),this._kick()},a.prototype._kick=function(){this._kicked++,this._db.get(this.key,{update:!1,prefix:!0,map:!1,reduce:!1},this._onkick)}},function(t,e,n){(function(e){var r=n(42),o=e.from("hyperdb1");t.exports=function(t){var n=e.alloc(r.crypto_sign_SEEDBYTES),i={publicKey:e.alloc(r.crypto_sign_PUBLICKEYBYTES),secretKey:e.alloc(r.crypto_sign_SECRETKEYBYTES)};return r.crypto_kdf_derive_from_key(n,1,o,t),r.crypto_sign_seed_keypair(i.publicKey,i.secretKey,n),n.fill(0),i}}).call(this,n(4).Buffer)},function(t,e,n){"use strict";(function(e){var r=n(263),o=n(266),i=Math.pow(2,31)-1;function a(t,n){var r=e.from(o.parse(t)).toString("base64");return n?r.replace(/\+/g,"_").replace(/\//g,"-").replace(/==$/,"-"):r.replace(/==$/,"/")}function s(t,n){!!(n=n||{}).urlSafe&&(t=t.replace(/-/g,"/").replace(/_/g,"+"));var r=t.match(/(.*)+\/(\d+)+$/);return r?{uuid:o.unparse(e.from(r[1]+"==","base64")),count:parseInt(r[2])}:null}t.exports=function(t){var e=!1,n=!1;"boolean"===typeof t?e=t:(n=!!(t=t||{}).urlSafe,e=!!t.fixedLength);var o=0;c.uuid=r();var u=a(c.uuid,n);function c(){var t=e?u+function(t){return t<10?"000000000"+t:t<100?"00000000"+t:t<1e3?"0000000"+t:t<1e4?"000000"+t:t<1e5?"00000"+t:t<1e6?"0000"+t:t<1e7?"000"+t:t<1e8?"00"+t:t<1e9?"0"+t:void 0}(o++):u+o++;return o===i&&(c.uuid=r(),u=a(c.uuid,n),o=0),t}return c.decode=s,c},t.exports.decode=s}).call(this,n(4).Buffer)},function(t,e,n){var r=n(264),o=n(265);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){"use strict";for(var r=[],o={},i=0;i<256;i++)r[i]=(i+256).toString(16).substr(1),o[r[i]]=i;t.exports={parse:function(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[r+i++]=o[t])});i<16;)e[r+i++]=0;return e},unparse:function(t,e){var n=e||0,o=r;return o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]}}},function(t,e,n){"use strict";t.exports=function(t){return null!=t&&"object"===typeof t&&!1===Array.isArray(t)}},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function a(){if(a.enabled){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=a,s=Number(new Date),u=s-(n||s);i.diff=u,i.prev=n,i.curr=s,n=s,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var o=r.formatters[n];if("function"===typeof o){var a=e[c];t=o.call(i,a),e.splice(c,1),c--}return t}),r.formatArgs.call(i,e),(i.log||r.log).apply(i,e)}}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=e(t),a.destroy=o,a.extend=i,"function"===typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){return r(this.namespace+("undefined"===typeof e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"===typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(269),Object.keys(t).forEach(function(e){r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=7*i,s=365.25*i;function u(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var u=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*s;case"weeks":case"week":case"w":return u*a;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return u(t,e,i,"day");if(e>=o)return u(t,e,o,"hour");if(e>=r)return u(t,e,r,"minute");if(e>=n)return u(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(271),o=n(302);t.exports=function(t,e){return r(t,e,function(e,n){return o(t,n)})}},function(t,e,n){var r=n(121),o=n(301),i=n(35);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],l=r(t,c);n(l,c)&&o(u,i(c,t),l)}return u}},function(t,e,n){var r=n(22),o=n(52),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(44),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(276),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=a},function(t,e,n){var r=n(277),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(123),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(279),o=n(54),i=n(70);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(280),o=n(285),i=n(286),a=n(287),s=n(288);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(53);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(124),o=n(282),i=n(19),a=n(125),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r=n(283),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(17)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(53),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(53),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(53),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(55),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(55);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(55);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(55);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(56);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(56);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(56);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(300);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(44),o=n(127),i=n(22),a=n(52),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(71),o=n(35),i=n(72),a=n(19),s=n(57);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,l=(e=o(e,t)).length,f=l-1,h=t;null!=h&&++c<l;){var d=s(e[c]),p=n;if(c!=f){var g=h[d];void 0===(p=u?u(g,d,h):void 0)&&(p=a(g)?g:i(e[c+1])?[]:{})}r(h,d,p),h=h[d]}return t}},function(t,e,n){var r=n(303),o=n(304);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(35),o=n(73),i=n(22),a=n(72),s=n(74),u=n(57);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var h=u(e[c]);if(!(f=null!=t&&n(t,h)))break;t=t[h]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(h,l)&&(i(t)||o(t))}},function(t,e,n){var r=n(36),o=n(31),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(307);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(75),o=n(308);t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=o),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(44),o=n(73),i=n(22),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(310),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(312),o=n(315)(r);t.exports=o},function(t,e,n){var r=n(313),o=n(129),i=n(314),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(317),o=n(323),i=n(71),a=n(324),s=n(331),u=n(334),c=n(335),l=n(336),f=n(338),h=n(339),d=n(139),p=n(82),g=n(344),y=n(345),v=n(351),m=n(22),_=n(132),b=n(353),A=n(19),w=n(355),k=n(76),E=1,S=2,x=4,I="[object Arguments]",C="[object Function]",O="[object GeneratorFunction]",T="[object Object]",B={};B[I]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[T]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[C]=B["[object WeakMap]"]=!1,t.exports=function t(e,n,j,M,N,D){var L,R=n&E,P=n&S,F=n&x;if(j&&(L=N?j(e,M,N,D):j(e)),void 0!==L)return L;if(!A(e))return e;var U=m(e);if(U){if(L=g(e),!R)return c(e,L)}else{var z=p(e),q=z==C||z==O;if(_(e))return u(e,R);if(z==T||z==I||q&&!N){if(L=P||q?{}:v(e),!R)return P?f(e,s(L,e)):l(e,a(L,e))}else{if(!B[z])return N?e:{};L=y(e,z,R)}}D||(D=new r);var Q=D.get(e);if(Q)return Q;if(D.set(e,L),w(e))return e.forEach(function(r){L.add(t(r,n,j,r,e,D))}),L;if(b(e))return e.forEach(function(r,o){L.set(o,t(r,n,j,o,e,D))}),L;var K=F?P?d:h:P?keysIn:k,H=U?void 0:K(e);return o(H||e,function(r,o){H&&(r=e[o=r]),i(L,o,t(r,n,j,o,e,D))}),L}},function(t,e,n){var r=n(54),o=n(318),i=n(319),a=n(320),s=n(321),u=n(322);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(54);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(54),o=n(70),i=n(123),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(45),o=n(76);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(328),o=n(77),i=n(78),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(36),o=n(74),i=n(31),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(79),o=n(330),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(133)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(45),o=n(135);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(19),o=n(79),i=n(333),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(17),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(58)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(45),o=n(80);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(45),o=n(137);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(138),o=n(80),i=n(76);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(32)(n(17),"DataView");t.exports=r},function(t,e,n){var r=n(32)(n(17),"Promise");t.exports=r},function(t,e,n){var r=n(32)(n(17),"Set");t.exports=r},function(t,e,n){var r=n(32)(n(17),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(83),o=n(347),i=n(348),a=n(349),s=n(350),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",m="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",A="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",x="[object Uint32Array]";t.exports=function(t,e,n){var I=t.constructor;switch(e){case y:return r(t);case u:case c:return new I(+t);case v:return o(t,n);case m:case _:case b:case A:case w:case k:case E:case S:case x:return s(t,n);case l:return new I;case f:case p:return new I(t);case h:return i(t);case d:return new I;case g:return a(t)}}},function(t,e,n){var r=n(17).Uint8Array;t.exports=r},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(44),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(352),o=n(81),i=n(79);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(19),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(354),o=n(77),i=n(78),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(82),o=n(31),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(356),o=n(77),i=n(78),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(82),o=n(31),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(35),o=n(358),i=n(359),a=n(57);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(121),o=n(360);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e,n){var r=n(362);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(36),o=n(81),i=n(31),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e){t.exports=function t(e){if(r(e))return e;if(r(e.ownerDocument))return e.ownerDocument;if(r(e.document))return e.document;if(e.parentNode)return t(e.parentNode);if(e.commonAncestorContainer)return t(e.commonAncestorContainer);if(e.startContainer)return t(e.startContainer);if(e.anchorNode)return t(e.anchorNode)};var n=9;function r(t){return t&&t.nodeType===n}},function(t,e){t.exports=!!document.attachEvent&&window!==document.parentWindow},function(t,e,n){var r=n(19),o=n(366),i=n(367),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,n){var c,l,f,h,d,p,g=0,y=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError(a);function _(e){var n=c,r=l;return c=l=void 0,g=e,h=t.apply(r,n)}function b(t){var n=t-p;return void 0===p||n>=e||n<0||v&&t-g>=f}function A(){var t=o();if(b(t))return w(t);d=setTimeout(A,function(t){var n=e-(t-p);return v?u(n,f-(t-g)):n}(t))}function w(t){return d=void 0,m&&c?_(t):(c=l=void 0,h)}function k(){var t=o(),n=b(t);if(c=arguments,l=this,p=t,n){if(void 0===d)return function(t){return g=t,d=setTimeout(A,e),y?_(t):h}(p);if(v)return d=setTimeout(A,e),_(p)}return void 0===d&&(d=setTimeout(A,e)),h}return e=i(e)||0,r(n)&&(y=!!n.leading,f=(v="maxWait"in n)?s(i(n.maxWait)||0,e):f,m="trailing"in n?!!n.trailing:m),k.cancel=function(){void 0!==d&&clearTimeout(d),g=0,c=p=l=d=void 0},k.flush=function(){return void 0===d?h:w(o())},k}},function(t,e,n){var r=n(17);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(19),o=n(52),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?i:+t}},,,function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=n(3),o=n(11),i=n.n(o),a=n(9),s=n(87);function u(t){var e=JSON.stringify(t);return Object(s.btoa)(encodeURIComponent(e))}function c(t){var e=decodeURIComponent(Object(s.atob)(t));return JSON.parse(e)}var l={deserialize:function(t,e){var n=c(t);return r.m.fromJSON(n,e)},deserializeNode:function(t,e){var n=c(t);return r.i.fromJSON(n,e)},serialize:function(t,e){return u(t.toJSON(e))},serializeNode:function(t,e){return u(t.toJSON(e))}},f=n(46),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d="object"===("undefined"===typeof window?"undefined":h(window))&&"object"===("undefined"===typeof document?"undefined":h(document))&&9===document.nodeType,p=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=void 0;if(d){var y=!0,v=!1,m=void 0;try{for(var _,b=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var A=p(_.value,2),w=A[0];if(A[1].test(window.navigator.userAgent)){g=w;break}}}catch(Le){v=!0,m=Le}finally{try{!y&&b.return&&b.return()}finally{if(v)throw m}}}var k=void 0;if(d){var E=!0,S=!1,x=void 0;try{for(var I,C=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(E=(I=C.next()).done);E=!0){var O=p(I.value,2),T=O[0];if(O[1].test(window.navigator.userAgent)){k=T;break}}}catch(Le){S=!0,x=Le}finally{try{!E&&C.return&&C.return()}finally{if(S)throw x}}}var B=[];if(d){var j=!0,M=!1,N=void 0;try{for(var D,L=[["inputeventslevel1",function(t){return"inputType"in(t.InputEvent?new t.InputEvent("input"):{})}],["inputeventslevel2",function(t){var e=t.document.createElement("div");return e.contentEditable=!0,"onbeforeinput"in e}]][Symbol.iterator]();!(j=(D=L.next()).done);j=!0){var R=p(D.value,2),P=R[0];(0,R[1])(window)&&B.push(P)}}catch(Le){M=!0,N=Le}finally{try{!j&&L.return&&L.return()}finally{if(M)throw N}}}var F="firefox"===g,U="safari"===g,z="ie"===g,q="edge"===g,Q="ios"===k,K="macos"===k,H=(B.includes("inputeventslevel1"),B.includes("inputeventslevel2")),W=n(14),V=n.n(W),Y=n(62),J={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},G={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},$={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},X={},Z=Q||K,tt=!Z;[].concat(Object.keys(J)).concat(Object.keys(G)).concat(Object.keys($)).forEach(function(t){var e="is"+t[0].toUpperCase()+t.slice(1);if(!X[e]){var n=J[t],r=G[t],o=$[t],i=n&&Object(Y.isKeyHotkey)(n),a=r&&Object(Y.isKeyHotkey)(r),s=o&&Object(Y.isKeyHotkey)(o);X[e]=function(t){return!(!i||!i(t))||(!!(Z&&a&&a(t))||!!(tt&&s&&s(t)))}}});var et=X,nt=n(37),rt=n.n(nt),ot=n(1),it=n.n(ot),at=n(2),st=n.n(at);function ut(t,e){function n(n,r,o,i,a){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):e(s)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+t+"` but received: "+s):null}function r(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(void 0,[!1].concat(e))}return r.isRequired=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(void 0,[!0].concat(e))},r}var ct={block:ut("Block",function(t){return r.a.isBlock(t)}),blocks:ut("List<Block>",function(t){return r.a.isBlockList(t)}),change:ut("Change",function(t){return r.b.isChange(t)}),data:ut("Data",function(t){return r.c.isData(t)}),document:ut("Document",function(t){return r.d.isDocument(t)}),inline:ut("Inline",function(t){return r.f.isInline(t)}),inlines:ut("Inline",function(t){return r.f.isInlineList(t)}),leaf:ut("Leaf",function(t){return r.g.isLeaf(t)}),leaves:ut("List<Leaf>",function(t){return r.g.isLeafList(t)}),mark:ut("Mark",function(t){return r.h.isMark(t)}),marks:ut("Set<Mark>",function(t){return r.h.isMarkSet(t)}),node:ut("Node",function(t){return r.i.isNode(t)}),nodes:ut("List<Node>",function(t){return r.i.isNodeList(t)}),range:ut("Range",function(t){return r.k.isRange(t)}),ranges:ut("List<Range>",function(t){return r.k.isRangeList(t)}),value:ut("Value",function(t){return r.m.isValue(t)}),text:ut("Text",function(t){return r.l.isText(t)}),texts:ut("List<Text>",function(t){return r.l.isTextList(t)})},lt=n(88),ft=n.n(lt),ht=n(0),dt=n(6),pt=n(146),gt=n.n(pt),yt=n(147),vt=n.n(yt),mt=function(t,e){if(!t)throw new Error("Invariant failed: "+(e||""))},_t=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};var bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.placeholder,n=t.when;return mt(e,"You must pass `SlateReactPlaceholder` an `options.placeholder` string."),mt(n,"You must pass `SlateReactPlaceholder` an `options.when` query."),{decorateNode:function(t,e,r){if(!e.query(n,t))return r();var o=r(),i=t.getFirstText(),a=t.getLastText(),s={anchor:{key:i.key,offset:0},focus:{key:a.key,offset:a.text.length},mark:{type:"placeholder"}};return[].concat(_t(o),[s])},renderMark:function(t,n,r){var o=t.children;return"placeholder"===t.mark.type?it.a.createElement("span",null,it.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},e),o):r()}}},At=function(t,e){return t===e};var wt=function(t,e){var n;void 0===e&&(e=At);var r,o=[],i=!1,a=function(t,n){return e(t,o[n],n)};return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];return i&&n===this&&s.length===o.length&&s.every(a)?r:(r=t.apply(this,s),i=!0,n=this,o=s,r)}},kt=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],Et={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;r.i.isNode(t)&&(t=t.key);var n=e.document.querySelector('[data-key="'+t+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+t+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function xt(t){var e=window.document;if(e&&e.body.createTextRange){var n=e.body.createTextRange();n.collapse(),n.select()}else t.removeAllRanges()}var It=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ot=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bt=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},jt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},Mt=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(Le){o=!0,i=Le}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Nt=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Dt=/^([\w-]+)(?::(\d+))?$/;var Lt={parse:function(t){var e=Dt.exec(t);if(!e)throw new Error('Invalid offset key string "'+t+'".');var n=Mt(e,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(t){return t.key+":"+t.index}},Rt="data-slate-zero-width",Pt="["+Rt+"]",Ft="data-offset-key",Ut="["+Ft+"]",zt="[data-key]",qt="[data-slate-void]";function Qt(t,e,n){Object(a.a)(!r.m.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var o=function(t,e){if(1==t.nodeType&&t.childNodes.length){var n=e==t.childNodes.length,r=n?"backward":"forward",o=n?e-1:e;for(t=Kt(t,o,r);1==t.nodeType&&t.childNodes.length;){var i=n?t.childNodes.length-1:0;t=Kt(t,i,r)}e=n?t.textContent.length:0}return{node:t,offset:e}}(t,e),s=o.node,u=o.offset,c=i()(t),l=s.parentNode,f=l.closest(Ut),h=void 0,d=void 0;if(f){var p=c.document.createRange(),g=f.closest(zt);p.setStart(g,0),p.setEnd(s,u),d=g,h=p.toString().length}else{var y=l.closest(qt);if(!y)return null;if(!(f=y.querySelector(Ut)))return null;h=(d=f).textContent.length}h==d.textContent.length&&l.hasAttribute(Rt)&&h--;var v=f.getAttribute(Ft);if(!v)return null;var m=Lt.parse(v).key,_=n.value;return _.document.hasDescendant(m)?_.document.createPoint({key:m,offset:h}):null}function Kt(t,e,n){for(var r=t.childNodes,o=r[e],i=e,a=!1,s=!1;(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=e-1,n="backward"):i<0?(s=!0,i=e+1,n="forward"):(o=r[i],"forward"==n&&i++,"backward"==n&&i--);return o||null}var Ht=Et.FRAGMENT,Wt=Et.HTML,Vt=Et.TEXT;function Yt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(a.a)(!r.m.isValue(e),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var o=i()(t.target),s=o.getSelection(),u=e.value,c=u.document,h=u.fragment,d=u.selection,p=d.start,g=d.end,y=c.getClosestVoid(p.key,e),v=c.getClosestVoid(g.key,e);if(!s.isCollapsed||y){var m=l.serializeNode(h),_=s.getRangeAt(0),b=_.cloneContents(),A=b.childNodes[0];if(b.childNodes.forEach(function(t){t.textContent&&""!==t.textContent.trim()&&(A=t)}),v){var w=_.cloneRange(),k=St(v,o);w.setEndAfter(k),b=w.cloneContents()}if(y&&(A=b.childNodes[0].childNodes[1].firstChild),[].slice.call(b.querySelectorAll(Pt)).forEach(function(t){var e="n"===t.getAttribute(Rt);t.textContent=e?"\n":""}),3==A.nodeType){var E=o.document.createElement("span");E.style.whiteSpace="pre",E.appendChild(A),b.appendChild(E),A=E}A.setAttribute("data-slate-fragment",m);var S=r.m.create({document:h}),x=f.a.serialize(S),I=o.document.createElement("div");if(I.appendChild(b),t.clipboardData&&t.clipboardData.setData&&!z)return t.preventDefault(),t.clipboardData.setData(Vt,x),t.clipboardData.setData(Ht,m),t.clipboardData.setData(Wt,I.innerHTML),void n();var C=t.target.closest("[data-slate-editor]");I.setAttribute("contenteditable",!0),I.style.position="absolute",I.style.left="-9999px",C.appendChild(I),s.selectAllChildren(I),o.requestAnimationFrame(function(){C.removeChild(I),xt(s),s.addRange(_),n()})}}function Jt(t,e){Object(a.a)(!r.m.isValue(e),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=t.closest("[data-key]");if(!n)return null;var o=n.getAttribute("data-key");return o&&e.value.document.getNode(o)||null}function Gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=St(t.key,e),r=0,o=Array.from(n.querySelectorAll("[data-slate-content], [data-slate-zero-width]")),i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=l.childNodes[0],h=f.textContent.length,d=h;l.hasAttribute("data-slate-length")&&(d=parseInt(l.getAttribute("data-slate-length"),10));var p=r+d;if(t.offset<=p)return{node:f,offset:Math.min(h,Math.max(0,t.offset-r))};r=p}}catch(Le){a=!0,s=Le}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return null}function $t(t,e){Object(a.a)(!r.m.isValue(e),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=t.anchorNode||t.startContainer;if(!n)return null;var o=i()(n);(t instanceof o.Range||o.StaticRange&&t instanceof o.StaticRange)&&(t={anchorNode:t.startContainer,anchorOffset:t.startOffset,focusNode:t.endContainer,focusOffset:t.endOffset});var s=t,u=s.anchorNode,c=s.anchorOffset,l=s.focusNode,f=s.focusOffset,h=s.isCollapsed,d=e.value,p=Qt(u,c,e),g=h?p:Qt(l,f,e);if(!p||!g)return null;if(z||q){var y=Gt(p),v=Gt(g);t={anchorNode:y.node,anchorOffset:y.offset,focusNode:v.node,focusOffset:v.offset}}return d.document.createRange({anchor:p,focus:g})}function Xt(t,e){Object(a.a)(!r.m.isValue(e),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),t.nativeEvent&&(t=t.nativeEvent);var n=t,o=n.x,s=n.y,u=n.target;if(null==o||null==s)return null;var c=e.value.document,l=Jt(u,e);if(!l)return null;if(e.query("isVoid",l)){var f=u.getBoundingClientRect(),h="inline"==l.object?o-f.left<f.left+f.width-o:s-f.top<f.top+f.height-s,d=l.getFirstText(),p=c.createRange();if(h){var g=c.getPreviousText(d.key);if(g)return p.moveToEndOfNode(g)}var y=c.getNextText(d.key);return y?p.moveToStartOfNode(y):null}var v=i()(u),m=void 0;if(v.document.caretRangeFromPoint)m=v.document.caretRangeFromPoint(o,s);else if(v.document.caretPositionFromPoint){var _=v.document.caretPositionFromPoint(o,s);(m=v.document.createRange()).setStart(_.offsetNode,_.offset),m.setEnd(_.offsetNode,_.offset)}else if(v.document.body.createTextRange){m=v.document.body.createTextRange();try{m.moveToPoint(o,s)}catch(A){return null}}var b=$t(m,e);return b||null}var Zt=Et.FRAGMENT,te=Et.HTML,ee=Et.NODE,ne=Et.RICH,re=Et.TEXT,oe=/ data-slate-fragment="([^\s"]+)"/;function ie(t){!z&&t.nativeEvent&&(t=t.nativeEvent);var e=t.dataTransfer||t.clipboardData,n=ae(e,Zt),r=ae(e,ee),o=ae(e,te),i=ae(e,ne),a=ae(e,re),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var u=oe.exec(o),c=Mt(u,2),f=(c[0],c[1]);f&&(n=f)}if(a){var h=function(t){var e="SLATE-DATA-EMBED::";if(t.substring(0,e.length)!=e)return{TEXT:t};try{return JSON.parse(t.substring(e.length))}catch(Le){throw new Error("Unable to parse custom Slate drag event data.")}}(a);h[Zt]&&(n=h[Zt]),h[ee]&&(r=h[ee]),h[re]&&(a=h[re])}n&&(n=l.deserializeNode(n)),r&&(r=l.deserializeNode(r));try{e.items&&e.items.length?s=Array.from(e.items).map(function(t){return"file"==t.kind?t.getAsFile():null}).filter(function(t){return t}):e.files&&e.files.length&&(s=Array.from(e.files))}catch(Le){e.files&&e.files.length&&(s=Array.from(e.files))}var d={files:s,fragment:n,html:o,node:r,rich:i,text:a};return d.type=function(t){return t.fragment?"fragment":t.node?"node":t.rich&&t.html?"html":t.rich&&t.text?"text":t.files&&t.files.length?"files":t.html?"html":t.text?"text":"unknown"}(d),d}function ae(t,e){return t.types&&t.types.length?-1!==Array.from(t.types).indexOf(e)&&t.getData(e)||null:e==re&&t.getData("Text")||null}var se=Et.TEXT;function ue(t,e,n){var r=Et[e.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');t.nativeEvent&&(t=t.nativeEvent);var o=t.dataTransfer||t.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(Le){var i="SLATE-DATA-EMBED::",a=o.getData(se),s={};if(a.substring(0,i.length)===i)try{s=JSON.parse(a.substring(i.length))}catch(c){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[se]=a;s[r]=n;var u=""+i+JSON.stringify(s);o.setData(se,u)}}var ce=V()("slate:after");var le=V()("slate:before");function fe(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,e=void 0===t?[]:t,n=function(){var t=null,e=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(t,e,n){var r=!!t.nativeEvent;e.readOnly||r&&H||(le("onBeforeInput",{event:t}),n())},onBlur:function(e,n,o){if(!r&&!n.readOnly){var a=e.relatedTarget,s=e.target,u=i()(s);if(t!==u.document.activeElement){if(a){var c=rt.a.findDOMNode(n);if(a===c)return;if(a.hasAttribute("data-slate-spacer"))return;var l=Jt(a,n);if(c.contains(a)&&l&&!n.isVoid(l))return}le("onBlur",{event:e}),o()}}},onClick:function(t,e,n){le("onClick",{event:t}),n()},onCompositionEnd:function(t,r,o){var i=e;window.requestAnimationFrame(function(){e>i||(n=!1)}),le("onCompositionEnd",{event:t}),o()},onCompositionStart:function(t,r,o){n=!0,e++,r.value.selection.isCollapsed||r.delete(),le("onCompositionStart",{event:t}),o()},onCopy:function(t,e,n){var o=i()(t.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),le("onCopy",{event:t}),n()},onCut:function(t,e,n){if(!e.readOnly){var o=i()(t.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),le("onCut",{event:t}),n()}},onDragEnd:function(t,e,n){o=!1,le("onDragEnd",{event:t}),n()},onDragEnter:function(t,e,n){le("onDragEnter",{event:t}),n()},onDragExit:function(t,e,n){le("onDragExit",{event:t}),n()},onDragLeave:function(t,e,n){le("onDragLeave",{event:t}),n()},onDragOver:function(t,e,n){var r=Jt(t.target,e);e.isVoid(r)&&t.preventDefault(),z&&t.preventDefault(),o||(o=!0,z||(t.nativeEvent.dataTransfer.dropEffect="move")),le("onDragOver",{event:t}),n()},onDragStart:function(t,e,n){o=!0,le("onDragStart",{event:t}),n()},onDrop:function(t,e,n){e.readOnly||(t.preventDefault(),le("onDrop",{event:t}),n())},onFocus:function(e,n,o){if(!r&&!n.readOnly){var a=rt.a.findDOMNode(n),s=i()(e.target);t=s.document.activeElement,F&&e.target!=a?a.focus():(le("onFocus",{event:e}),o())}},onInput:function(t,e,r){n||e.value.selection.isBlurred||(le("onInput",{event:t}),r())},onKeyDown:function(t,e,r){e.readOnly||(n?et.isCompose(t)&&t.preventDefault():(!Q&&(et.isBold(t)||et.isDeleteBackward(t)||et.isDeleteForward(t)||et.isDeleteLineBackward(t)||et.isDeleteLineForward(t)||et.isDeleteWordBackward(t)||et.isDeleteWordForward(t)||et.isItalic(t)||et.isRedo(t)||et.isSplitBlock(t)||et.isTransposeCharacter(t)||et.isUndo(t))&&t.preventDefault(),le("onKeyDown",{event:t}),r()))},onPaste:function(t,e,n){e.readOnly||(t.preventDefault(),le("onPaste",{event:t}),n())},onSelect:function(e,o,a){if(!r&&!n&&!o.readOnly){var s=i()(e.target);t=s.document.activeElement,le("onSelect",{event:e}),a()}}}}(),r=function(){var t=null,e=!1;return{onBeforeInput:function(t,e,n){var r=e.value;if(t.nativeEvent)return t.preventDefault(),e.insertText(t.data),n();var o=t.getTargetRanges(),i=Mt(o,1)[0];if(!i)return n();ce("onBeforeInput",{event:t}),t.preventDefault();var a=r.document,s=r.selection,u=$t(i,e);switch(t.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":e.deleteAtRange(u);break;case"deleteWordBackward":e.deleteWordBackwardAtRange(u);break;case"deleteWordForward":e.deleteWordForwardAtRange(u);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":e.deleteLineBackwardAtRange(u);break;case"deleteSoftLineForward":case"deleteHardLineForward":e.deleteLineForwardAtRange(u);break;case"insertLineBreak":case"insertParagraph":a.hasVoidParent(s.start.path,e)?e.moveToStartOfNextText():e.splitBlockAtRange(u);break;case"insertFromYank":case"insertReplacementText":case"insertText":var c=null==t.data?t.dataTransfer.getData("text/plain"):t.data;if(null==c)break;e.insertTextAtRange(u,c,s.marks),s.marks&&r.document!=e.value.document&&e.select({marks:null})}n()},onBlur:function(t,e,n){ce("onBlur",{event:t}),e.blur(),n()},onClick:function(t,e,n){if(e.readOnly)return n();var r=e.value.document,o=Jt(t.target,e);if(!o)return n();ce("onClick",{event:t});var i=r.getAncestors(o.key);o&&(e.isVoid(o)||i.some(function(t){return e.isVoid(t)}))&&e.focus().moveToEndOfNode(o),n()},onCopy:function(t,e,n){ce("onCopy",{event:t}),Yt(t,e),n()},onCut:function(t,e,n){ce("onCut",{event:t}),Yt(t,e,function(){var t=e.value,n=t.endBlock,r=t.endInline,o=t.selection.isCollapsed,i=n&&e.isVoid(n)&&o,a=r&&e.isVoid(r)&&o;i?e.removeNodeByKey(n.key):a?e.removeNodeByKey(r.key):e.delete()}),n()},onDragEnd:function(e,n,r){ce("onDragEnd",{event:e}),t=null,r()},onDragStart:function(e,n,r){ce("onDragStart",{event:e}),t=!0;var o=n.value,i=o.document,a=Jt(e.target,n),s=i.getAncestors(a.key),u=a&&(n.isVoid(a)||s.some(function(t){return n.isVoid(t)})),c=o.blocks.some(function(t){return t.key===a.key});u&&!c&&n.moveToRangeOfNode(a);var f=n.value.fragment;ue(e,"fragment",l.serializeNode(f)),r()},onDrop:function(e,n,r){var o=n.value,a=o.document,s=o.selection,u=i()(e.target),c=Xt(e,n);if(!c)return r();ce("onDrop",{event:e});var l=ie(e),f=l.type,h=l.fragment,d=l.text;if(n.focus(),t&&s.end.key==c.end.key&&s.end.offset<c.end.offset&&(c=c.moveForward(s.start.key==s.end.key?0-s.end.offset+s.start.offset:0-s.end.offset)),t&&n.delete(),n.select(c),"text"==f||"html"==f){var p=c.anchor,g=a.hasVoidParent(p.key,n);if(g){for(var y=a.getNode(p.key);g&&(y=a.getNextText(y.key));)g=a.hasVoidParent(y.key,n);y&&n.moveToStartOfNode(y)}d&&d.split("\n").forEach(function(t,e){e>0&&n.splitBlock(),n.insertText(t)})}"fragment"==f&&n.insertFragment(h);var v=St(a.getNode(c.focus.key),u);v&&v.dispatchEvent(new MouseEvent("mouseup",{view:u,bubbles:!0,cancelable:!0})),r()},onFocus:function(t,n,r){ce("onFocus",{event:t}),e?n.deselect().focus():n.focus(),r()},onInput:function(t,e,n){var r=i()(t.target),o=e.value,a=r.getSelection().anchorNode,s=Qt(a,0,e);if(!s)return n();var u=o.document,c=o.selection,l=u.getDescendant(s.key),f=u.getClosestBlock(l.key),h=l.getLeaves(),d=f.getLastText(),p=h.last(),g=0,y=0,v=h.find(function(t){if(g=y,(y+=t.text.length)>s.offset)return!0})||p,m=v.text,_=a.textContent,b=l==d,A=v==p,w=_.charAt(_.length-1);if(b&&A&&"\n"==w&&(_=_.slice(0,-1)),_==m)return n();ce("onInput",{event:t});var k=_.length-m.length,E=c.moveToEnd().moveForward(k),S=c.moveAnchorTo(s.key,g).moveFocusTo(s.key,y);S=u.resolveRange(S),e.insertTextAtRange(S,_,v.marks).select(E),n()},onKeyDown:function(t,e,n){ce("onKeyDown",{event:t});var r=e.value,o=r.document,i=r.selection,a=o.hasVoidParent(i.start.path,e);if(et.isSplitBlock(t)&&!Q)return a?e.moveToStartOfNextText():e.splitBlock();if(et.isDeleteBackward(t)&&!Q)return e.deleteCharBackward();if(et.isDeleteForward(t)&&!Q)return e.deleteCharForward();if(et.isDeleteLineBackward(t))return e.deleteLineBackward();if(et.isDeleteLineForward(t))return e.deleteLineForward();if(et.isDeleteWordBackward(t))return e.deleteWordBackward();if(et.isDeleteWordForward(t))return e.deleteWordForward();if(et.isRedo(t))return e.redo();if(et.isUndo(t))return e.undo();if(et.isMoveLineBackward(t))return t.preventDefault(),e.moveToStartOfBlock();if(et.isMoveLineForward(t))return t.preventDefault(),e.moveToEndOfBlock();if(et.isExtendLineBackward(t))return t.preventDefault(),e.moveFocusToStartOfBlock();if(et.isExtendLineForward(t))return t.preventDefault(),e.moveFocusToEndOfBlock();if(et.isMoveBackward(t))return t.preventDefault(),i.isCollapsed?e.moveBackward():e.moveToStart();if(et.isMoveForward(t))return t.preventDefault(),i.isCollapsed?e.moveForward():e.moveToEnd();if(et.isMoveWordBackward(t))return t.preventDefault(),e.moveWordBackward();if(et.isMoveWordForward(t))return t.preventDefault(),e.moveWordForward();if(et.isExtendBackward(t)){var s=r.previousText,u=r.startText,c=s&&o.hasVoidParent(s.key,e);if(a||c||""==u.text)return t.preventDefault(),e.moveFocusBackward()}if(et.isExtendForward(t)){var l=r.nextText,f=r.startText,h=l&&o.hasVoidParent(l.key,e);if(a||h||""==f.text)return t.preventDefault(),e.moveFocusForward()}n()},onMouseDown:function(t,n,r){ce("onMouseDown",{event:t}),e=!0,r()},onMouseUp:function(t,n,r){ce("onMouseUp",{event:t}),e=!1,r()},onPaste:function(t,e,n){ce("onPaste",{event:t});var r=e.value,o=ie(t),i=o.type,a=o.fragment,s=o.text;if("fragment"==i&&e.insertFragment(a),"text"==i||"html"==i){if(!s)return n();var u=r.document,c=r.selection,l=r.startBlock;if(e.isVoid(l))return n();var h=l,d=u.getInsertMarksAtRange(c),p=f.a.deserialize(s,{defaultBlock:h,defaultMarks:d}).document;e.insertFragment(p)}n()},onSelect:function(t,e,n){ce("onSelect",{event:t});var r=i()(t.target),o=e.value,a=o.document,s=r.getSelection();if(s.rangeCount){var u=$t(s,e);if(u){var c=u,l=c.anchor,f=c.focus,h=a.getNode(l.key),d=a.getNode(f.key),p=a.getClosestInline(l.key),g=a.getClosestInline(f.key),y=a.getClosestBlock(f.key),v=a.getClosestBlock(l.key);if(v&&!e.isVoid(v)&&0==l.offset&&y&&e.isVoid(y)&&0!=f.offset&&(u=u.setFocus(f.setOffset(0))),p&&!e.isVoid(p)&&l.offset==h.text.length){var m=a.getClosestBlock(l.key).getNextText(l.key);m&&(u=u.moveAnchorTo(m.key,0))}if(g&&!e.isVoid(g)&&f.offset==d.text.length){var _=a.getClosestBlock(f.key).getNextText(f.key);_&&(u=u.moveFocusTo(_.key,0))}var b=a.createSelection(u);b=(b=b.setIsFocused(!0)).set("marks",o.selection.marks),e.select(b),n()}}else e.blur()}}}();return[n].concat(Nt(e),[r])}var he=V()("slate:leaves"),de=function(t){function e(){var t,n,r;It(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),pe.call(r),jt(r,n)}return Bt(e,t),Ct(e,[{key:"shouldComponentUpdate",value:function(t){return t.index!=this.props.index||t.marks!=this.props.marks||t.text!=this.props.text||t.parent!=this.props.parent}},{key:"render",value:function(){this.debug("render",this);var t=this.props,e=t.node,n=t.index,r=Lt.stringify({key:e.key,index:n});return it.a.createElement("span",{"data-slate-leaf":!0,"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var t=this.props,e=t.marks,n=t.node,r=t.offset,o=t.text,i=t.editor,a=this.renderText(),s={"data-slate-mark":!0};return e.reduce(function(t,a){var u={editor:i,mark:a,marks:e,node:n,offset:r,text:o,children:t,attributes:s};return i.run("renderMark",u)||t},a)}},{key:"renderText",value:function(){var t=this.props,e=t.block,n=t.node,r=t.editor,o=t.parent,i=t.text,a=t.index,s=t.leaves;if(r.query("isVoid",o))return it.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":o.text.length},"\ufeff");if(""===i&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return it.a.createElement("span",{"data-slate-zero-width":"n","data-slate-length":0},"\ufeff",it.a.createElement("br",null));if(""===i)return it.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":0},"\ufeff");var u=e.getLastText(),c=i.charAt(i.length-1),l=n===u,f=a===s.size-1;return l&&f&&"\n"===c?it.a.createElement("span",{"data-slate-content":!0},i+"\n"):it.a.createElement("span",{"data-slate-content":!0},i)}}]),e}(it.a.Component);de.propTypes={block:ct.block.isRequired,editor:st.a.object.isRequired,index:st.a.number.isRequired,leaves:ct.leaves.isRequired,marks:ct.marks.isRequired,node:ct.node.isRequired,offset:st.a.number.isRequired,parent:ct.node.isRequired,text:st.a.string.isRequired};var pe=function(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];he.apply(void 0,[e,t.props.node.key+"-"+t.props.index].concat(r))}},ge=V()("slate:node"),ye=function(t){function e(){var t,n,r;It(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),ve.call(r),jt(r,n)}return Bt(e,t),Ct(e,[{key:"render",value:function(){var t=this;this.debug("render",this);var e=this.props,n=e.decorations,o=e.editor,i=e.node,a=e.style,s=o.value.document,u=i.key,c=n.filter(function(t){var e=t.start,n=t.end;if(e.key===u||n.key===u)return!0;if(e.key===n.key)return!1;var o=s.assertPath(u);return-1!==r.j.compare(o,e.path)&&1!==r.j.compare(o,n.path)}),l=0===c.size?i.getLeaves():i.getLeaves(c),f=0,h=l.map(function(e,n){var r=t.renderLeaf(l,e,n,f);return f+=e.text.length,r});return it.a.createElement("span",{"data-key":u,style:a},h)}}]),e}(it.a.Component);ye.propTypes={block:ct.block,decorations:ft.a.list.isRequired,editor:st.a.object.isRequired,node:ct.node.isRequired,parent:ct.node.isRequired,style:st.a.object},ye.defaultProps={style:null};var ve=function(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.props.node.key;ge.apply(void 0,[e,i+" (text)"].concat(r))},this.shouldComponentUpdate=function(e){var n=e,r=t.props;if(n.node!=r.node)return!0;if("block"==n.parent.object){var o=r.parent.nodes.last(),i=n.parent.nodes.last();if(r.node==o&&n.node!=i)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(e,n,r,o){var i=t.props,a=i.block,s=i.node,u=i.parent,c=i.editor,l=n.text,f=n.marks;return it.a.createElement(de,{key:s.key+"-"+r,block:a,editor:c,index:r,marks:f,node:s,offset:o,parent:u,leaves:e,text:l})}},me=V()("slate:void"),_e=function(t){function e(){var t,n,r;It(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),be.call(r),jt(r,n)}return Bt(e,t),Ct(e,[{key:"render",value:function(){var t=this.props,e=t.children,n=t.node,r=t.readOnly,o="block"==n.object?"div":"span",i=it.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),a=it.a.createElement(o,{contentEditable:!!r&&null},e);return this.debug("render",{props:t}),it.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!=n.object)&&null},r?null:i,a)}}]),e}(it.a.Component);_e.propTypes={block:ct.block,children:st.a.any.isRequired,editor:st.a.object.isRequired,node:ct.node.isRequired,parent:ct.node.isRequired,readOnly:st.a.bool.isRequired};var be=function(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.props.node,a=i.key+" ("+i.type+")";me.apply(void 0,[e,""+a].concat(r))},this.renderText=function(){var e=t.props,n=e.block,r=e.decorations,o=e.node,i=e.readOnly,a=e.editor,s=o.getFirstText();return it.a.createElement(ye,{block:"block"==o.object?o:n,decorations:r,editor:a,key:s.key,node:s,parent:o,readOnly:i})}};function Ae(t,e){var n=Object(ht.Set)().asMutable(),r=[];return function(t,e){if(e.isEmpty())return t.nodes.toArray().map(function(t,e){return{child:t,index:e}});var n=Ot({},t.key,0),r=1;t.forEachDescendant(function(t){n[t.key]=r,r+=1});var o=t.nodes.toArray(),i=o.map(function(t,e){return{child:t,index:e,order:n[t.key]}});return e.forEach(function(t){var e=n[t.start.key],a=void 0===e?0:function(t,e,n){var r=t.findIndex(function(t){return n<e[t.key]});if(r<=0)return 0;var o=t[r-1];return e[o.key]}(o,n,e);i.push({isRangeStart:!0,order:a-.5,decoration:t});var s=(n[t.end.key]||r)+.5;i.push({isRangeEnd:!0,order:s,decoration:t})}),i.sort(function(t,e){return t.order>e.order?1:-1})}(t,e).forEach(function(t){t.isRangeStart?n.add(t.decoration):t.isRangeEnd?n.remove(t.decoration):r.push(n.toList())}),r}var we=V()("slate:node"),ke=function(t){function e(){var t,n,r;It(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),Ee.call(r),jt(r,n)}return Bt(e,t),Ct(e,[{key:"shouldComponentUpdate",value:function(t){var e=this.props,n=e.editor.run("shouldNodeComponentUpdate",e,t),r=t,o=e;if(null!=n){if(n)return!0;Object(dt.a)(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!=o.readOnly||(r.node!=o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var t=this;this.debug("render",this);var e=this.props,n=e.editor,r=e.isSelected,o=e.isFocused,i=e.node,a=e.decorations,s=e.parent,u=e.readOnly,c=n.value.selection,l=i.getSelectionIndexes(c,r),f=a.concat(i.getDecorations(n)),h=Ae(i,f),d=[];i.nodes.forEach(function(e,n){var r=!!l&&l.start<=n&&n<l.end;d.push(t.renderNode(e,r,h[n]))});var p={"data-key":i.key};i.isLeafBlock()&&("rtl"==i.getTextDirection()&&(p.dir="rtl"));var g={key:i.key,editor:n,isFocused:o,isSelected:r,node:i,parent:s,readOnly:u},y=n.run("renderNode",Tt({},g,{attributes:p,children:d}));return n.query("isVoid",i)?it.a.createElement(_e,this.props,y):y}}]),e}(it.a.Component);ke.propTypes={block:ct.block,decorations:ft.a.list.isRequired,editor:st.a.object.isRequired,isFocused:st.a.bool.isRequired,isSelected:st.a.bool.isRequired,node:ct.node.isRequired,parent:ct.node.isRequired,readOnly:st.a.bool.isRequired};var Ee=function(){var t=this;this.debug=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.props.node,a=i.key,s=i.type;we.apply(void 0,[e,a+" ("+s+")"].concat(r))},this.renderNode=function(e,n,r){var o=t.props,i=o.block,a=o.editor,s=o.node,u=o.readOnly,c=o.isFocused,l="text"==e.object?ye:ke;return it.a.createElement(l,{block:"block"==s.object?s:i,decorations:r,editor:a,isSelected:n,isFocused:c&&n,key:e.key,node:e,parent:s,readOnly:u})}};function Se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t.anchor,r=t.focus,o=t.isBackward,i=t.isCollapsed,a=Gt(n,e),s=i?a:Gt(r,e);if(!a||!s)return null;var u=e.document.createRange(),c=o?s:a,l=o?a:s;return u.setStart(c.node,c.offset),u.setEnd(l.node,l.offset),u}var xe=["auto","overlay","scroll"],Ie=Q&&!!window.navigator.userAgent.match(/os 11_/i);function Ce(t){if(!Ie&&t.anchorNode){var e=i()(t.anchorNode),n=function(t,e){for(var n=t.parentNode,r=void 0;!r&&n.parentNode;){var o=e.getComputedStyle(n).overflowY;if(xe.includes(o)){r=n;break}n=n.parentNode}return r||e.document.body}(t.anchorNode,e),r=n==e.document.body||n==e.document.documentElement,o=gt()(t),a=t.getRangeAt(0).cloneRange();a.collapse(o);var s=a.getBoundingClientRect();U&&a.collapsed&&0==s.top&&0==s.height&&(0==a.startOffset?a.setEnd(a.endContainer,1):a.setStart(a.startContainer,a.startOffset-1),0==(s=a.getBoundingClientRect()).top&&0==s.height&&a.getClientRects().length&&(s=a.getClientRects()[0]));var u=void 0,c=void 0,l=void 0,f=void 0,h=0,d=0,p=0,g=0,y=0,v=0,m=0,_=0;if(r){u=e.innerWidth,c=e.innerHeight,l=e.pageYOffset,f=e.pageXOffset}else{var b=n.offsetWidth,A=n.offsetHeight,w=n.scrollTop,k=n.scrollLeft,E=e.getComputedStyle(n),S=E.borderTopWidth,x=E.borderBottomWidth,I=E.borderLeftWidth,C=E.borderRightWidth,O=E.paddingTop,T=E.paddingBottom,B=E.paddingLeft,j=E.paddingRight,M=n.getBoundingClientRect();u=b,c=A,h=M.top+parseInt(S,10),d=M.left+parseInt(I,10),p=parseInt(S,10)+parseInt(x,10),g=parseInt(I,10)+parseInt(C,10),y=parseInt(O,10),v=parseInt(T,10),m=parseInt(B,10),_=parseInt(j,10),l=w,f=k}var N=s.top+l-h,D=s.left+f-d,L=f,R=l;D<f?L=D-m:D+s.width+g>f+u&&(L=D+g+_-u),N<l?R=N-y:N+s.height+p>l+c&&(R=N+p+v+s.height-c),r?e.scrollTo(L,R):(n.scrollTop=R,n.scrollLeft=L)}}var Oe=/Permission denied to access property "nodeType"/,Te=V()("slate:content"),Be=function(t){function e(){var t,n,r;It(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.tmp={isUpdatingSelection:!1},r.handlers=kt.reduce(function(t,e){return t[e]=function(t){return r.onEvent(e,t)},t},{}),r.updateSelection=function(){var t=r.props.editor.value.selection,e=t.isBackward,n=i()(r.element),o=n.getSelection(),a=n.document.activeElement;if(o){var s=o.rangeCount,u=o.anchorNode,c=!1;if(t.isBlurred&&a===r.element&&(r.element.blur(),c=!0),t.isUnset&&s&&r.isInEditor(u)&&(xt(o),c=!0),t.isFocused&&a!==r.element&&(r.element.focus(),c=!0),t.isFocused&&t.isSet){var l=!!s&&o.getRangeAt(0),f=Se(t,n);if(!f)return void Object(dt.a)(!1,"Unable to find a native DOM range from the current selection.");var h=f.startContainer,d=f.startOffset,p=f.endContainer,g=f.endOffset;if(l&&(h==l.startContainer&&d==l.startOffset&&p==l.endContainer&&g==l.endOffset||h==l.endContainer&&d==l.endOffset&&p==l.startContainer&&g==l.startOffset))return;c=!0,r.tmp.isUpdatingSelection=!0,xt(o),o.setBaseAndExtent?e?o.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):o.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset):o.addRange(f),Ce(o),setTimeout(function(){F&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1})}c&&Te("updateSelection",{selection:t,native:o,activeElement:a})}},r.ref=function(t){r.element=t},r.isInEditor=function(t){var e=r.element,n=void 0;try{if(8===t.nodeType)return!1;n=3===t.nodeType?t.parentNode:t}catch(Le){if(F&&Oe.test(Le.message))return!1;throw Le}return n.isContentEditable&&(n===e||n.closest("[data-slate-editor]")===e)},r.onNativeSelectionChange=vt()(function(t){r.props.readOnly||i()(t.target).document.activeElement===r.element&&r.props.onEvent("onSelect",t)},100),r.renderNode=function(t,e,n){var o=r.props,i=o.editor,a=o.readOnly,s=i.value,u=s.document,c=s.selection.isFocused;return it.a.createElement(ke,{block:null,editor:i,decorations:n,isSelected:e,isFocused:c&&e,key:t.key,node:t,parent:u,readOnly:a})},jt(r,n)}return Bt(e,t),Ct(e,[{key:"componentDidMount",value:function(){i()(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),H&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var t=i()(this.element);t&&t.document.removeEventListener("selectionchange",this.onNativeSelectionChange),H&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){this.updateSelection()}},{key:"onEvent",value:function(t,e){if(Te("onEvent",t),!this.tmp.isUpdatingSelection||"onSelect"!=t&&"onBlur"!=t&&"onFocus"!=t){if("onSelect"==t){var n=this.props.editor,r=n.value.selection,o=$t(i()(e.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"==t||"onDragEnter"==t||"onDragExit"==t||"onDragLeave"==t||"onDragOver"==t||"onDragStart"==t||"onDrop"==t)if(e.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!=t&&"onBlur"!=t&&"onCompositionEnd"!=t&&"onCompositionStart"!=t&&"onCopy"!=t&&"onCut"!=t&&"onFocus"!=t&&"onInput"!=t&&"onKeyDown"!=t&&"onKeyUp"!=t&&"onPaste"!=t&&"onSelect"!=t||this.isInEditor(e.target))&&this.props.onEvent(t,e)}}},{key:"render",value:function(){var t=this,e=this.props,n=this.handlers,r=e.id,o=e.className,i=e.readOnly,a=e.editor,s=e.tabIndex,u=e.role,c=e.tagName,l=e.spellCheck,f=a.value,h=c,d=f.document,p=f.selection,g=f.decorations,y=d.getSelectionIndexes(p),v=d.getDecorations(a).concat(g),m=Ae(d,v),_=d.nodes.toArray().map(function(e,n){var r=!!y&&y.start<=n&&n<y.end;return t.renderNode(e,r,m[n])}),b=Tt({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},i?{}:{WebkitUserModify:"read-write-plaintext-only"},e.style);return Te("render",{props:e}),it.a.createElement(h,Tt({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":d.key,contentEditable:!i||null,suppressContentEditableWarning:!0,id:r,className:o,autoCorrect:e.autoCorrect?"on":"off",spellCheck:l,style:b,role:i?null:u||"textbox",tabIndex:s,"data-gramm":!1}),_)}}]),e}(it.a.Component);Be.propTypes={autoCorrect:st.a.bool.isRequired,className:st.a.string,editor:st.a.object.isRequired,id:st.a.string,readOnly:st.a.bool.isRequired,role:st.a.string,spellCheck:st.a.bool.isRequired,style:st.a.object,tabIndex:st.a.number,tagName:st.a.string},Be.defaultProps={style:{},tagName:"div"};var je=[].concat(Nt(kt),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","schema"]);function Me(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.placeholder,n=t.plugins,r=void 0===n?[]:n;var o=[],i=je.reduce(function(e,n){return n in t&&(e[n]=t[n]),e},{});return o.push(fe({plugins:[i].concat(Nt(r))})),e&&o.push(bt({placeholder:e,when:function(t,e){return"document"===e.object&&""===e.text&&1===e.nodes.size&&1===e.getTexts().size}})),o.push({decorateNode:function(t,e,n){return[]},renderEditor:function(t,e,n){return it.a.createElement(Be,{autoCorrect:t.autoCorrect,className:t.className,editor:e,id:t.id,onEvent:function(t,n){return e.run(t,n)},readOnly:t.readOnly,role:t.role,spellCheck:t.spellCheck,style:t.style,tabIndex:t.tabIndex,tagName:t.tagName})},renderNode:function(t,e,n){var r=t.attributes,o=t.children,i=t.node.object;if("block"!=i&&"inline"!=i)return null;var a="block"==i?"div":"span";return it.a.createElement(a,Tt({},r,{style:{position:"relative"}}),o)}}),o}var Ne=V()("slate:editor"),De=function(t){function e(){var t,n,o;It(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=o=jt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),o.state={value:o.props.defaultValue},o.tmp={mounted:!1,change:null,resolves:0,updates:0},o.resolveController=wt(function(){Object(dt.a)(o.tmp.resolves<5||o.tmp.resolves!==o.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),o.tmp.resolves++;var t=Me(Tt({},o.props,{value:o.props.value||o.state.value}));o.controller=new r.e({plugins:[t],onChange:function(t){o.tmp.mounted?o.handleChange(t):o.tmp.change=t}},{controller:o,construct:!1}),o.controller.run("onConstruct")}),jt(o,n)}return Bt(e,t),Ct(e,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){Ne("render",this);var t=Tt({},this.props,{editor:this}),e=t.commands,n=t.placeholder,r=t.plugins,o=t.queries,i=t.schema;this.resolveController(r,i,e,o,n);var a=t.options,s=t.readOnly,u=t.value,c=this.state.value,l=u||c;return this.controller.setReadOnly(s),this.controller.setValue(l,a),this.controller.run("renderEditor",Tt({},t,{value:l}))}},{key:"handleChange",value:function(t){var e=this.props.onChange;this.state.value&&this.setState({value:t.value}),e(t)}},{key:"applyOperation",value:function(){var t;return(t=this.controller).applyOperation.apply(t,arguments)}},{key:"command",value:function(){var t;return(t=this.controller).command.apply(t,arguments)}},{key:"hasCommand",value:function(){var t;return(t=this.controller).hasCommand.apply(t,arguments)}},{key:"hasQuery",value:function(){var t;return(t=this.controller).hasQuery.apply(t,arguments)}},{key:"normalize",value:function(){var t;return(t=this.controller).normalize.apply(t,arguments)}},{key:"query",value:function(){var t;return(t=this.controller).query.apply(t,arguments)}},{key:"registerCommand",value:function(){var t;return(t=this.controller).registerCommand.apply(t,arguments)}},{key:"registerQuery",value:function(){var t;return(t=this.controller).registerQuery.apply(t,arguments)}},{key:"run",value:function(){var t;return(t=this.controller).run.apply(t,arguments)}},{key:"withoutNormalizing",value:function(){var t;return(t=this.controller).withoutNormalizing.apply(t,arguments)}},{key:"call",value:function(){var t;return(t=this.controller).call.apply(t,arguments)}},{key:"change",value:function(){var t;return(t=this.controller).change.apply(t,arguments)}},{key:"onChange",value:function(){var t;return(t=this.controller).onChange.apply(t,arguments)}},{key:"applyOperations",value:function(){var t;return(t=this.controller).applyOperations.apply(t,arguments)}},{key:"setOperationFlag",value:function(){var t;return(t=this.controller).setOperationFlag.apply(t,arguments)}},{key:"getFlag",value:function(){var t;return(t=this.controller).getFlag.apply(t,arguments)}},{key:"unsetOperationFlag",value:function(){var t;return(t=this.controller).unsetOperationFlag.apply(t,arguments)}},{key:"withoutNormalization",value:function(){var t;return(t=this.controller).withoutNormalization.apply(t,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Object(a.a)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Object(a.a)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),e}(it.a.Component);De.propTypes=Tt({autoCorrect:st.a.bool,autoFocus:st.a.bool,className:st.a.string,defaultValue:ct.value,id:st.a.string,onChange:st.a.func,options:st.a.object,placeholder:st.a.any,plugins:st.a.array,readOnly:st.a.bool,role:st.a.string,schema:st.a.object,spellCheck:st.a.bool,style:st.a.object,tabIndex:st.a.number,value:ct.value},kt.reduce(function(t,e){return t[e]=st.a.func,t},{})),De.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0}},,,function(t,e,n){"use strict";var r=n(148),o=n.n(r),i=n(1),a=n.n(i),s=n(2),u=n.n(s),c=n(10),l=n.n(c),f=n(23),h=n.n(f);function d(t){return"/"===t.charAt(0)}function p(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}var g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&d(t),i=e&&d(e),a=o||i;if(t&&d(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,l=r.length;l>=0;l--){var f=r[l];"."===f?p(r,l):".."===f?(p(r,l),c++):c&&(p(r,l),c--)}if(!a)for(;c--;c)r.unshift("..");!a||""===r[0]||r[0]&&d(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h};"function"===typeof Symbol&&Symbol.iterator;var y=function(t){return"/"===t.charAt(0)?t:"/"+t},v=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},m=function(t,e){return v(t,e)?t.substr(e.length):t},_=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},b=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o},A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(t,e,n,r){var o=void 0;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=A({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=g(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},k=function(){var t=null,e=[];return{setPrompt:function(e){return l()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,o){if(null!=t){var i="function"===typeof t?t(e,n):t;"string"===typeof i?"function"===typeof r?r(i,o):(l()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(t){var n=!0,r=function(){n&&t.apply(void 0,arguments)};return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}},E=!("undefined"===typeof window||!window.document||!window.document.createElement),S=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},x=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},I=function(t,e){return e(window.confirm(t))},C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){try{return window.history.state||{}}catch(t){return{}}},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h()(E,"Browser history needs a DOM");var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t.forceRefresh,i=void 0!==o&&o,a=t.getUserConfirmation,s=void 0===a?I:a,u=t.keyLength,c=void 0===u?6:u,f=t.basename?_(y(t.basename)):"",d=function(t){var e=t||{},n=e.key,r=e.state,o=window.location,i=o.pathname+o.search+o.hash;return l()(!f||v(i,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+f+'".'),f&&(i=m(i,f)),w(i,r,n)},p=function(){return Math.random().toString(36).substr(2,c)},g=k(),A=function(t){O(Q,t),Q.length=e.length,g.notifyListeners(Q.location,Q.action)},B=function(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||N(d(t.state))},j=function(){N(d(T()))},M=!1,N=function(t){M?(M=!1,A()):g.confirmTransitionTo(t,"POP",s,function(e){e?A({action:"POP",location:t}):D(t)})},D=function(t){var e=Q.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var o=n-r;o&&(M=!0,F(o))},L=d(T()),R=[L.key],P=function(t){return f+b(t)},F=function(t){e.go(t)},U=0,z=function(t){1===(U+=t)?(S(window,"popstate",B),r&&S(window,"hashchange",j)):0===U&&(x(window,"popstate",B),r&&x(window,"hashchange",j))},q=!1,Q={length:e.length,action:"POP",location:L,createHref:P,push:function(t,r){l()(!("object"===("undefined"===typeof t?"undefined":C(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=w(t,r,p(),Q.location);g.confirmTransitionTo(o,"PUSH",s,function(t){if(t){var r=P(o),a=o.key,s=o.state;if(n)if(e.pushState({key:a,state:s},null,r),i)window.location.href=r;else{var u=R.indexOf(Q.location.key),c=R.slice(0,-1===u?0:u+1);c.push(o.key),R=c,A({action:"PUSH",location:o})}else l()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(t,r){l()(!("object"===("undefined"===typeof t?"undefined":C(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=w(t,r,p(),Q.location);g.confirmTransitionTo(o,"REPLACE",s,function(t){if(t){var r=P(o),a=o.key,s=o.state;if(n)if(e.replaceState({key:a,state:s},null,r),i)window.location.replace(r);else{var u=R.indexOf(Q.location.key);-1!==u&&(R[u]=o.key),A({action:"REPLACE",location:o})}else l()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:F,goBack:function(){return F(-1)},goForward:function(){return F(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=g.setPrompt(t);return q||(z(1),q=!0),function(){return q&&(q=!1,z(-1)),e()}},listen:function(t){var e=g.appendListener(t);return z(1),function(){z(-1),e()}}};return Q},j=(Object.assign,"function"===typeof Symbol&&Symbol.iterator,Object.assign,n(29)),M=n.n(j),N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var L=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=D(this,t.call.apply(t,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},D(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:N({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;h()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){M()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?a.a.Children.only(t):null},e}(a.a.Component);L.propTypes={history:u.a.object.isRequired,children:u.a.node},L.contextTypes={router:u.a.object},L.childContextTypes={router:u.a.object.isRequired};var R=L;function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var F=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=P(this,t.call.apply(t,[this].concat(i))),r.history=B(r.props),P(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){o()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(R,{history:this.history,children:this.props.children})},e}(a.a.Component);F.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};e.a=F},function(t,e,n){"use strict";var r=n(29),o=n.n(r),i=n(23),a=n.n(i),s=n(1),u=n.n(s),c=n(2),l=n.n(c),f=n(149),h=n.n(f),d={},p=0,g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof e&&(e={path:e});var r=e,o=r.path,i=r.exact,a=void 0!==i&&i,s=r.strict,u=void 0!==s&&s,c=r.sensitive;if(null==o)return n;var l=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=d[n]||(d[n]={});if(r[t])return r[t];var o=[],i={re:h()(t,o,e),keys:o};return p<1e4&&(r[t]=i,p++),i}(o,{end:a,strict:u,sensitive:void 0!==c&&c}),f=l.re,g=l.keys,y=f.exec(t);if(!y)return null;var v=y[0],m=y.slice(1),_=t===v;return a&&!_?null:{path:o,url:"/"===o&&""===v?"/":v,isExact:_,params:g.reduce(function(t,e,n){return t[e.name]=m[n],t},{})}},y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var m=function(t){return 0===u.a.Children.count(t)},_=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=v(this,t.call.apply(t,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},v(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:y({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,o=t.path,i=t.strict,s=t.exact,u=t.sensitive;if(n)return n;a()(e,"You should not use <Route> or withRouter() outside a <Router>");var c=e.route,l=(r||c.location).pathname;return g(l,{path:o,strict:i,exact:s,sensitive:u},c.match)},e.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!m(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!m(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){o()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,o=e.render,i=this.context.router,a=i.history,s=i.route,c=i.staticContext,l={match:t,location:this.props.location||s.location,history:a,staticContext:c};return r?t?u.a.createElement(r,l):null:o?t?o(l):null:"function"===typeof n?n(l):n&&!m(n)?u.a.Children.only(n):null},e}(u.a.Component);_.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},_.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},_.childContextTypes={router:l.a.object.isRequired};var b=_;e.a=b}]]);
//# sourceMappingURL=1.0a00807d.chunk.js.map